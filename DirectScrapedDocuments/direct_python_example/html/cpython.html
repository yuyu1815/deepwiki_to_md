<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/569ce4b8f30dc480-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/93f479601ee12b01-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/f30152c0704fba31.css?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/69dc9a343a8d610c.css?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-acbbbb548492d4a6.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH"/><script src="/_next/static/chunks/4bd1b696-cebf68b71ed1e85d.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH" async=""></script><script src="/_next/static/chunks/1684-6bf7d92e9478c1cb.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH" async=""></script><script src="/_next/static/chunks/main-app-8ab5af3d6b81086e.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH" async=""></script><script src="/_next/static/chunks/b1298b8d-549c141f97a3b262.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH" async=""></script><script src="/_next/static/chunks/378e5a93-3b0f971d3611a8a5.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH" async=""></script><script src="/_next/static/chunks/f7f68e2d-40290491c524df5c.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH" async=""></script><script src="/_next/static/chunks/5009-cf1c1739f4eccbfa.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH" async=""></script><script src="/_next/static/chunks/3377-d302682beb4206f6.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH" async=""></script><script src="/_next/static/chunks/6671-b0da8a89e8d16b02.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH" async=""></script><script src="/_next/static/chunks/3852-f786c46570f1c37a.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH" async=""></script><script src="/_next/static/chunks/app/layout-069cb77866786652.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH" async=""></script><script src="/_next/static/chunks/c16f53c3-c80d3b6d0c4af7a0.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH" async=""></script><script src="/_next/static/chunks/537-d9d5e9261de3e69c.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH" async=""></script><script src="/_next/static/chunks/2136-0f8d797058c844d4.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH" async=""></script><script src="/_next/static/chunks/5217-9d83ca492e50c5ed.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH" async=""></script><script src="/_next/static/chunks/9514-78acba0a55208c16.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH" async=""></script><script src="/_next/static/chunks/168-d8e567d7acd9a9f8.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH" async=""></script><script src="/_next/static/chunks/5938-755c17b2f8b25b9d.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH" async=""></script><script src="/_next/static/chunks/7111-6aae15bf6bffbdb1.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH" async=""></script><script src="/_next/static/chunks/app/%5Borg%5D/%5Brepo%5D/%5B%5B...wikiRoutes%5D%5D/page-25509e5272dc1f93.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH" async=""></script><script src="/_next/static/chunks/7bf36345-20a79815585d2583.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH" async=""></script><script src="/_next/static/chunks/6422-90b4a59eb579f66b.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH" async=""></script><script src="/_next/static/chunks/5064-137f55ae34938805.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH" async=""></script><script src="/_next/static/chunks/3239-098acbc71a0d78b2.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH" async=""></script><script src="/_next/static/chunks/app/%5Borg%5D/%5Brepo%5D/layout-d98b8102d1f9bae6.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH" async=""></script><meta name="next-size-adjust" content=""/><title>python/cpython | DeepWiki</title><meta name="description" content="This document provides a high-level overview of the CPython codebase, explaining its architecture, main components, and execution flow. CPython is the reference implementation of the Python programmin"/><meta property="og:title" content="python/cpython | DeepWiki"/><meta property="og:description" content="This document provides a high-level overview of the CPython codebase, explaining its architecture, main components, and execution flow. CPython is the reference implementation of the Python programmin"/><meta property="og:url" content="https://deepwiki.com/python/cpython"/><meta property="og:site_name" content="DeepWiki"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="python/cpython | DeepWiki"/><meta name="twitter:description" content="This document provides a high-level overview of the CPython codebase, explaining its architecture, main components, and execution flow. CPython is the reference implementation of the Python programmin"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="48x48"/><link rel="icon" href="/icon.png?66aaf51e0e68c818" type="image/png" sizes="16x16"/><link rel="apple-touch-icon" href="/apple-icon.png?a4f658907db0ab87" type="image/png" sizes="180x180"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH" noModule=""></script></head><body class="__variable_5cfdac font-geist-sans relative min-h-screen __variable_9a8899 bg-background antialiased"><section aria-label="Notifications alt+T" tabindex="-1" aria-live="polite" aria-relevant="additions text" aria-atomic="false"></section><script>((e,t,r,n,a,o,i,s)=>{let u=document.documentElement,l=["light","dark"];function c(t){var r;(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,n=r&&o?a.map(e=>o[e]||e):a;r?(u.classList.remove(...n),u.classList.add(o&&o[t]?o[t]:t)):u.setAttribute(e,t)}),r=t,s&&l.includes(r)&&(u.style.colorScheme=r)}if(n)c(n);else try{let e=localStorage.getItem(t)||r,n=i&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;c(n)}catch(e){}})("class","theme","light",null,["light","dark"],null,true,true)</script><div class="flex min-h-screen w-full flex-col text-white" id="codebase-wiki-repo-page"><div class="bg-main border-b-border sticky top-0 z-30 border-b border-dashed"><div class="font-geist-mono relative flex h-8 items-center justify-center text-xs font-medium text-white sm:hidden"><div class="powered-by-devin-gradient absolute inset-0 z-[-1] h-8 w-full"></div><a target="_blank" rel="noopener noreferrer" class="flex items-center gap-2" href="https://devin.ai"><svg class="size-3 [&amp;_path]:stroke-0 [&amp;_path]:animate-[custom-pulse_1.8s_infinite_var(--delay,0s)]" xmlns="http://www.w3.org/2000/svg" viewBox="110 110 460 500"><path style="fill:#21c19a" class="[--delay:0.6s]" d="M418.73,332.37c9.84-5.68,22.07-5.68,31.91,0l25.49,14.71c.82.48,1.69.8,2.58,1.06.19.06.37.11.55.16.87.21,1.76.34,2.65.35.04,0,.08.02.13.02.1,0,.19-.03.29-.04.83-.02,1.64-.13,2.45-.32.14-.03.28-.05.42-.09.87-.24,1.7-.59,2.5-1.03.08-.04.17-.06.25-.1l50.97-29.43c3.65-2.11,5.9-6.01,5.9-10.22v-58.86c0-4.22-2.25-8.11-5.9-10.22l-50.97-29.43c-3.65-2.11-8.15-2.11-11.81,0l-50.97,29.43c-.08.04-.13.11-.2.16-.78.48-1.51,1.02-2.15,1.66-.1.1-.18.21-.28.31-.57.6-1.08,1.26-1.51,1.97-.07.12-.15.22-.22.34-.44.77-.77,1.6-1.03,2.47-.05.19-.1.37-.14.56-.22.89-.37,1.81-.37,2.76v29.43c0,11.36-6.11,21.95-15.95,27.63-9.84,5.68-22.06,5.68-31.91,0l-25.49-14.71c-.82-.48-1.69-.8-2.57-1.06-.19-.06-.37-.11-.56-.16-.88-.21-1.76-.34-2.65-.34-.13,0-.26.02-.4.02-.84.02-1.66.13-2.47.32-.13.03-.27.05-.4.09-.87.24-1.71.6-2.51,1.04-.08.04-.16.06-.24.1l-50.97,29.43c-3.65,2.11-5.9,6.01-5.9,10.22v58.86c0,4.22,2.25,8.11,5.9,10.22l50.97,29.43c.08.04.17.06.24.1.8.44,1.64.79,2.5,1.03.14.04.28.06.42.09.81.19,1.62.3,2.45.32.1,0,.19.04.29.04.04,0,.08-.02.13-.02.89,0,1.77-.13,2.65-.35.19-.04.37-.1.56-.16.88-.26,1.75-.59,2.58-1.06l25.49-14.71c9.84-5.68,22.06-5.68,31.91,0,9.84,5.68,15.95,16.27,15.95,27.63v29.43c0,.95.15,1.87.37,2.76.05.19.09.37.14.56.25.86.59,1.69,1.03,2.47.07.12.15.22.22.34.43.71.94,1.37,1.51,1.97.1.1.18.21.28.31.65.63,1.37,1.18,2.15,1.66.07.04.13.11.2.16l50.97,29.43c1.83,1.05,3.86,1.58,5.9,1.58s4.08-.53,5.9-1.58l50.97-29.43c3.65-2.11,5.9-6.01,5.9-10.22v-58.86c0-4.22-2.25-8.11-5.9-10.22l-50.97-29.43c-.08-.04-.16-.06-.24-.1-.8-.44-1.64-.8-2.51-1.04-.13-.04-.26-.05-.39-.09-.82-.2-1.65-.31-2.49-.33-.13,0-.25-.02-.38-.02-.89,0-1.78.13-2.66.35-.18.04-.36.1-.54.15-.88.26-1.75.59-2.58,1.07l-25.49,14.72c-9.84,5.68-22.07,5.68-31.9,0-9.84-5.68-15.95-16.27-15.95-27.63s6.11-21.95,15.95-27.63Z"></path><path style="fill:#3969ca" d="M141.09,317.65l50.97,29.43c1.83,1.05,3.86,1.58,5.9,1.58s4.08-.53,5.9-1.58l50.97-29.43c.08-.04.13-.11.2-.16.78-.48,1.51-1.02,2.15-1.66.1-.1.18-.21.28-.31.57-.6,1.08-1.26,1.51-1.97.07-.12.15-.22.22-.34.44-.77.77-1.6,1.03-2.47.05-.19.1-.37.14-.56.22-.89.37-1.81.37-2.76v-29.43c0-11.36,6.11-21.95,15.96-27.63s22.06-5.68,31.91,0l25.49,14.71c.82.48,1.69.8,2.57,1.06.19.06.37.11.56.16.87.21,1.76.34,2.64.35.04,0,.09.02.13.02.1,0,.19-.04.29-.04.83-.02,1.65-.13,2.45-.32.14-.03.28-.05.41-.09.87-.24,1.71-.6,2.51-1.04.08-.04.16-.06.24-.1l50.97-29.43c3.65-2.11,5.9-6.01,5.9-10.22v-58.86c0-4.22-2.25-8.11-5.9-10.22l-50.97-29.43c-3.65-2.11-8.15-2.11-11.81,0l-50.97,29.43c-.08.04-.13.11-.2.16-.78.48-1.51,1.02-2.15,1.66-.1.1-.18.21-.28.31-.57.6-1.08,1.26-1.51,1.97-.07.12-.15.22-.22.34-.44.77-.77,1.6-1.03,2.47-.05.19-.1.37-.14.56-.22.89-.37,1.81-.37,2.76v29.43c0,11.36-6.11,21.95-15.95,27.63-9.84,5.68-22.07,5.68-31.91,0l-25.49-14.71c-.82-.48-1.69-.8-2.58-1.06-.19-.06-.37-.11-.55-.16-.88-.21-1.76-.34-2.65-.35-.13,0-.26.02-.4.02-.83.02-1.66.13-2.47.32-.13.03-.27.05-.4.09-.87.24-1.71.6-2.51,1.04-.08.04-.16.06-.24.1l-50.97,29.43c-3.65,2.11-5.9,6.01-5.9,10.22v58.86c0,4.22,2.25,8.11,5.9,10.22Z"></path><path style="fill:#0294de" class="[--delay:1.2s]" d="M396.88,484.35l-50.97-29.43c-.08-.04-.17-.06-.24-.1-.8-.44-1.64-.79-2.51-1.03-.14-.04-.27-.06-.41-.09-.81-.19-1.64-.3-2.47-.32-.13,0-.26-.02-.39-.02-.89,0-1.78.13-2.66.35-.18.04-.36.1-.54.15-.88.26-1.76.59-2.58,1.07l-25.49,14.72c-9.84,5.68-22.06,5.68-31.9,0-9.84-5.68-15.96-16.27-15.96-27.63v-29.43c0-.95-.15-1.87-.37-2.76-.05-.19-.09-.37-.14-.56-.25-.86-.59-1.69-1.03-2.47-.07-.12-.15-.22-.22-.34-.43-.71-.94-1.37-1.51-1.97-.1-.1-.18-.21-.28-.31-.65-.63-1.37-1.18-2.15-1.66-.07-.04-.13-.11-.2-.16l-50.97-29.43c-3.65-2.11-8.15-2.11-11.81,0l-50.97,29.43c-3.65,2.11-5.9,6.01-5.9,10.22v58.86c0,4.22,2.25,8.11,5.9,10.22l50.97,29.43c.08.04.17.06.25.1.8.44,1.63.79,2.5,1.03.14.04.29.06.43.09.8.19,1.61.3,2.43.32.1,0,.2.04.3.04.04,0,.09-.02.13-.02.88,0,1.77-.13,2.64-.34.19-.04.37-.1.56-.16.88-.26,1.75-.59,2.57-1.06l25.49-14.71c9.84-5.68,22.06-5.68,31.91,0,9.84,5.68,15.95,16.27,15.95,27.63v29.43c0,.95.15,1.87.37,2.76.05.19.09.37.14.56.25.86.59,1.69,1.03,2.47.07.12.15.22.22.34.43.71.94,1.37,1.51,1.97.1.1.18.21.28.31.65.63,1.37,1.18,2.15,1.66.07.04.13.11.2.16l50.97,29.43c1.83,1.05,3.86,1.58,5.9,1.58s4.08-.53,5.9-1.58l50.97-29.43c3.65-2.11,5.9-6.01,5.9-10.22v-58.86c0-4.22-2.25-8.11-5.9-10.22Z"></path></svg>Powered by Devin</a></div><div class="container-wrapper"><div class="container mx-auto flex w-full flex-row items-center gap-2 py-4 md:py-6"><a class="flex items-center gap-3" href="/"><span class="text-base font-medium leading-none text-white md:text-lg hidden sm:block">DeepWiki</span></a><div class="flex-1"><div class="flex flex-col gap-1"><a class="block text-xs font-medium leading-none text-white sm:hidden md:text-lg" href="/">DeepWiki</a><p class="text-text-secondary text-sm font-normal leading-none md:text-lg"><a href="https://github.com/python/cpython" target="_blank" rel="noopener noreferrer" class="text-[#8f8f8f] transition-colors hover:text-black dark:hover:text-white">python/cpython</a></p></div></div><div class="flex items-center gap-4"><a href="https://devin.ai" target="_blank" rel="noopener noreferrer" class="group hidden items-center gap-1.5 md:flex"><div class="relative"><span class="text-xs font-light text-white/70 transition-colors group-hover:text-white">powered by</span><div class="absolute bottom-0 left-0 h-[1px] w-0 bg-black/30 transition-all duration-300 group-hover:w-full dark:bg-white/30"></div></div><div class="flex items-center gap-1 transition-transform duration-300 group-hover:translate-x-0.5"><svg class="size-4 transform transition-transform duration-700 group-hover:rotate-180 [&amp;_path]:stroke-0" xmlns="http://www.w3.org/2000/svg" viewBox="110 110 460 500"><path style="fill:#21c19a" class="" d="M418.73,332.37c9.84-5.68,22.07-5.68,31.91,0l25.49,14.71c.82.48,1.69.8,2.58,1.06.19.06.37.11.55.16.87.21,1.76.34,2.65.35.04,0,.08.02.13.02.1,0,.19-.03.29-.04.83-.02,1.64-.13,2.45-.32.14-.03.28-.05.42-.09.87-.24,1.7-.59,2.5-1.03.08-.04.17-.06.25-.1l50.97-29.43c3.65-2.11,5.9-6.01,5.9-10.22v-58.86c0-4.22-2.25-8.11-5.9-10.22l-50.97-29.43c-3.65-2.11-8.15-2.11-11.81,0l-50.97,29.43c-.08.04-.13.11-.2.16-.78.48-1.51,1.02-2.15,1.66-.1.1-.18.21-.28.31-.57.6-1.08,1.26-1.51,1.97-.07.12-.15.22-.22.34-.44.77-.77,1.6-1.03,2.47-.05.19-.1.37-.14.56-.22.89-.37,1.81-.37,2.76v29.43c0,11.36-6.11,21.95-15.95,27.63-9.84,5.68-22.06,5.68-31.91,0l-25.49-14.71c-.82-.48-1.69-.8-2.57-1.06-.19-.06-.37-.11-.56-.16-.88-.21-1.76-.34-2.65-.34-.13,0-.26.02-.4.02-.84.02-1.66.13-2.47.32-.13.03-.27.05-.4.09-.87.24-1.71.6-2.51,1.04-.08.04-.16.06-.24.1l-50.97,29.43c-3.65,2.11-5.9,6.01-5.9,10.22v58.86c0,4.22,2.25,8.11,5.9,10.22l50.97,29.43c.08.04.17.06.24.1.8.44,1.64.79,2.5,1.03.14.04.28.06.42.09.81.19,1.62.3,2.45.32.1,0,.19.04.29.04.04,0,.08-.02.13-.02.89,0,1.77-.13,2.65-.35.19-.04.37-.1.56-.16.88-.26,1.75-.59,2.58-1.06l25.49-14.71c9.84-5.68,22.06-5.68,31.91,0,9.84,5.68,15.95,16.27,15.95,27.63v29.43c0,.95.15,1.87.37,2.76.05.19.09.37.14.56.25.86.59,1.69,1.03,2.47.07.12.15.22.22.34.43.71.94,1.37,1.51,1.97.1.1.18.21.28.31.65.63,1.37,1.18,2.15,1.66.07.04.13.11.2.16l50.97,29.43c1.83,1.05,3.86,1.58,5.9,1.58s4.08-.53,5.9-1.58l50.97-29.43c3.65-2.11,5.9-6.01,5.9-10.22v-58.86c0-4.22-2.25-8.11-5.9-10.22l-50.97-29.43c-.08-.04-.16-.06-.24-.1-.8-.44-1.64-.8-2.51-1.04-.13-.04-.26-.05-.39-.09-.82-.2-1.65-.31-2.49-.33-.13,0-.25-.02-.38-.02-.89,0-1.78.13-2.66.35-.18.04-.36.1-.54.15-.88.26-1.75.59-2.58,1.07l-25.49,14.72c-9.84,5.68-22.07,5.68-31.9,0-9.84-5.68-15.95-16.27-15.95-27.63s6.11-21.95,15.95-27.63Z"></path><path style="fill:#3969ca" d="M141.09,317.65l50.97,29.43c1.83,1.05,3.86,1.58,5.9,1.58s4.08-.53,5.9-1.58l50.97-29.43c.08-.04.13-.11.2-.16.78-.48,1.51-1.02,2.15-1.66.1-.1.18-.21.28-.31.57-.6,1.08-1.26,1.51-1.97.07-.12.15-.22.22-.34.44-.77.77-1.6,1.03-2.47.05-.19.1-.37.14-.56.22-.89.37-1.81.37-2.76v-29.43c0-11.36,6.11-21.95,15.96-27.63s22.06-5.68,31.91,0l25.49,14.71c.82.48,1.69.8,2.57,1.06.19.06.37.11.56.16.87.21,1.76.34,2.64.35.04,0,.09.02.13.02.1,0,.19-.04.29-.04.83-.02,1.65-.13,2.45-.32.14-.03.28-.05.41-.09.87-.24,1.71-.6,2.51-1.04.08-.04.16-.06.24-.1l50.97-29.43c3.65-2.11,5.9-6.01,5.9-10.22v-58.86c0-4.22-2.25-8.11-5.9-10.22l-50.97-29.43c-3.65-2.11-8.15-2.11-11.81,0l-50.97,29.43c-.08.04-.13.11-.2.16-.78.48-1.51,1.02-2.15,1.66-.1.1-.18.21-.28.31-.57.6-1.08,1.26-1.51,1.97-.07.12-.15.22-.22.34-.44.77-.77,1.6-1.03,2.47-.05.19-.1.37-.14.56-.22.89-.37,1.81-.37,2.76v29.43c0,11.36-6.11,21.95-15.95,27.63-9.84,5.68-22.07,5.68-31.91,0l-25.49-14.71c-.82-.48-1.69-.8-2.58-1.06-.19-.06-.37-.11-.55-.16-.88-.21-1.76-.34-2.65-.35-.13,0-.26.02-.4.02-.83.02-1.66.13-2.47.32-.13.03-.27.05-.4.09-.87.24-1.71.6-2.51,1.04-.08.04-.16.06-.24.1l-50.97,29.43c-3.65,2.11-5.9,6.01-5.9,10.22v58.86c0,4.22,2.25,8.11,5.9,10.22Z"></path><path style="fill:#0294de" class="" d="M396.88,484.35l-50.97-29.43c-.08-.04-.17-.06-.24-.1-.8-.44-1.64-.79-2.51-1.03-.14-.04-.27-.06-.41-.09-.81-.19-1.64-.3-2.47-.32-.13,0-.26-.02-.39-.02-.89,0-1.78.13-2.66.35-.18.04-.36.1-.54.15-.88.26-1.76.59-2.58,1.07l-25.49,14.72c-9.84,5.68-22.06,5.68-31.9,0-9.84-5.68-15.96-16.27-15.96-27.63v-29.43c0-.95-.15-1.87-.37-2.76-.05-.19-.09-.37-.14-.56-.25-.86-.59-1.69-1.03-2.47-.07-.12-.15-.22-.22-.34-.43-.71-.94-1.37-1.51-1.97-.1-.1-.18-.21-.28-.31-.65-.63-1.37-1.18-2.15-1.66-.07-.04-.13-.11-.2-.16l-50.97-29.43c-3.65-2.11-8.15-2.11-11.81,0l-50.97,29.43c-3.65,2.11-5.9,6.01-5.9,10.22v58.86c0,4.22,2.25,8.11,5.9,10.22l50.97,29.43c.08.04.17.06.25.1.8.44,1.63.79,2.5,1.03.14.04.29.06.43.09.8.19,1.61.3,2.43.32.1,0,.2.04.3.04.04,0,.09-.02.13-.02.88,0,1.77-.13,2.64-.34.19-.04.37-.1.56-.16.88-.26,1.75-.59,2.57-1.06l25.49-14.71c9.84-5.68,22.06-5.68,31.91,0,9.84,5.68,15.95,16.27,15.95,27.63v29.43c0,.95.15,1.87.37,2.76.05.19.09.37.14.56.25.86.59,1.69,1.03,2.47.07.12.15.22.22.34.43.71.94,1.37,1.51,1.97.1.1.18.21.28.31.65.63,1.37,1.18,2.15,1.66.07.04.13.11.2.16l50.97,29.43c1.83,1.05,3.86,1.58,5.9,1.58s4.08-.53,5.9-1.58l50.97-29.43c3.65-2.11,5.9-6.01,5.9-10.22v-58.86c0-4.22-2.25-8.11-5.9-10.22Z"></path></svg><span class="text-sm font-medium text-white">Devin</span></div></a><button class="border-border bg-surface hover:border-border-hover hover:bg-component ml-auto flex cursor-pointer items-center gap-1.5 rounded-md border px-3 py-1.5 text-sm font-medium text-white transition-all" aria-label="Share"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4"><circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line></svg><span>Share</span></button><div class="h-8 w-8"></div></div></div></div></div><!--$--><div class="w-full flex-1"><div class="container-wrapper relative mx-auto h-full px-0"><div class="container relative mx-auto flex h-full w-full flex-col gap-0 max-md:!px-0 md:flex-row md:gap-6 lg:gap-10"><div class="border-r-border hidden max-h-screen border-r border-dashed py-7 pr-4 transition-[border-radius] md:sticky md:left-0 md:top-20 md:block md:h-[calc(100vh-82px)] md:w-64 md:flex-shrink-0 md:overflow-y-auto lg:py-9 xl:w-72"><div class="flex h-full w-full max-w-full flex-shrink-0 flex-col overflow-hidden" style="scrollbar-color:var(--color-border) transparent"><div class="flex-shrink-0 px-2"><div class="text-secondary pb-1 text-xs">Last updated: <!-- -->18 April 2025<!-- --> (<!-- -->ea23c8<!-- -->)</div></div><ul class="flex-1 flex-shrink-0 space-y-1 overflow-y-auto py-1" style="scrollbar-width:none"><li style="padding-left:0"><a data-selected="true" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="/python/cpython/1-overview">Overview</a></li><li style="padding-left:0"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="/python/cpython/2-code-execution-pipeline">Code Execution Pipeline</a></li><li style="padding-left:12px"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="/python/cpython/2.1-bytecode-interpreter-and-optimization">Bytecode Interpreter and Optimization</a></li><li style="padding-left:12px"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="/python/cpython/2.2-compilation-pipeline">Compilation Pipeline</a></li><li style="padding-left:0"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="/python/cpython/3-object-system-and-memory-management">Object System and Memory Management</a></li><li style="padding-left:12px"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="/python/cpython/3.1-pyobject-and-type-system">PyObject and Type System</a></li><li style="padding-left:12px"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="/python/cpython/3.2-garbage-collection">Garbage Collection</a></li><li style="padding-left:12px"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="/python/cpython/3.3-type-hinting-system">Type Hinting System</a></li><li style="padding-left:0"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="/python/cpython/4-runtime-and-thread-management">Runtime and Thread Management</a></li><li style="padding-left:12px"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="/python/cpython/4.1-interpreter-state-and-gil">Interpreter State and GIL</a></li><li style="padding-left:12px"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="/python/cpython/4.2-free-threading-and-concurrency">Free-Threading and Concurrency</a></li><li style="padding-left:0"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="/python/cpython/5-extension-development-and-c-api">Extension Development and C API</a></li><li style="padding-left:12px"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="/python/cpython/5.1-stable-abi">Stable ABI</a></li><li style="padding-left:12px"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="/python/cpython/5.2-argument-clinic">Argument Clinic</a></li><li style="padding-left:12px"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="/python/cpython/5.3-c-extension-testing">C Extension Testing</a></li><li style="padding-left:0"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="/python/cpython/6-build-system">Build System</a></li><li style="padding-left:12px"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="/python/cpython/6.1-configuration-process">Configuration Process</a></li><li style="padding-left:12px"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="/python/cpython/6.2-cicd-pipeline">CI/CD Pipeline</a></li><li style="padding-left:0"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="/python/cpython/7-standard-library-highlights">Standard Library Highlights</a></li><li style="padding-left:12px"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="/python/cpython/7.1-pathlib-and-glob">Pathlib and Glob</a></li><li style="padding-left:12px"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="/python/cpython/7.2-os-and-file-system-access">OS and File System Access</a></li><li style="padding-left:0"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="/python/cpython/8-development-tools">Development Tools</a></li><li style="padding-left:12px"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="/python/cpython/8.1-regression-test-framework">Regression Test Framework</a></li><li style="padding-left:12px"><a data-selected="false" class="hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal" href="/python/cpython/8.2-version-history-and-evolution">Version History and Evolution</a></li></ul></div></div><div class="flex h-full flex-1 flex-col overflow-hidden"><div class="bg-main border-b-border sticky top-0 z-10 border-b border-dashed md:hidden"><div class="flex cursor-pointer items-center gap-2 p-3"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="transition-transform"><path d="M184.49,136.49l-80,80a12,12,0,0,1-17-17L159,128,87.51,56.49a12,12,0,1,1,17-17l80,80A12,12,0,0,1,184.49,136.49Z"></path></svg><span class="truncate text-base font-normal">Menu</span></div></div><div class="relative flex-1 overflow-y-auto px-3 pt-3 md:rounded-md md:px-0 md:pt-0 [&amp;_::selection]:bg-purple-500/40" style="scrollbar-color:var(--color-night) transparent"><div class="pb-30 mx-auto max-w-2xl md:pb-40 md:pt-6 lg:pt-8"><div class="prose prose-invert dark:prose-invert prose-headings:text-inherit prose-p:text-inherit max-w-none"><div><div class="prose-custom prose-custom-md prose-custom-gray !max-w-none text-neutral-300 [overflow-wrap:anywhere]"><h1 id="overview" class="group flex items-center" data-header="true">Overview<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h1>
<details>
<summary>Relevant source files</summary>
<p>The following files were used as context for generating this wiki page:</p>
<ul>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Doc/library/gc.rst" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Doc/library/gc.rst</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Doc/library/sys.rst" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Doc/library/sys.rst</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Include/cpython/code.h" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Include/cpython/code.h</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Include/cpython/object.h" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Include/cpython/object.h</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Include/cpython/pystate.h" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Include/cpython/pystate.h</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Include/internal/pycore_ceval.h" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Include/internal/pycore_ceval.h</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Include/internal/pycore_ceval_state.h" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Include/internal/pycore_ceval_state.h</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Include/internal/pycore_compile.h" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Include/internal/pycore_compile.h</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Include/internal/pycore_dict.h" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Include/internal/pycore_dict.h</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Include/internal/pycore_flowgraph.h" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Include/internal/pycore_flowgraph.h</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Include/internal/pycore_gc.h" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Include/internal/pycore_gc.h</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Include/internal/pycore_instruments.h" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Include/internal/pycore_instruments.h</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Include/internal/pycore_interp.h" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Include/internal/pycore_interp.h</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Include/internal/pycore_magic_number.h" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Include/internal/pycore_magic_number.h</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Include/internal/pycore_object.h" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Include/internal/pycore_object.h</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Include/internal/pycore_opcode_metadata.h" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Include/internal/pycore_opcode_metadata.h</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Include/internal/pycore_optimizer.h" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Include/internal/pycore_optimizer.h</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Include/internal/pycore_pystate.h" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Include/internal/pycore_pystate.h</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Include/internal/pycore_runtime.h" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Include/internal/pycore_runtime.h</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Include/internal/pycore_runtime_init.h" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Include/internal/pycore_runtime_init.h</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Include/internal/pycore_signal.h" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Include/internal/pycore_signal.h</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Include/internal/pycore_symtable.h" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Include/internal/pycore_symtable.h</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Include/internal/pycore_tstate.h" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Include/internal/pycore_tstate.h</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Include/internal/pycore_typeobject.h" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Include/internal/pycore_typeobject.h</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Include/internal/pycore_uop_ids.h" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Include/internal/pycore_uop_ids.h</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Include/internal/pycore_uop_metadata.h" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Include/internal/pycore_uop_metadata.h</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Include/intrcheck.h" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Include/intrcheck.h</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Lib/test/test_capi/test_opt.py" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Lib/test/test_capi/test_opt.py</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Lib/test/test_compile.py" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Lib/test/test_compile.py</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Lib/test/test_dictcomps.py" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Lib/test/test_dictcomps.py</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Lib/test/test_gc.py" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Lib/test/test_gc.py</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Lib/test/test_generated_cases.py" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Lib/test/test_generated_cases.py</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Lib/test/test_iter.py" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Lib/test/test_iter.py</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Lib/test/test_listcomps.py" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Lib/test/test_listcomps.py</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Lib/test/test_monitoring.py" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Lib/test/test_monitoring.py</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Lib/test/test_peepholer.py" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Lib/test/test_peepholer.py</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Lib/test/test_setcomps.py" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Lib/test/test_setcomps.py</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Lib/test/test_structseq.py" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Lib/test/test_structseq.py</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Lib/test/test_sys.py" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Lib/test/test_sys.py</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Modules/clinic/gcmodule.c.h" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Modules/clinic/gcmodule.c.h</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Modules/gcmodule.c" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Modules/gcmodule.c</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Modules/signalmodule.c" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Modules/signalmodule.c</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Objects/dictobject.c" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Objects/dictobject.c</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Objects/object.c" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Objects/object.c</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Objects/structseq.c" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Objects/structseq.c</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Objects/typeobject.c" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Objects/typeobject.c</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Python/assemble.c" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/assemble.c</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Python/bytecodes.c" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/bytecodes.c</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Python/ceval.c" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/ceval.c</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Python/ceval_gil.c" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/ceval_gil.c</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Python/ceval_macros.h" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/ceval_macros.h</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Python/clinic/sysmodule.c.h" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/clinic/sysmodule.c.h</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Python/codegen.c" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/codegen.c</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Python/compile.c" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/compile.c</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Python/executor_cases.c.h" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/executor_cases.c.h</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Python/flowgraph.c" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/flowgraph.c</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Python/gc.c" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/gc.c</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Python/gc_free_threading.c" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/gc_free_threading.c</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Python/generated_cases.c.h" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/generated_cases.c.h</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Python/instrumentation.c" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/instrumentation.c</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Python/optimizer.c" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/optimizer.c</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Python/optimizer_analysis.c" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/optimizer_analysis.c</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Python/optimizer_bytecodes.c" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/optimizer_bytecodes.c</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Python/optimizer_cases.c.h" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/optimizer_cases.c.h</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Python/optimizer_symbols.c" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/optimizer_symbols.c</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Python/pylifecycle.c" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/pylifecycle.c</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Python/pystate.c" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/pystate.c</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Python/symtable.c" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/symtable.c</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Python/sysmodule.c" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/sysmodule.c</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Tools/cases_generator/analyzer.py" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Tools/cases_generator/analyzer.py</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Tools/cases_generator/generators_common.py" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Tools/cases_generator/generators_common.py</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Tools/cases_generator/optimizer_generator.py" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Tools/cases_generator/optimizer_generator.py</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Tools/cases_generator/stack.py" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Tools/cases_generator/stack.py</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Tools/cases_generator/tier1_generator.py" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Tools/cases_generator/tier1_generator.py</span></a></li>
<li><a href="https://github.com/python/cpython/blob/ea23c897/Tools/cases_generator/tier2_generator.py" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Tools/cases_generator/tier2_generator.py</span></a></li>
</ul>
</details>
<p>This document provides a high-level overview of the CPython codebase, explaining its architecture, main components, and execution flow. CPython is the reference implementation of the Python programming language, written primarily in C. This overview helps developers understand how different parts of the interpreter work together to execute Python code.</p>
<h2 id="cpython-architecture" class="group flex items-center" data-header="true">CPython Architecture<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h2>
<p>CPython is organized into several major subsystems that work together to parse, compile, and execute Python code. The following diagram illustrates the high-level architecture:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--></pre>
<p>Sources: <a href="https://github.com/python/cpython/blob/ea23c897/Python/bytecodes.c#L1-L33" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/bytecodes.c</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">1-33</span></a>(line numbers), <a href="https://github.com/python/cpython/blob/ea23c897/Python/ceval.c#L1-L50" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/ceval.c</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">1-50</span></a> <a href="https://github.com/python/cpython/blob/ea23c897/Objects/object.c#L1-L30" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Objects/object.c</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">1-30</span></a> <a href="https://github.com/python/cpython/blob/ea23c897/Python/pystate.c#L52-L70" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/pystate.c</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">52-70</span></a> <a href="https://github.com/python/cpython/blob/ea23c897/Python/compile.c#L1-L15" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/compile.c</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">1-15</span></a></p>
<h2 id="execution-pipeline" class="group flex items-center" data-header="true">Execution Pipeline<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h2>
<p>Python code goes through several stages from source text to execution. Understanding this pipeline is fundamental to comprehending how Python works under the hood.</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--></pre>
<p>When you run a Python program, the code follows this path:</p>
<ol>
<li><strong>Parsing</strong>: Source code is parsed into an Abstract Syntax Tree (AST)</li>
<li><strong>Compilation</strong>: The AST is analyzed to create symbol tables and then compiled into bytecode</li>
<li><strong>Execution</strong>: The bytecode is executed by the interpreter, which has two tiers:
<ul>
<li><strong>Tier 1</strong>: Direct bytecode interpretation with specialized variants</li>
<li><strong>Tier 2</strong>: Trace-based optimizer that converts bytecode to micro-operations for faster execution</li>
</ul>
</li>
</ol>
<p>Sources: <a href="https://github.com/python/cpython/blob/ea23c897/Python/compile.c#L1-L15" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/compile.c</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">1-15</span></a> <a href="https://github.com/python/cpython/blob/ea23c897/Python/flowgraph.c#L1-L50" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/flowgraph.c</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">1-50</span></a> <a href="https://github.com/python/cpython/blob/ea23c897/Python/bytecodes.c#L145-L200" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/bytecodes.c</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">145-200</span></a> <a href="https://github.com/python/cpython/blob/ea23c897/Python/generated_cases.c.h#L1-L30" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/generated_cases.c.h</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">1-30</span></a> <a href="https://github.com/python/cpython/blob/ea23c897/Python/optimizer.c#L103-L155" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/optimizer.c</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">103-155</span></a> <a href="https://github.com/python/cpython/blob/ea23c897/Python/executor_cases.c.h#L1-L30" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/executor_cases.c.h</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">1-30</span></a></p>
<h2 id="object-system-and-memory-management" class="group flex items-center" data-header="true">Object System and Memory Management<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h2>
<p>Python&#x27;s object system is the foundation of the language. Everything in Python is an object, managed by CPython&#x27;s memory management system.</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--></pre>
<p>Key features of CPython&#x27;s object system:</p>
<ul>
<li><strong>PyObject</strong>: Common base structure for all Python objects with reference count and type information</li>
<li><strong>Reference Counting</strong>: Primary memory management mechanism (Py_INCREF/Py_DECREF)</li>
<li><strong>Garbage Collection</strong>: Handles cyclic references that reference counting can&#x27;t clean up</li>
<li><strong>Type System</strong>: Defines behavior of objects, with PyTypeObject storing methods and attributes</li>
</ul>
<p>Sources: <a href="https://github.com/python/cpython/blob/ea23c897/Objects/object.c#L42-L100" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Objects/object.c</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">42-100</span></a> <a href="https://github.com/python/cpython/blob/ea23c897/Include/internal/pycore_object.h#L20-L100" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Include/internal/pycore_object.h</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">20-100</span></a> <a href="https://github.com/python/cpython/blob/ea23c897/Objects/typeobject.c#L1-L50" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Objects/typeobject.c</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">1-50</span></a> <a href="https://github.com/python/cpython/blob/ea23c897/Python/gc_free_threading.c#L1-L30" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/gc_free_threading.c</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">1-30</span></a></p>
<h2 id="bytecode-execution-and-interpretation" class="group flex items-center" data-header="true">Bytecode Execution and Interpretation<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h2>
<p>CPython executes Python code by interpreting bytecode instructions. The instruction execution loop is a core part of the interpreter.</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--></pre>
<p>CPython uses a two-tier execution system:</p>
<ol>
<li>
<p><strong>Tier 1</strong>: A direct bytecode interpreter that handles all Python bytecode instructions</p>
<ul>
<li>Implements specialized versions of common operations for improved performance</li>
<li>Uses a dispatch loop to fetch, decode, and execute instructions</li>
</ul>
</li>
<li>
<p><strong>Tier 2</strong>: A trace-based optimizer that converts bytecode to micro-operations (UOps)</p>
<ul>
<li>Activated for hot code paths to improve performance</li>
<li>Transforms bytecode sequences into optimized micro-operation sequences</li>
<li>Can specialize code based on observed types and patterns</li>
</ul>
</li>
</ol>
<p>Sources: <a href="https://github.com/python/cpython/blob/ea23c897/Python/ceval.c#L500-L550" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/ceval.c</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">500-550</span></a> <a href="https://github.com/python/cpython/blob/ea23c897/Python/bytecodes.c#L145-L300" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/bytecodes.c</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">145-300</span></a> <a href="https://github.com/python/cpython/blob/ea23c897/Python/generated_cases.c.h#L20-L100" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/generated_cases.c.h</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">20-100</span></a> <a href="https://github.com/python/cpython/blob/ea23c897/Python/optimizer.c#L103-L155" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/optimizer.c</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">103-155</span></a> <a href="https://github.com/python/cpython/blob/ea23c897/Python/optimizer_bytecodes.c#L1-L50" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/optimizer_bytecodes.c</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">1-50</span></a></p>
<h2 id="global-interpreter-lock-gil" class="group flex items-center" data-header="true">Global Interpreter Lock (GIL)<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h2>
<p>The Global Interpreter Lock (GIL) is a mutex that protects access to Python objects, preventing multiple threads from executing Python bytecode at the same time.</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--></pre>
<p>Key aspects of the GIL:</p>
<ul>
<li>Only one thread can execute Python bytecode at a time</li>
<li>The GIL is released periodically during long-running operations</li>
<li>I/O operations generally release the GIL</li>
<li>CPython 3.13+ has an experimental &quot;--disable-gil&quot; mode for true parallelism</li>
</ul>
<p>Sources: <a href="https://github.com/python/cpython/blob/ea23c897/Python/ceval.c#L350-L450" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/ceval.c</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">350-450</span></a> <a href="https://github.com/python/cpython/blob/ea23c897/Python/pystate.c#L350-L430" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/pystate.c</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">350-430</span></a></p>
<h2 id="extension-and-c-api" class="group flex items-center" data-header="true">Extension and C API<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h2>
<p>CPython provides a C API that allows developers to extend Python with modules written in C and to embed Python in other applications.</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--></pre>
<p>The C API provides functions for:</p>
<ul>
<li>Creating and managing Python objects</li>
<li>Defining new types and modules</li>
<li>Converting between C and Python data types</li>
<li>Calling Python functions from C</li>
<li>Error handling and exceptions</li>
</ul>
<p>Sources: <a href="https://github.com/python/cpython/blob/ea23c897/Include/internal/pycore_object.h#L20-L100" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Include/internal/pycore_object.h</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">20-100</span></a> <a href="https://github.com/python/cpython/blob/ea23c897/Objects/typeobject.c#L90-L150" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Objects/typeobject.c</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">90-150</span></a> <a href="https://github.com/python/cpython/blob/ea23c897/Objects/object.c#L42-L100" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Objects/object.c</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">42-100</span></a></p>
<h2 id="compilation-process" class="group flex items-center" data-header="true">Compilation Process<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h2>
<p>Python source code goes through multiple stages of compilation before execution.</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--></pre>
<p>The compilation process includes:</p>
<ol>
<li><strong>Tokenizing</strong>: Breaking the source code into tokens</li>
<li><strong>Parsing</strong>: Converting tokens into an Abstract Syntax Tree (AST)</li>
<li><strong>Symbol Table</strong>: Creating symbol tables for variable scope resolution</li>
<li><strong>Code Generation</strong>: Converting the AST to bytecode</li>
<li><strong>Optimization</strong>: Optimizing the bytecode for better performance</li>
</ol>
<p>Sources: <a href="https://github.com/python/cpython/blob/ea23c897/Python/compile.c#L1-L50" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/compile.c</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">1-50</span></a> <a href="https://github.com/python/cpython/blob/ea23c897/Python/symtable.c#L1-L50" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/symtable.c</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">1-50</span></a> <a href="https://github.com/python/cpython/blob/ea23c897/Python/flowgraph.c#L1-L50" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/flowgraph.c</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">1-50</span></a></p>
<h2 id="runtime-and-interpreter-state" class="group flex items-center" data-header="true">Runtime and Interpreter State<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h2>
<p>CPython maintains various state structures to manage the execution environment.</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--></pre>
<p>The key state structures are:</p>
<ul>
<li><strong>_PyRuntimeState</strong>: Global state for the entire Python process</li>
<li><strong>PyInterpreterState</strong>: State for each Python interpreter instance</li>
<li><strong>PyThreadState</strong>: Thread-local state for each thread executing Python code</li>
<li><strong>_PyInterpreterFrame</strong>: Execution frame for the current function call</li>
</ul>
<p>Sources: <a href="https://github.com/python/cpython/blob/ea23c897/Python/pystate.c#L50-L200" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/pystate.c</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">50-200</span></a> <a href="https://github.com/python/cpython/blob/ea23c897/Include/internal/pycore_interp.h#L1-L30" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Include/internal/pycore_interp.h</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">1-30</span></a> <a href="https://github.com/python/cpython/blob/ea23c897/Python/pylifecycle.c#L1-L50" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/pylifecycle.c</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">1-50</span></a></p>
<h2 id="standard-library-integration" class="group flex items-center" data-header="true">Standard Library Integration<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h2>
<p>The Python standard library is tightly integrated with the core interpreter, with some modules implemented in C for performance.</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--></pre>
<p>Key aspects of standard library integration:</p>
<ul>
<li>Core modules like <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">sys</code> provide access to interpreter internals</li>
<li>Some modules have C implementations for performance</li>
<li>The <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">importlib</code> module handles the import system</li>
<li>Standard library functionality is exposed through well-defined APIs</li>
</ul>
<p>Sources: <a href="https://github.com/python/cpython/blob/ea23c897/Python/sysmodule.c#L1-L50" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/sysmodule.c</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">1-50</span></a> <a href="https://github.com/python/cpython/blob/ea23c897/Python/import.c#L1-L50" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>Python/import.c</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">1-50</span></a></p>
<h2 id="conclusion" class="group flex items-center" data-header="true">Conclusion<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h2>
<p>CPython is a complex system with multiple components working together to provide the Python programming experience. The code execution pipeline transforms Python source code into bytecode, which is then executed by the interpreter. The object system and memory management ensure efficient handling of Python objects. The GIL manages thread synchronization, while the C API enables extension development.</p>
<p>Understanding these core components provides a solid foundation for diving deeper into specific parts of the CPython codebase and for contributing to its development.</p>
<p>For more detailed information about specific components, see:</p>
<ul>
<li><a href="/python/cpython/2-code-execution-pipeline" class="text-neutral-300 hover:text-neutral-200 hover:underline">Code Execution Pipeline</a></li>
<li><a href="/python/cpython/3-object-system-and-memory-management" class="text-neutral-300 hover:text-neutral-200 hover:underline">Object System and Memory Management</a></li>
<li><a href="/python/cpython/4-runtime-and-thread-management" class="text-neutral-300 hover:text-neutral-200 hover:underline">Runtime and Thread Management</a></li>
<li><a href="/python/cpython/5-extension-development-and-c-api" class="text-neutral-300 hover:text-neutral-200 hover:underline">Extension Development and C API</a></li>
<li><a href="/python/cpython/6-build-system" class="text-neutral-300 hover:text-neutral-200 hover:underline">Build System</a></li>
</ul></div></div></div></div></div></div><div class="hidden overflow-hidden transition-[border-radius] xl:sticky xl:right-0 xl:top-20 xl:block xl:h-[calc(100vh-82px)] xl:w-64 xl:flex-shrink-0 2xl:w-72" style="scrollbar-width:none"><div class="flex max-h-full w-full flex-shrink-0 flex-col py-6 pt-0 text-sm lg:pb-4 lg:pt-8 xl:w-64 2xl:w-72" style="scrollbar-color:var(--color-night) transparent"><div><div class="mx-4 mb-3 rounded-md border border-neutral-200 bg-neutral-100 p-3 text-sm text-neutral-600 dark:border-neutral-800 dark:bg-neutral-900 dark:text-neutral-400"><p class="text-sm font-medium">Try DeepWiki on your private codebase with<!-- --> <a href="/private-repo" class="text-pacific hover:underline">Devin</a></p></div></div><h3 class="px-4 pb-5 text-lg font-medium leading-none">On this page</h3><ul style="scrollbar-width:none" class="min-h-0 flex-1 space-y-3 overflow-y-auto p-4 pt-0"><li class=""><a href="#overview" class="hover:text-primary pr-1 transition-all text-primary font-medium">Overview</a></li><li class="ml-3"><a href="#cpython-architecture" class="hover:text-primary pr-1 font-normal transition-all text-secondary">CPython Architecture</a></li><li class="ml-3"><a href="#execution-pipeline" class="hover:text-primary pr-1 font-normal transition-all text-secondary">Execution Pipeline</a></li><li class="ml-3"><a href="#object-system-and-memory-management" class="hover:text-primary pr-1 font-normal transition-all text-secondary">Object System and Memory Management</a></li><li class="ml-3"><a href="#bytecode-execution-and-interpretation" class="hover:text-primary pr-1 font-normal transition-all text-secondary">Bytecode Execution and Interpretation</a></li><li class="ml-3"><a href="#global-interpreter-lock-gil" class="hover:text-primary pr-1 font-normal transition-all text-secondary">Global Interpreter Lock (GIL)</a></li><li class="ml-3"><a href="#extension-and-c-api" class="hover:text-primary pr-1 font-normal transition-all text-secondary">Extension and C API</a></li><li class="ml-3"><a href="#compilation-process" class="hover:text-primary pr-1 font-normal transition-all text-secondary">Compilation Process</a></li><li class="ml-3"><a href="#runtime-and-interpreter-state" class="hover:text-primary pr-1 font-normal transition-all text-secondary">Runtime and Interpreter State</a></li><li class="ml-3"><a href="#standard-library-integration" class="hover:text-primary pr-1 font-normal transition-all text-secondary">Standard Library Integration</a></li><li class="ml-3"><a href="#conclusion" class="hover:text-primary pr-1 font-normal transition-all text-secondary">Conclusion</a></li></ul></div></div><div class="pointer-events-none fixed bottom-2 left-2 right-2 mt-2 md:bottom-4 md:left-0 md:right-0"><div class="z-10 mx-auto max-w-3xl"><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--></div></div></div></div></div><!--/$--></div><script src="/_next/static/chunks/webpack-acbbbb548492d4a6.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[54276,[\"9453\",\"static/chunks/b1298b8d-549c141f97a3b262.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"8970\",\"static/chunks/378e5a93-3b0f971d3611a8a5.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"1585\",\"static/chunks/f7f68e2d-40290491c524df5c.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"5009\",\"static/chunks/5009-cf1c1739f4eccbfa.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"3377\",\"static/chunks/3377-d302682beb4206f6.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"6671\",\"static/chunks/6671-b0da8a89e8d16b02.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"3852\",\"static/chunks/3852-f786c46570f1c37a.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"7177\",\"static/chunks/app/layout-069cb77866786652.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\"],\"RootProvider\"]\n3:I[87555,[],\"\"]\n4:I[31295,[],\"\"]\n6:I[90894,[],\"ClientPageRoot\"]\n7:I[87667,[\"9453\",\"static/chunks/b1298b8d-549c141f97a3b262.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"8970\",\"static/chunks/378e5a93-3b0f971d3611a8a5.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"1585\",\"static/chunks/f7f68e2d-40290491c524df5c.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"2545\",\"static/chunks/c16f53c3-c80d3b6d0c4af7a0.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"537\",\"static/chunks/537-d9d5e9261de3e69c.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"5009\",\"static/chunks/5009-cf1c1739f4eccbfa.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"3377\",\"static/chunks/3377-d302682beb4206f6.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"2136\",\"static/chunks/2136-0f8d797058c844d4.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"6671\",\"static/chunks/6671-b0da8a89e8d16b02.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"5217\",\"static/chunks/5217-9d83ca492e50c5ed.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"9514\",\"static/chunks/9514-78acba0a55208c16.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"168\",\"static/chunks/168-d8e567d7acd9a9f8.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"5938\",\"static/chunks/5938-755c17b2f8b25b9d.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"7111\",\"static/chunks/7111-6aae15bf6bffbdb1.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"3285\",\"static/chunks/a"])</script><script>self.__next_f.push([1,"pp/%5Borg%5D/%5Brepo%5D/%5B%5B...wikiRoutes%5D%5D/page-25509e5272dc1f93.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\"],\"default\"]\na:I[59665,[],\"OutletBoundary\"]\nd:I[59665,[],\"ViewportBoundary\"]\nf:I[59665,[],\"MetadataBoundary\"]\n11:I[26614,[],\"\"]\n:HL[\"/_next/static/media/569ce4b8f30dc480-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/93f479601ee12b01-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/f30152c0704fba31.css?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"style\"]\n:HL[\"/_next/static/css/69dc9a343a8d610c.css?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"e5kxxiZUYhUhY690n1QD4\",\"p\":\"\",\"c\":[\"\",\"python\",\"cpython\",\"\"],\"i\":false,\"f\":[[[\"\",{\"children\":[[\"org\",\"python\",\"d\"],{\"children\":[[\"repo\",\"cpython\",\"d\"],{\"children\":[[\"wikiRoutes\",\"\",\"oc\"],{\"children\":[\"__PAGE__\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/f30152c0704fba31.css?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/69dc9a343a8d610c.css?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"head\",null,{}],[\"$\",\"body\",null,{\"className\":\"__variable_5cfdac font-geist-sans relative min-h-screen __variable_9a8899 bg-background antialiased\",\"children\":[\"$\",\"$L2\",null,{\"children\":[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]]}]]}],{\"children\":[[\"org\",\"python\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"repo\",\"cpython\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,\"$L5\"]}],{\"children\":[[\"wikiRoutes\",\"\",\"oc\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[[\"$\",\"$L6\",null,{\"Component\":\"$7\",\"searchParams\":{},\"params\":{\"org\":\"python\",\"repo\":\"cpython\"},\"promises\":[\"$@8\",\"$@9\"]}],\"$undefined\",null,[\"$\",\"$La\",null,{\"children\":[\"$Lb\",\"$Lc\",null]}]]}],{},null,false]},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"8XSzHSj9QNT3T9vmZta2_\",{\"children\":[[\"$\",\"$Ld\",null,{\"children\":\"$Le\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],[\"$\",\"$Lf\",null,{\"children\":\"$L10\"}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$11\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"12:I[93691,[\"9453\",\"static/chunks/b1298b8d-549c141f97a3b262.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"8970\",\"static/chunks/378e5a93-3b0f971d3611a8a5.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"1585\",\"static/chunks/f7f68e2d-40290491c524df5c.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"4129\",\"static/chunks/7bf36345-20a79815585d2583.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"537\",\"static/chunks/537-d9d5e9261de3e69c.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"5009\",\"static/chunks/5009-cf1c1739f4eccbfa.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"3377\",\"static/chunks/3377-d302682beb4206f6.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"2136\",\"static/chunks/2136-0f8d797058c844d4.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"6671\",\"static/chunks/6671-b0da8a89e8d16b02.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"5217\",\"static/chunks/5217-9d83ca492e50c5ed.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"9514\",\"static/chunks/9514-78acba0a55208c16.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"6422\",\"static/chunks/6422-90b4a59eb579f66b.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"5064\",\"static/chunks/5064-137f55ae34938805.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"3239\",\"static/chunks/3239-098acbc71a0d78b2.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"2933\",\"static/chunks/app/%5Borg%5D/%5Brepo%5D/layout-d98b8102d1f9bae6.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\"],\"CodebaseWikiHeader\"]\n13:I[6874,[\"9453\",\"static/chunks/b1298b8d-549c141f97a3b262.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"8970\",\"static/chunks/378e5a93-3b0f971d3611a8a5.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"1585\",\"static/chunks/f7f68e2d-40290491c524df5c.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"4129\",\"static/chunks/7bf36345-20a79815585d2583.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"537\",\"static/chunks/537-d9d5e9261de3e69c.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"5009\",\"static/chunks/5009-cf1c1739f4eccbfa.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"3377\",\"static/chunks/3377-d302682beb4206f6.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"2136\",\"static/chunks/2136-0f8d797058c844d4.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHA"])</script><script>self.__next_f.push([1,"o3NNdH\",\"6671\",\"static/chunks/6671-b0da8a89e8d16b02.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"5217\",\"static/chunks/5217-9d83ca492e50c5ed.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"9514\",\"static/chunks/9514-78acba0a55208c16.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"6422\",\"static/chunks/6422-90b4a59eb579f66b.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"5064\",\"static/chunks/5064-137f55ae34938805.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"3239\",\"static/chunks/3239-098acbc71a0d78b2.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"2933\",\"static/chunks/app/%5Borg%5D/%5Brepo%5D/layout-d98b8102d1f9bae6.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\"],\"\"]\n14:\"$Sreact.suspense\"\n15:I[67807,[\"9453\",\"static/chunks/b1298b8d-549c141f97a3b262.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"8970\",\"static/chunks/378e5a93-3b0f971d3611a8a5.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"1585\",\"static/chunks/f7f68e2d-40290491c524df5c.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"4129\",\"static/chunks/7bf36345-20a79815585d2583.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"537\",\"static/chunks/537-d9d5e9261de3e69c.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"5009\",\"static/chunks/5009-cf1c1739f4eccbfa.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"3377\",\"static/chunks/3377-d302682beb4206f6.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"2136\",\"static/chunks/2136-0f8d797058c844d4.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"6671\",\"static/chunks/6671-b0da8a89e8d16b02.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"5217\",\"static/chunks/5217-9d83ca492e50c5ed.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"9514\",\"static/chunks/9514-78acba0a55208c16.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"6422\",\"static/chunks/6422-90b4a59eb579f66b.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"5064\",\"static/chunks/5064-137f55ae34938805.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"3239\",\"static/chunks/3239-098acbc71a0d78b2.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"2933\",\"static/chunks/app/%5Borg%5D/%5Brepo%5D/layout-d98b8102d1f9bae6.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\"],\"ShinyText\"]\n8:{}\n9:{\"org\":\"python\",\"repo\":\"cpython\"}\n5:[\"$\",\""])</script><script>self.__next_f.push([1,"div\",null,{\"className\":\"flex min-h-screen w-full flex-col text-white\",\"id\":\"codebase-wiki-repo-page\",\"children\":[[\"$\",\"$L12\",null,{\"hideOnSm\":true,\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-col gap-1\",\"children\":[[\"$\",\"$L13\",null,{\"href\":\"/\",\"className\":\"block text-xs font-medium leading-none text-white sm:hidden md:text-lg\",\"children\":\"DeepWiki\"}],[\"$\",\"p\",null,{\"className\":\"text-text-secondary text-sm font-normal leading-none md:text-lg\",\"children\":[\"$\",\"a\",null,{\"href\":\"https://github.com/python/cpython\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"className\":\"text-[#8f8f8f] transition-colors hover:text-black dark:hover:text-white\",\"children\":\"python/cpython\"}]}]]}]}],[\"$\",\"$14\",null,{\"fallback\":[\"$\",\"div\",null,{\"className\":\"container-wrapper flex flex-1 items-center justify-center px-4\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"text-center text-lg\",\"text\":\"Loading python/cpython...\",\"speed\":1}]}],\"children\":\"$L16\"}]]}]\n"])</script><script>self.__next_f.push([1,"e:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\nb:null\n"])</script><script>self.__next_f.push([1,"17:I[60168,[\"9453\",\"static/chunks/b1298b8d-549c141f97a3b262.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"8970\",\"static/chunks/378e5a93-3b0f971d3611a8a5.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"1585\",\"static/chunks/f7f68e2d-40290491c524df5c.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"4129\",\"static/chunks/7bf36345-20a79815585d2583.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"537\",\"static/chunks/537-d9d5e9261de3e69c.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"5009\",\"static/chunks/5009-cf1c1739f4eccbfa.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"3377\",\"static/chunks/3377-d302682beb4206f6.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"2136\",\"static/chunks/2136-0f8d797058c844d4.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"6671\",\"static/chunks/6671-b0da8a89e8d16b02.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"5217\",\"static/chunks/5217-9d83ca492e50c5ed.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"9514\",\"static/chunks/9514-78acba0a55208c16.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"6422\",\"static/chunks/6422-90b4a59eb579f66b.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"5064\",\"static/chunks/5064-137f55ae34938805.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"3239\",\"static/chunks/3239-098acbc71a0d78b2.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\",\"2933\",\"static/chunks/app/%5Borg%5D/%5Brepo%5D/layout-d98b8102d1f9bae6.js?dpl=dpl_FhUiusEoodFgjHKGcDyrHAo3NNdH\"],\"WikiLayout\"]\n18:T47ac,"])</script><script>self.__next_f.push([1,"# Overview\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [Doc/library/gc.rst](Doc/library/gc.rst)\n- [Doc/library/sys.rst](Doc/library/sys.rst)\n- [Include/cpython/code.h](Include/cpython/code.h)\n- [Include/cpython/object.h](Include/cpython/object.h)\n- [Include/cpython/pystate.h](Include/cpython/pystate.h)\n- [Include/internal/pycore_ceval.h](Include/internal/pycore_ceval.h)\n- [Include/internal/pycore_ceval_state.h](Include/internal/pycore_ceval_state.h)\n- [Include/internal/pycore_compile.h](Include/internal/pycore_compile.h)\n- [Include/internal/pycore_dict.h](Include/internal/pycore_dict.h)\n- [Include/internal/pycore_flowgraph.h](Include/internal/pycore_flowgraph.h)\n- [Include/internal/pycore_gc.h](Include/internal/pycore_gc.h)\n- [Include/internal/pycore_instruments.h](Include/internal/pycore_instruments.h)\n- [Include/internal/pycore_interp.h](Include/internal/pycore_interp.h)\n- [Include/internal/pycore_magic_number.h](Include/internal/pycore_magic_number.h)\n- [Include/internal/pycore_object.h](Include/internal/pycore_object.h)\n- [Include/internal/pycore_opcode_metadata.h](Include/internal/pycore_opcode_metadata.h)\n- [Include/internal/pycore_optimizer.h](Include/internal/pycore_optimizer.h)\n- [Include/internal/pycore_pystate.h](Include/internal/pycore_pystate.h)\n- [Include/internal/pycore_runtime.h](Include/internal/pycore_runtime.h)\n- [Include/internal/pycore_runtime_init.h](Include/internal/pycore_runtime_init.h)\n- [Include/internal/pycore_signal.h](Include/internal/pycore_signal.h)\n- [Include/internal/pycore_symtable.h](Include/internal/pycore_symtable.h)\n- [Include/internal/pycore_tstate.h](Include/internal/pycore_tstate.h)\n- [Include/internal/pycore_typeobject.h](Include/internal/pycore_typeobject.h)\n- [Include/internal/pycore_uop_ids.h](Include/internal/pycore_uop_ids.h)\n- [Include/internal/pycore_uop_metadata.h](Include/internal/pycore_uop_metadata.h)\n- [Include/intrcheck.h](Include/intrcheck.h)\n- [Lib/test/test_capi/test_opt.py](Lib/test/test_capi/test_opt.py)\n- [Lib/test/test_compile.py](Lib/test/test_compile.py)\n- [Lib/test/test_dictcomps.py](Lib/test/test_dictcomps.py)\n- [Lib/test/test_gc.py](Lib/test/test_gc.py)\n- [Lib/test/test_generated_cases.py](Lib/test/test_generated_cases.py)\n- [Lib/test/test_iter.py](Lib/test/test_iter.py)\n- [Lib/test/test_listcomps.py](Lib/test/test_listcomps.py)\n- [Lib/test/test_monitoring.py](Lib/test/test_monitoring.py)\n- [Lib/test/test_peepholer.py](Lib/test/test_peepholer.py)\n- [Lib/test/test_setcomps.py](Lib/test/test_setcomps.py)\n- [Lib/test/test_structseq.py](Lib/test/test_structseq.py)\n- [Lib/test/test_sys.py](Lib/test/test_sys.py)\n- [Modules/clinic/gcmodule.c.h](Modules/clinic/gcmodule.c.h)\n- [Modules/gcmodule.c](Modules/gcmodule.c)\n- [Modules/signalmodule.c](Modules/signalmodule.c)\n- [Objects/dictobject.c](Objects/dictobject.c)\n- [Objects/object.c](Objects/object.c)\n- [Objects/structseq.c](Objects/structseq.c)\n- [Objects/typeobject.c](Objects/typeobject.c)\n- [Python/assemble.c](Python/assemble.c)\n- [Python/bytecodes.c](Python/bytecodes.c)\n- [Python/ceval.c](Python/ceval.c)\n- [Python/ceval_gil.c](Python/ceval_gil.c)\n- [Python/ceval_macros.h](Python/ceval_macros.h)\n- [Python/clinic/sysmodule.c.h](Python/clinic/sysmodule.c.h)\n- [Python/codegen.c](Python/codegen.c)\n- [Python/compile.c](Python/compile.c)\n- [Python/executor_cases.c.h](Python/executor_cases.c.h)\n- [Python/flowgraph.c](Python/flowgraph.c)\n- [Python/gc.c](Python/gc.c)\n- [Python/gc_free_threading.c](Python/gc_free_threading.c)\n- [Python/generated_cases.c.h](Python/generated_cases.c.h)\n- [Python/instrumentation.c](Python/instrumentation.c)\n- [Python/optimizer.c](Python/optimizer.c)\n- [Python/optimizer_analysis.c](Python/optimizer_analysis.c)\n- [Python/optimizer_bytecodes.c](Python/optimizer_bytecodes.c)\n- [Python/optimizer_cases.c.h](Python/optimizer_cases.c.h)\n- [Python/optimizer_symbols.c](Python/optimizer_symbols.c)\n- [Python/pylifecycle.c](Python/pylifecycle.c)\n- [Python/pystate.c](Python/pystate.c)\n- [Python/symtable.c](Python/symtable.c)\n- [Python/sysmodule.c](Python/sysmodule.c)\n- [Tools/cases_generator/analyzer.py](Tools/cases_generator/analyzer.py)\n- [Tools/cases_generator/generators_common.py](Tools/cases_generator/generators_common.py)\n- [Tools/cases_generator/optimizer_generator.py](Tools/cases_generator/optimizer_generator.py)\n- [Tools/cases_generator/stack.py](Tools/cases_generator/stack.py)\n- [Tools/cases_generator/tier1_generator.py](Tools/cases_generator/tier1_generator.py)\n- [Tools/cases_generator/tier2_generator.py](Tools/cases_generator/tier2_generator.py)\n\n\u003c/details\u003e\n\n\n\nThis document provides a high-level overview of the CPython codebase, explaining its architecture, main components, and execution flow. CPython is the reference implementation of the Python programming language, written primarily in C. This overview helps developers understand how different parts of the interpreter work together to execute Python code.\n\n## CPython Architecture\n\nCPython is organized into several major subsystems that work together to parse, compile, and execute Python code. The following diagram illustrates the high-level architecture:\n\n```mermaid\nflowchart TD\n    subgraph \"Runtime Core\"\n        Runtime[\"Python Runtime\\n_PyRuntimeState\"]\n        GIL[\"Global Interpreter Lock\"]\n        Interp[\"Interpreter State\\nPyInterpreterState\"]\n        Thread[\"Thread State\\nPyThreadState\"]\n        Objects[\"Object System\\nPyObject, PyTypeObject\"]\n        GC[\"Garbage Collection\"]\n    end\n\n    subgraph \"Code Execution Pipeline\"\n        Parser[\"Parser\"] --\u003e AST[\"Abstract Syntax Tree\"]\n        AST --\u003e Compiler[\"Compiler\\n_PyAST_Compile\"]\n        Compiler --\u003e SymTable[\"Symbol Table\\nPySTEntryObject\"]\n        Compiler --\u003e CodeGen[\"Code Generation\"]\n        CodeGen --\u003e BytecodeOpt[\"Bytecode Optimization\"]\n        BytecodeOpt --\u003e CodeObj[\"Code Object\\nPyCodeObject\"]\n        CodeObj --\u003e Interpreter[\"Bytecode Interpreter\"]\n        Interpreter --\u003e T1[\"Tier 1: Specialized Bytecodes\"]\n        Interpreter --\u003e T2[\"Tier 2: Optimizer\"]\n        T2 --\u003e Uops[\"Micro-operations\"]\n        T2 --\u003e JIT[\"Experimental JIT\\n(Python 3.13+)\"]\n    end\n\n    subgraph \"Infrastructure\"\n        BuildSys[\"Build System\\nautoconf, cmake\"]\n        ExtensionAPI[\"Extension API\\nC API, Stable ABI\"]\n        StdLib[\"Standard Library\"]\n    end\n\n    Runtime --\u003e Interp\n    Interp --\u003e Thread\n    Thread --\u003e GIL\n    Thread --\u003e Interpreter\n    Objects \u003c--\u003e GC\n    ExtensionAPI --\u003e Objects\n    T1 --\u003e Objects\n    T2 --\u003e Objects\n```\n\nSources: [Python/bytecodes.c:1-33]()(line numbers), [Python/ceval.c:1-50](), [Objects/object.c:1-30](), [Python/pystate.c:52-70](), [Python/compile.c:1-15]()\n\n## Execution Pipeline\n\nPython code goes through several stages from source text to execution. Understanding this pipeline is fundamental to comprehending how Python works under the hood.\n\n```mermaid\nflowchart LR\n    Source[\"Python Source\\nCode\"] --\u003e Parser[\"Parser\"]\n    Parser --\u003e AST[\"Abstract Syntax Tree\\n(AST)\"]\n    AST --\u003e SymTable[\"Symbol Table\\nsymtable.c\"]\n    AST --\u003e Compiler[\"AST Compiler\\ncompile.c\"]\n    SymTable --\u003e Compiler\n    Compiler --\u003e CFG[\"Control Flow Graph\\nflowgraph.c\"]\n    CFG --\u003e BytecodeOpt[\"Bytecode Optimization\"]\n    BytecodeOpt --\u003e CodeObj[\"Code Object\\nPyCodeObject\"]\n    \n    CodeObj --\u003e EvalFrame[\"Frame Evaluation\\nceval.c\"]\n    EvalFrame --\u003e Tier1[\"Tier 1 Interpreter\\ngenerated_cases.c.h\"]\n    EvalFrame --\u003e Tier2[\"Tier 2 Optimizer\\noptimizer.c\"]\n    Tier1 --\u003e VM[\"VM Execution\"]\n    Tier2 --\u003e Uops[\"Micro-operations\\n(UOps)\"]\n    Uops --\u003e Executor[\"Executor Object\"]\n    Executor --\u003e VM\n```\n\nWhen you run a Python program, the code follows this path:\n\n1. **Parsing**: Source code is parsed into an Abstract Syntax Tree (AST)\n2. **Compilation**: The AST is analyzed to create symbol tables and then compiled into bytecode\n3. **Execution**: The bytecode is executed by the interpreter, which has two tiers:\n   - **Tier 1**: Direct bytecode interpretation with specialized variants\n   - **Tier 2**: Trace-based optimizer that converts bytecode to micro-operations for faster execution\n\nSources: [Python/compile.c:1-15](), [Python/flowgraph.c:1-50](), [Python/bytecodes.c:145-200](), [Python/generated_cases.c.h:1-30](), [Python/optimizer.c:103-155](), [Python/executor_cases.c.h:1-30]()\n\n## Object System and Memory Management\n\nPython's object system is the foundation of the language. Everything in Python is an object, managed by CPython's memory management system.\n\n```mermaid\nflowchart TD\n    subgraph \"Memory Management\"\n        PyMem[\"Memory Allocator\\nPyMem_Malloc\"]\n        RefCount[\"Reference Counting\\nPy_INCREF/DECREF\"]\n        GC[\"Garbage Collection\\n_PyGC_Collect\"]\n    end\n    \n    subgraph \"Object System\"\n        PyObject[\"PyObject\\n(Base for all objects)\"]\n        PyType[\"PyTypeObject\\n(Type metadata)\"]\n        PyDict[\"Dictionary\\nPyDictObject\"]\n        PyList[\"List\\nPyListObject\"]\n        PyTuple[\"Tuple\\nPyTupleObject\"]\n        PyLong[\"Integer\\nPyLongObject\"]\n        PyUnicode[\"String\\nPyUnicodeObject\"]\n    end\n    \n    subgraph \"State Management\"\n        PyRuntime[\"_PyRuntimeState\\n(Global state)\"]\n        PyInterp[\"PyInterpreterState\\n(Per-interpreter)\"]\n        PyThread[\"PyThreadState\\n(Thread-local)\"]\n        GIL[\"Global Interpreter Lock\"]\n        FreeThread[\"Free-Threading Mode\\n(--disable-gil)\"]\n    end\n    \n    PyMem --\u003e PyObject\n    PyObject --\u003e RefCount\n    RefCount --\u003e GC\n    \n    PyObject --\u003e PyType\n    PyType --\u003e PyObject\n    PyObject --\u003e PyDict\n    PyObject --\u003e PyList\n    PyObject --\u003e PyTuple\n    PyObject --\u003e PyLong\n    PyObject --\u003e PyUnicode\n    \n    PyRuntime --\u003e PyInterp\n    PyInterp --\u003e PyThread\n    PyThread --\u003e GIL\n    PyThread -.-\u003e FreeThread\n```\n\nKey features of CPython's object system:\n\n- **PyObject**: Common base structure for all Python objects with reference count and type information\n- **Reference Counting**: Primary memory management mechanism (Py_INCREF/Py_DECREF)\n- **Garbage Collection**: Handles cyclic references that reference counting can't clean up\n- **Type System**: Defines behavior of objects, with PyTypeObject storing methods and attributes\n\nSources: [Objects/object.c:42-100](), [Include/internal/pycore_object.h:20-100](), [Objects/typeobject.c:1-50](), [Python/gc_free_threading.c:1-30]()\n\n## Bytecode Execution and Interpretation\n\nCPython executes Python code by interpreting bytecode instructions. The instruction execution loop is a core part of the interpreter.\n\n```mermaid\nflowchart LR\n    CodeObj[\"PyCodeObject\\n(Bytecode)\"] --\u003e FrameObj[\"Python Frame\\n_PyInterpreterFrame\"]\n    FrameObj --\u003e EvalLoop[\"Evaluation Loop\\n_PyEval_EvalFrameDefault\"]\n    \n    subgraph \"Tier 1 (Bytecode Interpreter)\"\n        EvalLoop --\u003e Dispatch[\"Instruction Dispatch\\nTARGET macros\"]\n        Dispatch --\u003e Execute[\"Execute Instruction\"]\n        Execute --\u003e NextInstr[\"Move to Next Instruction\"]\n        NextInstr --\u003e Dispatch\n    end\n    \n    subgraph \"Tier 2 (Optimizer)\"\n        EvalLoop --\u003e Optimize[\"Optimizer\\n_PyOptimizer_Optimize\"]\n        Optimize --\u003e Analyze[\"Analyze Bytecode\"]\n        Analyze --\u003e Transform[\"Transform to UOps\"]\n        Transform --\u003e Executor[\"UOp Executor\\n_PyUOpExecutor_Type\"]\n        Executor --\u003e Execute\n    end\n```\n\nCPython uses a two-tier execution system:\n\n1. **Tier 1**: A direct bytecode interpreter that handles all Python bytecode instructions\n   - Implements specialized versions of common operations for improved performance\n   - Uses a dispatch loop to fetch, decode, and execute instructions\n\n2. **Tier 2**: A trace-based optimizer that converts bytecode to micro-operations (UOps)\n   - Activated for hot code paths to improve performance\n   - Transforms bytecode sequences into optimized micro-operation sequences\n   - Can specialize code based on observed types and patterns\n\nSources: [Python/ceval.c:500-550](), [Python/bytecodes.c:145-300](), [Python/generated_cases.c.h:20-100](), [Python/optimizer.c:103-155](), [Python/optimizer_bytecodes.c:1-50]()\n\n## Global Interpreter Lock (GIL)\n\nThe Global Interpreter Lock (GIL) is a mutex that protects access to Python objects, preventing multiple threads from executing Python bytecode at the same time.\n\n```mermaid\nflowchart TD\n    Thread1[\"Python Thread 1\"] --\u003e|\"Acquire GIL\"| GIL[\"Global Interpreter Lock\\n(mutex)\"]\n    Thread2[\"Python Thread 2\"] --\u003e|\"Wait for GIL\"| GIL\n    GIL --\u003e|\"Release periodically\"| Thread2\n    GIL --\u003e|\"Execute bytecode\"| Interpreter[\"Bytecode Interpreter\"]\n    \n    subgraph \"Free-Threading Mode (Experimental)\"\n        Thread3[\"Python Thread 3\"] --\u003e|\"No GIL\"| Interpreter2[\"Thread-Safe Interpreter\"]\n        Thread4[\"Python Thread 4\"] --\u003e|\"No GIL\"| Interpreter2\n    end\n```\n\nKey aspects of the GIL:\n\n- Only one thread can execute Python bytecode at a time\n- The GIL is released periodically during long-running operations\n- I/O operations generally release the GIL\n- CPython 3.13+ has an experimental \"--disable-gil\" mode for true parallelism\n\nSources: [Python/ceval.c:350-450](), [Python/pystate.c:350-430]()\n\n## Extension and C API\n\nCPython provides a C API that allows developers to extend Python with modules written in C and to embed Python in other applications.\n\n```mermaid\nflowchart TD\n    subgraph \"C API Layers\"\n        CAPI[\"C API\\n(Include/)\"]\n        InternalAPI[\"Internal API\\n(Include/internal/)\"]\n        StableABI[\"Stable ABI\\n(stable_abi.toml)\"]\n        LimitedAPI[\"Limited API\\n(Py_LIMITED_API)\"]\n    end\n    \n    subgraph \"Extension Module Development\"\n        PyModule[\"Module Creation\\nPyModule_Create\"]\n        PyType[\"Type Creation\\nPyType_FromSpec\"]\n        ArgParse[\"Argument Parsing\\nPyArg_ParseTuple\"]\n        ArgClinic[\"Argument Clinic\\nTools/clinic/\"]\n    end\n    \n    CAPI --\u003e PyModule\n    CAPI --\u003e PyType\n    CAPI --\u003e ArgParse\n    InternalAPI -.-\u003e CAPI\n    StableABI --\u003e LimitedAPI\n    ArgClinic --\u003e ArgParse\n```\n\nThe C API provides functions for:\n\n- Creating and managing Python objects\n- Defining new types and modules\n- Converting between C and Python data types\n- Calling Python functions from C\n- Error handling and exceptions\n\nSources: [Include/internal/pycore_object.h:20-100](), [Objects/typeobject.c:90-150](), [Objects/object.c:42-100]()\n\n## Compilation Process\n\nPython source code goes through multiple stages of compilation before execution.\n\n```mermaid\nflowchart TD\n    Source[\"Python Source\"] --\u003e Tokenize[\"Tokenizer\\nlexer.py\"]\n    Tokenize --\u003e Parse[\"Parser\\nparser.py\"]\n    Parse --\u003e AST[\"AST Generation\\nast.py\"]\n    AST --\u003e SymTable[\"Symbol Table\\nsymtable.c\"]\n    AST --\u003e Compile[\"Compiler\\ncompile.c\"]\n    SymTable --\u003e Compile\n    Compile --\u003e CFG[\"Control Flow Graph\\nflowgraph.c\"]\n    CFG --\u003e Assemble[\"Assembler\"]\n    Assemble --\u003e CodeObj[\"Code Object\\nPyCodeObject\"]\n    CodeObj --\u003e Interpret[\"Interpreter\\nceval.c\"]\n```\n\nThe compilation process includes:\n\n1. **Tokenizing**: Breaking the source code into tokens\n2. **Parsing**: Converting tokens into an Abstract Syntax Tree (AST)\n3. **Symbol Table**: Creating symbol tables for variable scope resolution\n4. **Code Generation**: Converting the AST to bytecode\n5. **Optimization**: Optimizing the bytecode for better performance\n\nSources: [Python/compile.c:1-50](), [Python/symtable.c:1-50](), [Python/flowgraph.c:1-50]()\n\n## Runtime and Interpreter State\n\nCPython maintains various state structures to manage the execution environment.\n\n```mermaid\nflowchart TD\n    PyRuntime[\"_PyRuntimeState\\n(Global singleton)\"] --\u003e PyInterp[\"PyInterpreterState\\n(Per interpreter)\"]\n    PyInterp --\u003e PyThread[\"PyThreadState\\n(Per thread)\"]\n    PyThread --\u003e Frame[\"_PyInterpreterFrame\\n(Current frame)\"]\n    \n    PyRuntime --\u003e GlobalConfig[\"Global Configuration\"]\n    PyRuntime --\u003e SignalHandlers[\"Signal Handlers\"]\n    \n    PyInterp --\u003e Modules[\"Module Dictionary\"]\n    PyInterp --\u003e Builtins[\"Builtin Objects\"]\n    PyInterp --\u003e ImportSystem[\"Import System\"]\n    \n    PyThread --\u003e CurrentFrame[\"Current Frame\"]\n    PyThread --\u003e ExceptionState[\"Exception State\"]\n    PyThread --\u003e RecursionDepth[\"Recursion Depth\"]\n```\n\nThe key state structures are:\n\n- **_PyRuntimeState**: Global state for the entire Python process\n- **PyInterpreterState**: State for each Python interpreter instance\n- **PyThreadState**: Thread-local state for each thread executing Python code\n- **_PyInterpreterFrame**: Execution frame for the current function call\n\nSources: [Python/pystate.c:50-200](), [Include/internal/pycore_interp.h:1-30](), [Python/pylifecycle.c:1-50]()\n\n## Standard Library Integration\n\nThe Python standard library is tightly integrated with the core interpreter, with some modules implemented in C for performance.\n\n```mermaid\nflowchart LR\n    Interpreter[\"CPython Interpreter\"] --\u003e CoreModules[\"Core C Modules\\n(sys, gc, etc.)\"]\n    Interpreter --\u003e PythonModules[\"Pure Python Modules\"]\n    \n    CoreModules --\u003e SysModule[\"sys module\\nsysmodule.c\"]\n    CoreModules --\u003e GCModule[\"gc module\\ngcmodule.c\"]\n    CoreModules --\u003e IOModule[\"io module\\n_iomodule.c\"]\n    \n    PythonModules --\u003e StdLib[\"Standard Library\\n(/Lib)\"]\n    StdLib --\u003e ImportLib[\"importlib\"]\n    StdLib --\u003e Typing[\"typing\"]\n    StdLib --\u003e Asyncio[\"asyncio\"]\n```\n\nKey aspects of standard library integration:\n\n- Core modules like `sys` provide access to interpreter internals\n- Some modules have C implementations for performance\n- The `importlib` module handles the import system\n- Standard library functionality is exposed through well-defined APIs\n\nSources: [Python/sysmodule.c:1-50](), [Python/import.c:1-50]()\n\n## Conclusion\n\nCPython is a complex system with multiple components working together to provide the Python programming experience. The code execution pipeline transforms Python source code into bytecode, which is then executed by the interpreter. The object system and memory management ensure efficient handling of Python objects. The GIL manages thread synchronization, while the C API enables extension development.\n\nUnderstanding these core components provides a solid foundation for diving deeper into specific parts of the CPython codebase and for contributing to its development.\n\nFor more detailed information about specific components, see:\n- [Code Execution Pipeline](#2)\n- [Object System and Memory Management](#3)\n- [Runtime and Thread Management](#4)\n- [Extension Development and C API](#5)\n- [Build System](#6)"])</script><script>self.__next_f.push([1,"19:T3a12,"])</script><script>self.__next_f.push([1,"# Code Execution Pipeline\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [Include/cpython/code.h](Include/cpython/code.h)\n- [Include/internal/pycore_compile.h](Include/internal/pycore_compile.h)\n- [Include/internal/pycore_flowgraph.h](Include/internal/pycore_flowgraph.h)\n- [Include/internal/pycore_instruments.h](Include/internal/pycore_instruments.h)\n- [Include/internal/pycore_magic_number.h](Include/internal/pycore_magic_number.h)\n- [Include/internal/pycore_opcode_metadata.h](Include/internal/pycore_opcode_metadata.h)\n- [Include/internal/pycore_optimizer.h](Include/internal/pycore_optimizer.h)\n- [Include/internal/pycore_symtable.h](Include/internal/pycore_symtable.h)\n- [Include/internal/pycore_uop_ids.h](Include/internal/pycore_uop_ids.h)\n- [Include/internal/pycore_uop_metadata.h](Include/internal/pycore_uop_metadata.h)\n- [Lib/test/test_capi/test_opt.py](Lib/test/test_capi/test_opt.py)\n- [Lib/test/test_compile.py](Lib/test/test_compile.py)\n- [Lib/test/test_dictcomps.py](Lib/test/test_dictcomps.py)\n- [Lib/test/test_generated_cases.py](Lib/test/test_generated_cases.py)\n- [Lib/test/test_iter.py](Lib/test/test_iter.py)\n- [Lib/test/test_listcomps.py](Lib/test/test_listcomps.py)\n- [Lib/test/test_monitoring.py](Lib/test/test_monitoring.py)\n- [Lib/test/test_peepholer.py](Lib/test/test_peepholer.py)\n- [Lib/test/test_setcomps.py](Lib/test/test_setcomps.py)\n- [Python/assemble.c](Python/assemble.c)\n- [Python/bytecodes.c](Python/bytecodes.c)\n- [Python/ceval.c](Python/ceval.c)\n- [Python/ceval_macros.h](Python/ceval_macros.h)\n- [Python/codegen.c](Python/codegen.c)\n- [Python/compile.c](Python/compile.c)\n- [Python/executor_cases.c.h](Python/executor_cases.c.h)\n- [Python/flowgraph.c](Python/flowgraph.c)\n- [Python/generated_cases.c.h](Python/generated_cases.c.h)\n- [Python/instrumentation.c](Python/instrumentation.c)\n- [Python/optimizer.c](Python/optimizer.c)\n- [Python/optimizer_analysis.c](Python/optimizer_analysis.c)\n- [Python/optimizer_bytecodes.c](Python/optimizer_bytecodes.c)\n- [Python/optimizer_cases.c.h](Python/optimizer_cases.c.h)\n- [Python/optimizer_symbols.c](Python/optimizer_symbols.c)\n- [Python/symtable.c](Python/symtable.c)\n- [Tools/cases_generator/analyzer.py](Tools/cases_generator/analyzer.py)\n- [Tools/cases_generator/generators_common.py](Tools/cases_generator/generators_common.py)\n- [Tools/cases_generator/optimizer_generator.py](Tools/cases_generator/optimizer_generator.py)\n- [Tools/cases_generator/stack.py](Tools/cases_generator/stack.py)\n- [Tools/cases_generator/tier1_generator.py](Tools/cases_generator/tier1_generator.py)\n- [Tools/cases_generator/tier2_generator.py](Tools/cases_generator/tier2_generator.py)\n\n\u003c/details\u003e\n\n\n\nThis document provides a comprehensive overview of CPython's code execution pipeline - the process by which Python source code is transformed into executable instructions and subsequently executed. The pipeline encompasses parsing, compilation, optimization, and execution phases that work together to run Python programs efficiently.\n\nFor implementation details on specific stages of the pipeline, see [Compilation Pipeline](#2.2), [Bytecode Interpreter and Optimization](#2.1).\n\n## High-Level Overview\n\nThe CPython code execution pipeline consists of several stages that transform Python source code into running software:\n\n```mermaid\nflowchart LR\n    subgraph \"Source to Bytecode\"\n        Source[\"Python Source\"] --\u003e Parser[\"Parser\"]\n        Parser --\u003e AST[\"Abstract Syntax Tree\"]\n        AST --\u003e SymTable[\"Symbol Table Generation\\n(symtable.c)\"]\n        AST --\u003e Compiler[\"AST Compiler\\n(compile.c)\"]\n        SymTable --\u003e Compiler\n        Compiler --\u003e CFG[\"Control Flow Graph\\n(flowgraph.c)\"]\n        CFG --\u003e Optimize[\"Bytecode Optimization\"]\n        Optimize --\u003e CodeObj[\"Code Object\\n(PyCodeObject)\"]\n    end\n    \n    subgraph \"Bytecode Execution\"\n        CodeObj --\u003e EvalFrame[\"Frame Evaluation\\n(Python/ceval.c)\"]\n        EvalFrame --\u003e Tier1[\"Tier 1: Specialized Bytecodes\\n(Python/generated_cases.c.h)\"]\n        EvalFrame --\u003e Tier2[\"Tier 2: Trace-based Optimizer\\n(Python/optimizer.c)\"]\n        Tier1 --\u003e Interpreter[\"Bytecode Interpreter\"]\n        Tier2 --\u003e Uops[\"Micro-operations\"]\n        Uops --\u003e Executor[\"Executor Object\"]\n        Executor --\u003e VM[\"VM Execution\"]\n        Interpreter --\u003e VM\n        Tier2 --\u003e JIT[\"Experimental JIT\\n(Python 3.13+)\"]\n    end\n    \n    subgraph \"Object Interaction\"\n        VM --\u003e Objects[\"Python Objects\\n(PyObject)\"]\n        Objects --\u003e Attributes[\"Attribute Access\"]\n        Objects --\u003e Methods[\"Method Calls\"]\n        Methods --\u003e VM\n    end\n```\n\nSources: [Python/compile.c:1-14](), [Python/ceval.c:1-47](), [Python/bytecodes.c:1-41](), [Python/optimizer.c:1-22]()\n\n## Compilation Pipeline\n\nThe compilation phase transforms Python source code into bytecode through a series of well-defined steps:\n\n```mermaid\nflowchart TD\n    AST[\"Abstract Syntax Tree\"] --\u003e FutureStmt[\"Future Statement Processing\"]\n    FutureStmt --\u003e SymTable[\"Symbol Table Generation\\n(_PySymtable_Build)\"]\n    AST --\u003e ASTOpt[\"AST Optimization\\n(_PyAST_Optimize)\"]\n    SymTable --\u003e CodeGen[\"Code Generation\\n(compiler_mod)\"]\n    ASTOpt --\u003e CodeGen\n    CodeGen --\u003e CFG[\"Control Flow Graph\\n(_PyCfg_FromInstructionSequence)\"]\n    CFG --\u003e BBOpt[\"Basic Block Optimizations\"]\n    BBOpt --\u003e Assembly[\"Bytecode Assembly\\n(optimize_and_assemble)\"]\n    Assembly --\u003e CodeObj[\"PyCodeObject\"]\n    \n    subgraph \"Symbol Table Generation\"\n        SymTableCreate[\"Create Symbol Table\\n(symtable.c)\"] --\u003e ScopeAnalysis[\"Scope Analysis\"]\n        ScopeAnalysis --\u003e VarClassify[\"Variable Classification\\n(local, global, free, cell)\"]\n    end\n    \n    subgraph \"Control Flow Graph\"\n        BBCreation[\"Basic Block Creation\"] --\u003e CFGConstruction[\"CFG Construction\"]\n        CFGConstruction --\u003e DeadCode[\"Dead Code Elimination\"]\n        DeadCode --\u003e JumpOpt[\"Jump Optimization\"]\n    end\n```\n\nSources: [Python/compile.c:107-148](), [Python/flowgraph.c:75-106](), [Python/symtable.c:1-34]()\n\n### Symbol Table Generation\n\nBefore code generation, a symbol table is created to track variables and their scopes. This analysis helps determine which names are local, global, nonlocal, or closure variables:\n\n```mermaid\nflowchart LR\n    AST[\"AST\"] --\u003e SymTable[\"_PySymtable_Build\"]\n    SymTable --\u003e SymEntry[\"PySTEntryObject\"]\n    SymEntry --\u003e Scopes{{\"Scope Types\"}}\n    Scopes --\u003e ModuleScope[\"MODULE_SCOPE\"]\n    Scopes --\u003e FunctionScope[\"FUNCTION_SCOPE\"]\n    Scopes --\u003e ClassScope[\"CLASS_SCOPE\"]\n    \n    SymEntry --\u003e SymbType{{\"Symbol Types\"}}\n    SymbType --\u003e Local[\"LOCAL\"]\n    SymbType --\u003e Global[\"GLOBAL_EXPLICIT/IMPLICIT\"]\n    SymbType --\u003e Free[\"FREE\"]\n    SymbType --\u003e Cell[\"CELL\"]\n```\n\nSources: [Python/symtable.c:91-108](), [Python/compile.c:138-146]()\n\n### Code Generation\n\nThe code generation phase translates the AST into an intermediate instruction sequence:\n\n1. An instruction sequence is generated from the AST\n2. Basic blocks are formed into a control flow graph\n3. Optimizations are applied to the control flow graph\n4. The optimized graph is assembled into final bytecode\n\nSources: [Python/compile.c:1-17](), [Python/codegen.c:1-10](), [Python/flowgraph.c:66-87](), [Python/assemble.c:1-5]()\n\n## Bytecode Interpreter\n\n### Bytecode Format\n\nPython bytecode consists of operations (opcodes) and arguments (operands) that the virtual machine executes:\n\n| Component | Description |\n|-----------|-------------|\n| `co_code` | Sequence of bytecode instructions (each 2 bytes) |\n| `co_consts` | Tuple of constants used in the code |\n| `co_names` | Tuple of names referenced in the code |\n| `co_varnames` | Tuple of local variable names |\n| `co_freevars` | Tuple of free variable names |\n| `co_cellvars` | Tuple of cell variable names |\n\nSources: [Python/compile.c:461-468]()\n\n### Tiered Execution Architecture\n\nCPython uses a tiered execution model:\n\n```mermaid\nflowchart TD\n    Code[\"PyCodeObject\"] --\u003e Tier1[\"Tier 1: Interpreter\"]\n    Code --\u003e Tier2[\"Tier 2: Optimizer\"]\n    \n    subgraph \"Tier 1 (Baseline Interpreter)\"\n        BytecodeInstr[\"Bytecodes\\n(bytecodes.c)\"] --\u003e Generated[\"Generated Cases\\n(generated_cases.c.h)\"]\n        Generated --\u003e EvalLoop[\"Evaluation Loop\\n(ceval.c)\"]\n        EvalLoop --\u003e Dispatch[\"Instruction Dispatch\"]\n    end\n    \n    subgraph \"Tier 2 (Optimizer)\"\n        Tracing[\"Trace Collection\"] --\u003e UOps[\"Micro-operations\\n(executor_cases.c.h)\"]\n        UOps --\u003e Analysis[\"Data Flow Analysis\"]\n        Analysis --\u003e Optimize[\"Optimizations\"]\n        Optimize --\u003e Executors[\"Executor Objects\"]\n    end\n    \n    Tier1 --\u003e Execute[\"Execution\"]\n    Tier2 --\u003e Execute\n```\n\nSources: [Python/bytecodes.c:76-146](), [Python/generated_cases.c.h:1-30](), [Python/ceval.c:500-535](), [Python/optimizer.c:100-154]()\n\n### Tier 1: Bytecode Interpreter\n\nThe baseline interpreter directly executes bytecode instructions. It operates through the `_PyEval_EvalFrameDefault` function, which processes each instruction in a loop:\n\n1. Fetch the next instruction\n2. Decode the opcode and operand\n3. Execute the instruction\n4. Update the interpreter state\n\nBytecode instructions are defined using a structured format in `bytecodes.c` and are processed to generate the interpreter switch cases:\n\n```\ninst(LOAD_FAST, (-- value)) {\n    assert(!PyStackRef_IsNull(GETLOCAL(oparg)));\n    value = PyStackRef_DUP(GETLOCAL(oparg));\n}\n```\n\nSources: [Python/bytecodes.c:268-277](), [Python/generated_cases.c.h:21-81](), [Python/ceval.c:30-46]()\n\n### Specialization and Optimization\n\nCPython employs various specialization techniques to optimize execution:\n\n| Specialization Type | Example |\n|---------------------|---------|\n| Type-based | `BINARY_OP_ADD_INT` for integer addition |\n| Value-based | `LOAD_CONST_IMMORTAL` for immortal objects |\n| Shape-based | `LOAD_ATTR_INSTANCE_VALUE` for direct instance attribute access |\n\nSources: [Python/bytecodes.c:583-621](), [Python/bytecodes.c:295-333]()\n\n## Tier 2: Trace-based Optimizer\n\nThe Tier 2 execution system uses trace-based optimization to improve performance:\n\n```mermaid\nflowchart TD\n    Bytecode[\"Bytecode Execution\"] --\u003e HotSpot[\"Hot Spot Detection\\n(TIER2_THRESHOLD)\"]\n    HotSpot --\u003e Tracing[\"Trace Collection\\n(uop_optimize)\"]\n    Tracing --\u003e UOps[\"Micro-operations\\n(uop_ids.h)\"]\n    UOps --\u003e Analysis[\"Data Flow Analysis\\n(optimizer_analysis.c)\"]\n    Analysis --\u003e Guards[\"Guard Instructions\\n(_GUARD_*)\"]\n    Analysis --\u003e Specialization[\"Type Specialization\"]\n    Guards --\u003e Executor[\"Executor Object\\n(_PyExecutorObject)\"]\n    Specialization --\u003e Executor\n    \n    Executor --\u003e Execution[\"VM Execution\"]\n    Execution --\u003e SideExit[\"Side Exit\\n(Deoptimization)\"]\n    SideExit --\u003e Bytecode\n```\n\nSources: [Python/optimizer.c:100-154](), [Python/executor_cases.c.h:1-74](), [Include/internal/pycore_uop_ids.h:1-20]()\n\n### Micro-operations (UOps)\n\nThe optimizer breaks down bytecode instructions into smaller micro-operations (UOps) that represent more granular operations:\n\n1. Original bytecode is translated into UOps\n2. UOps allow more precise analysis and optimization\n3. Multiple optimizations are applied to the UOp sequence\n4. The optimized sequence is packaged into an Executor object\n\nFor example, a BINARY_OP instruction might be broken down into specialized UOps like _BINARY_OP_ADD_INT:\n\n```\ncase _BINARY_OP_ADD_INT: {\n    PyObject *left_o = PyStackRef_AsPyObjectBorrow(left);\n    PyObject *right_o = PyStackRef_AsPyObjectBorrow(right);\n    assert(PyLong_CheckExact(left_o));\n    assert(PyLong_CheckExact(right_o));\n    \n    STAT_INC(BINARY_OP, hit);\n    PyObject *res_o = _PyLong_Add((PyLongObject *)left_o, (PyLongObject *)right_o);\n    PyStackRef_CLOSE_SPECIALIZED(right, _PyLong_ExactDealloc);\n    PyStackRef_CLOSE_SPECIALIZED(left, _PyLong_ExactDealloc);\n    // ...\n}\n```\n\nSources: [Python/executor_cases.c.h:175-199](), [Python/bytecodes.c:626-664]()\n\n### Data Flow Analysis and Optimizations\n\nThe Tier 2 optimizer performs data flow analysis to track variable values and types through the trace:\n\n1. **Type Analysis**: Infer and propagate type information\n2. **Constant Propagation**: Replace variables with known constant values\n3. **Dead Code Elimination**: Remove code that has no effect\n4. **Guard Generation**: Insert guards to verify runtime assumptions\n\nSources: [Python/optimizer_analysis.c:1-32](), [Python/optimizer_cases.c.h:106-157]()\n\n### Guard Instructions and Deoptimization\n\nGuards are special instructions that verify assumptions made during optimization:\n\n```mermaid\nflowchart LR\n    Guard{\"Guard Check\"} -- Success --\u003e Optimized[\"Optimized Path\"]\n    Guard -- Failure --\u003e Deopt[\"Deoptimization\"]\n    Deopt --\u003e Interpreter[\"Return to Interpreter\"]\n    \n    subgraph \"Guard Types\"\n        Type[\"Type Guards\\n(_GUARD_TOS_INT)\"]\n        Version[\"Type Version Guards\\n(_GUARD_TYPE_VERSION)\"]\n        Value[\"Value Guards\\n(_GUARD_IS_TRUE_POP)\"]\n    end\n```\n\nSources: [Python/optimizer_cases.c.h:107-148](), [Python/optimizer_bytecodes.c:107-142]()\n\n## Experimental JIT Compilation\n\nIn Python 3.13+, an experimental Just-In-Time compiler is being developed to translate optimized traces into native machine code:\n\n1. Hot traces are identified by the Tier 2 optimizer\n2. The trace is analyzed and optimized\n3. Machine code is generated for the optimized trace\n4. Execution jumps to the native code with appropriate guards\n\nSources: [Python/optimizer.c:213-215]()\n\n## Instrumentation and Monitoring\n\nThe bytecode execution pipeline supports instrumentation for debugging, profiling, and monitoring:\n\n```mermaid\nflowchart TD\n    Instr[\"Bytecode Instruction\"] --\u003e CheckInstr{\"Is Instrumented?\"}\n    CheckInstr -- Yes --\u003e EventCheck{\"Event Active?\"}\n    CheckInstr -- No --\u003e Regular[\"Regular Execution\"]\n    \n    EventCheck -- Yes --\u003e CallBack[\"Call Monitoring Callback\"]\n    EventCheck -- No --\u003e Regular\n    \n    CallBack --\u003e Resume[\"Resume Execution\"]\n    \n    subgraph \"Instrumentation Events\"\n        Call[\"PY_MONITORING_EVENT_CALL\"]\n        Return[\"PY_MONITORING_EVENT_PY_RETURN\"]\n        Line[\"PY_MONITORING_EVENT_LINE\"]\n        Branch[\"PY_MONITORING_EVENT_BRANCH\"]\n        Yield[\"PY_MONITORING_EVENT_PY_YIELD\"]\n    end\n```\n\nSources: [Python/instrumentation.c:1-32](), [Python/instrumentation.c:74-107]()\n\n## Putting It All Together\n\nThe CPython code execution pipeline is a sophisticated system that transforms Python source code into running programs through multiple stages of compilation and optimization. By using a tiered execution approach with specialized instructions, trace-based optimization, and potentially JIT compilation, CPython can execute Python code efficiently while maintaining the flexibility and dynamic nature of the language.\n\nUnderstanding the pipeline helps developers optimize their Python code and contribute to CPython itself by targeting improvements to the appropriate layer of the execution stack."])</script><script>self.__next_f.push([1,"1a:T365c,"])</script><script>self.__next_f.push([1,"# Bytecode Interpreter and Optimization\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [Include/cpython/code.h](Include/cpython/code.h)\n- [Include/internal/pycore_instruments.h](Include/internal/pycore_instruments.h)\n- [Include/internal/pycore_opcode_metadata.h](Include/internal/pycore_opcode_metadata.h)\n- [Include/internal/pycore_optimizer.h](Include/internal/pycore_optimizer.h)\n- [Include/internal/pycore_uop_ids.h](Include/internal/pycore_uop_ids.h)\n- [Include/internal/pycore_uop_metadata.h](Include/internal/pycore_uop_metadata.h)\n- [Lib/test/test_capi/test_opt.py](Lib/test/test_capi/test_opt.py)\n- [Lib/test/test_generated_cases.py](Lib/test/test_generated_cases.py)\n- [Lib/test/test_monitoring.py](Lib/test/test_monitoring.py)\n- [Python/bytecodes.c](Python/bytecodes.c)\n- [Python/ceval.c](Python/ceval.c)\n- [Python/ceval_macros.h](Python/ceval_macros.h)\n- [Python/executor_cases.c.h](Python/executor_cases.c.h)\n- [Python/generated_cases.c.h](Python/generated_cases.c.h)\n- [Python/instrumentation.c](Python/instrumentation.c)\n- [Python/optimizer.c](Python/optimizer.c)\n- [Python/optimizer_analysis.c](Python/optimizer_analysis.c)\n- [Python/optimizer_bytecodes.c](Python/optimizer_bytecodes.c)\n- [Python/optimizer_cases.c.h](Python/optimizer_cases.c.h)\n- [Python/optimizer_symbols.c](Python/optimizer_symbols.c)\n- [Tools/cases_generator/analyzer.py](Tools/cases_generator/analyzer.py)\n- [Tools/cases_generator/generators_common.py](Tools/cases_generator/generators_common.py)\n- [Tools/cases_generator/optimizer_generator.py](Tools/cases_generator/optimizer_generator.py)\n- [Tools/cases_generator/stack.py](Tools/cases_generator/stack.py)\n- [Tools/cases_generator/tier1_generator.py](Tools/cases_generator/tier1_generator.py)\n- [Tools/cases_generator/tier2_generator.py](Tools/cases_generator/tier2_generator.py)\n\n\u003c/details\u003e\n\n\n\nThis document explains CPython's tiered bytecode interpreter and optimization systems - the core of Python code execution. It covers the bytecode execution pipeline, specialized bytecodes, and the optimization mechanisms that improve performance. For information about the compilation process that produces bytecode, see [Compilation Pipeline](#2.2).\n\n## Overview of the Bytecode Execution Pipeline\n\nThe Python execution model processes code through multiple stages, with the bytecode interpreter at its core. When Python code is executed, it first passes through the parser and compiler, generating bytecode instructions. These bytecode instructions are then executed by a sophisticated tiered interpreter system.\n\n```mermaid\nflowchart LR\n    subgraph \"Bytecode Execution Pipeline\"\n        Code[\"Python Bytecode\"] --\u003e Tier1[\"Tier 1 Interpreter\\n(Base Interpreter)\"]\n        Tier1 --\u003e|\"Hot code paths\"| Tier2[\"Tier 2 Optimizer\\n(Trace-based)\"]\n        Tier2 --\u003e UOps[\"Micro-operations\"]\n        UOps --\u003e Executor[\"Executor Object\"]\n        Executor --\u003e VM[\"VM Execution\"]\n        Tier1 --\u003e|\"Cold code paths\"| VM\n        \n        style Tier1 stroke-width:2px\n        style Tier2 stroke-width:2px\n        style Executor stroke-width:2px\n    end\n```\n\nThe bytecode interpreter in CPython employs a two-tiered approach:\n\n1. **Tier 1 (Base Interpreter)**: Handles all bytecode instructions through an optimized switch-dispatch mechanism\n2. **Tier 2 (Trace-based Optimizer)**: Optimizes frequently executed code paths (hot paths) using a sophisticated micro-operation system\n\nSources: [Python/ceval.c:1-506](), [Python/bytecodes.c:1-66]()\n\n## Tier 1: Base Bytecode Interpreter\n\nThe Tier 1 interpreter is the default execution engine that handles all Python bytecode instructions. It uses a switch-based dispatch mechanism to execute bytecode instructions one at a time.\n\n```mermaid\nflowchart TD\n    subgraph \"Tier 1 Interpreter Execution\"\n        Start[\"Interpreter Start\"] --\u003e Fetch[\"Fetch Next Instruction\"]\n        Fetch --\u003e Decode[\"Decode Opcode \u0026 Operand\"]\n        Decode --\u003e Dispatch[\"Dispatch to Handler\"]\n        \n        Dispatch --\u003e |\"Generic\\nBytecode\"| Generic[\"Execute Generic Version\"]\n        Dispatch --\u003e |\"Specialized\\nBytecode\"| Specialized[\"Execute Specialized Version\"]\n        \n        Generic --\u003e NextInstr[\"Increment Instruction Pointer\"]\n        Specialized --\u003e NextInstr\n        NextInstr --\u003e Fetch\n        \n        NextInstr --\u003e |\"End of Frame\"| Exit[\"Exit Frame\"]\n    end\n```\n\n### Instruction Dispatch\n\nThe Tier 1 interpreter processes bytecode instructions using a computed goto dispatch mechanism (when available) or a switch statement. Each instruction is processed as follows:\n\n1. Fetch the next bytecode instruction\n2. Decode the opcode and operand\n3. Dispatch to the appropriate instruction handler\n4. Execute the instruction\n5. Move to the next instruction\n\nThe interpreter uses a framework of TARGET macros to define handlers for each bytecode instruction:\n\n```c\nTARGET(BINARY_OP) {\n    /* Handler implementation */\n    DISPATCH();\n}\n```\n\nSources: [Python/generated_cases.c.h:21-82](), [Python/ceval.c:507-536](), [Python/ceval_macros.h:1-46]()\n\n### Bytecode Specialization\n\nA key optimization technique in the Tier 1 interpreter is bytecode specialization. The interpreter can replace generic bytecode instructions with specialized versions that are optimized for specific data types or common patterns:\n\n| Generic Bytecode | Specialized Variants |\n|------------------|----------------------|\n| BINARY_OP        | BINARY_OP_ADD_INT, BINARY_OP_MULTIPLY_FLOAT, etc. |\n| LOAD_CONST       | LOAD_CONST_IMMORTAL, LOAD_CONST_MORTAL |\n| LOAD_ATTR        | LOAD_ATTR_INSTANCE_VALUE, LOAD_ATTR_SLOT, etc. |\n| STORE_ATTR       | STORE_ATTR_INSTANCE_VALUE, STORE_ATTR_SLOT |\n| FOR_ITER         | FOR_ITER_LIST, FOR_ITER_RANGE, FOR_ITER_TUPLE |\n\nSpecialization happens dynamically during execution. When a generic bytecode instruction is encountered frequently with the same types, it can be replaced with a specialized version:\n\n```mermaid\nsequenceDiagram\n    participant Bytecode as \"Bytecode Instruction\"\n    participant Interpreter as \"Tier 1 Interpreter\"\n    participant Cache as \"Inline Cache\"\n    \n    Bytecode-\u003e\u003eInterpreter: BINARY_OP (generic)\n    Interpreter-\u003e\u003eCache: Check counter\n    alt Counter threshold reached\n        Cache--\u003e\u003eInterpreter: Time to specialize\n        Interpreter-\u003e\u003eBytecode: Replace with BINARY_OP_ADD_INT\n    else Counter below threshold\n        Interpreter-\u003e\u003eCache: Increment counter\n        Interpreter-\u003e\u003eInterpreter: Execute generic version\n    end\n```\n\nThe specialization mechanism uses inline caches attached to bytecode instructions. These caches store type information, counters, and other metadata that help the interpreter make specialization decisions.\n\nSources: [Python/bytecodes.c:584-597](), [Python/generated_cases.c.h:142-260]()\n\n## Tier 2: Trace-based Optimizer\n\nWhen the Tier 1 interpreter identifies frequently executed code paths (hot paths), it triggers the Tier 2 optimizer. This advanced optimization system creates highly efficient execution units called \"executors\" that can significantly improve performance.\n\n```mermaid\nflowchart TD\n    subgraph \"Tier 2 Optimization Process\"\n        HotPath[\"Hot Code Path Detected\"] --\u003e Translate[\"Translate to Micro-operations\"]\n        Translate --\u003e Analyze[\"Analyze \u0026 Optimize\"]\n        Analyze --\u003e Build[\"Build Executor Object\"]\n        Build --\u003e Install[\"Install Executor in Code Object\"]\n        Install --\u003e Execute[\"Execute Optimized Code\"]\n    end\n```\n\n### Micro-operations (UOps)\n\nThe Tier 2 optimizer works with micro-operations (UOps), which are lower-level operations than bytecodes. UOps provide finer granularity and enable more sophisticated optimizations:\n\n1. Bytecode instructions are decomposed into sequences of UOps\n2. UOps represent atomic operations that can be analyzed and optimized\n3. UOps can be reorganized, eliminated, or combined to improve performance\n\nFor example, the `BINARY_OP_ADD_INT` bytecode might be decomposed into UOps like `_GUARD_TOS_INT`, `_GUARD_NOS_INT`, and `_BINARY_OP_ADD_INT`.\n\nSources: [Python/optimizer.c:202-262](), [Include/internal/pycore_uop_ids.h:1-55]()\n\n### Trace Collection and Analysis\n\nThe Tier 2 optimizer employs trace-based optimization:\n\n1. **Trace Collection**: Records sequences of bytecode instructions that are frequently executed together\n2. **Data Flow Analysis**: Analyzes how values flow through the traced code\n3. **Type Inference**: Determines the types of variables based on observed behavior\n4. **Optimization Opportunities**: Identifies constant values, redundant operations, and type specialization opportunities\n\nThe analysis phase builds a dependency graph and applies various optimization techniques to improve performance.\n\nSources: [Python/optimizer.c:487-530](), [Python/optimizer_analysis.c:1-90]()\n\n### Executor Objects\n\nThe result of the optimization process is an \"executor\" object, which is an optimized code unit that replaces a sequence of bytecode instructions:\n\n```mermaid\nclassDiagram\n    class _PyExecutorObject {\n        +_PyExecutorVMData vm_data\n        +int code_size\n        +_PyUOpInstruction* trace\n        +uint32_t exit_count\n        +_PyExecutorExitInfo exits[]\n    }\n    \n    class _PyExecutorVMData {\n        +uint8_t opcode\n        +uint8_t oparg\n        +bool valid\n        +uint8_t chain_depth\n        +_PyCodeObject* code\n        +int index\n    }\n    \n    _PyExecutorObject -- _PyExecutorVMData\n```\n\nExecutors are installed in code objects and activated through a special `ENTER_EXECUTOR` bytecode instruction. When executed, an executor runs its optimized UOps directly, bypassing the regular bytecode interpretation process.\n\nSources: [Python/optimizer.c:77-99](), [Include/internal/pycore_optimizer.h:16-22]()\n\n### Dynamic Invalidation\n\nExecutors make assumptions about the code they optimize, such as the types of variables or the state of function attributes. When these assumptions change, executors must be invalidated:\n\n1. Type watchers monitor changes to types that executors depend on\n2. Dictionary watchers track changes to global dictionaries and builtins\n3. When a dependency changes, all affected executors are invalidated\n4. Invalidated executors are replaced with original bytecode execution\n\nThis ensures correctness while maintaining performance when possible.\n\nSources: [Python/optimizer.c:183-206](), [Python/optimizer_analysis.c:56-83]()\n\n## Optimization Techniques\n\nThe bytecode interpreter employs several optimization techniques across both tiers:\n\n### 1. Type Specialization\n\nType specialization optimizes operations for specific data types:\n\n```python\n# Before optimization: Generic BINARY_OP\na + b\n\n# After specialization: BINARY_OP_ADD_INT for integers\n1 + 2\n```\n\nThis avoids expensive type checking and dispatching during execution.\n\nSources: [Python/bytecodes.c:584-741]()\n\n### 2. Constant Folding\n\nConstant folding evaluates expressions with constant values at optimization time:\n\n```python\n# Before optimization\nx = 1 + 2 * 3\n\n# After constant folding\nx = 7\n```\n\nThe optimizer identifies expressions with all constant operands and computes them in advance.\n\nSources: [Python/optimizer_bytecodes.c:338-363]()\n\n### 3. Guard Elimination\n\nGuard elimination removes redundant type checks when the optimizer can prove a value's type:\n\n```\n# Original UOps\n_GUARD_TOS_INT\n_GUARD_NOS_INT\n_BINARY_OP_ADD_INT\n\n# After guard elimination (if types are known)\n_BINARY_OP_ADD_INT\n```\n\nThis reduces the overhead of repetitive type checking.\n\nSources: [Python/optimizer_bytecodes.c:107-118](), [Python/executor_cases.c.h:157-175]()\n\n### 4. Inline Caching\n\nInline caching stores the results of attribute lookups, method resolutions, and other operations to avoid repeated lookups:\n\n```\n# First execution: Slow path, stores result in cache\nLOAD_ATTR (resolves attribute and caches location)\n\n# Subsequent executions: Fast path using cached information\nLOAD_ATTR_INSTANCE_VALUE (uses cached offset)\n```\n\nThis significantly speeds up attribute access and method calls.\n\nSources: [Python/bytecodes.c:292-333]()\n\n## Interaction with Other CPython Components\n\nThe bytecode interpreter interacts with several other core components of the CPython runtime:\n\n### Global Interpreter Lock (GIL)\n\nThe interpreter acquires and releases the GIL when executing bytecode. In the standard build, the GIL ensures that only one thread executes Python bytecode at a time. The free-threading mode (disabled GIL) introduces additional mechanisms to handle thread safety.\n\nSources: [Python/ceval.c:100-138]()\n\n### Memory Management\n\nThe interpreter interacts with CPython's memory management system for object allocation, garbage collection, and reference counting:\n\n1. Increment and decrement reference counts for objects\n2. Allocate memory for new objects\n3. Trigger garbage collection when needed\n\nSources: [Python/ceval.c:67-99]()\n\n### Frame and Stack Management\n\nThe interpreter manages execution frames and the value stack:\n\n1. Frame creation and activation\n2. Stack operations (push, pop)\n3. Local variable access\n4. Exception handling\n\nEach frame has its own value stack for operands and results.\n\nSources: [Python/bytecodes.c:266-291](), [Python/ceval.c:141-189]()\n\n## Conclusion\n\nCPython's bytecode interpreter is a sophisticated system that combines a reliable baseline interpreter with advanced optimization techniques. The two-tiered approach allows Python code to start execution immediately while still benefiting from optimizations for frequently executed code paths.\n\nThe specialized bytecodes, trace-based optimization, and micro-operation system work together to improve performance while maintaining the flexibility and dynamic nature of Python. This architecture represents a balance between immediate execution (as in traditional interpreters) and optimized performance (as in just-in-time compilers).\n\nSources: [Python/ceval.c:1-60](), [Python/optimizer.c:1-20]()"])</script><script>self.__next_f.push([1,"1b:T3330,"])</script><script>self.__next_f.push([1,"# Compilation Pipeline\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [Include/internal/pycore_compile.h](Include/internal/pycore_compile.h)\n- [Include/internal/pycore_flowgraph.h](Include/internal/pycore_flowgraph.h)\n- [Include/internal/pycore_magic_number.h](Include/internal/pycore_magic_number.h)\n- [Include/internal/pycore_symtable.h](Include/internal/pycore_symtable.h)\n- [Lib/test/test_compile.py](Lib/test/test_compile.py)\n- [Lib/test/test_dictcomps.py](Lib/test/test_dictcomps.py)\n- [Lib/test/test_iter.py](Lib/test/test_iter.py)\n- [Lib/test/test_listcomps.py](Lib/test/test_listcomps.py)\n- [Lib/test/test_peepholer.py](Lib/test/test_peepholer.py)\n- [Lib/test/test_setcomps.py](Lib/test/test_setcomps.py)\n- [Python/assemble.c](Python/assemble.c)\n- [Python/codegen.c](Python/codegen.c)\n- [Python/compile.c](Python/compile.c)\n- [Python/flowgraph.c](Python/flowgraph.c)\n- [Python/symtable.c](Python/symtable.c)\n\n\u003c/details\u003e\n\n\n\nThis document describes the process by which CPython transforms Python source code into bytecode that can be executed by the interpreter. The compilation pipeline is a multi-stage process that analyzes source code, creates data structures to represent code semantics, and generates optimized bytecode instructions.\n\nFor information about how the bytecode is executed, see [Bytecode Interpreter and Optimization](#2.1).\n\n## Overview of the Compilation Pipeline\n\nThe Python compilation pipeline consists of several distinct phases, each with its own responsibility in transforming source code into executable bytecode:\n\n```mermaid\nflowchart TD\n    subgraph \"Input\"\n        source[\"Python Source Code\"]\n    end\n    \n    subgraph \"Compilation Pipeline\"\n        parser[\"Parser\"]\n        symtable[\"Symbol Table Generation\"]\n        codegen[\"Code Generation\"]\n        cfg[\"Control Flow Graph\"]\n        optimize[\"Bytecode Optimization\"]\n        assemble[\"Assembly\"]\n    end\n    \n    subgraph \"Output\"\n        pycode[\"PyCodeObject\"]\n    end\n    \n    source --\u003e parser\n    parser --\u003e AST[\"Abstract Syntax Tree\"]\n    AST --\u003e symtable\n    symtable --\u003e ST[\"Symbol Table\"]\n    AST --\u003e codegen\n    ST --\u003e codegen\n    codegen --\u003e IS[\"Instruction Sequence\"]\n    IS --\u003e cfg\n    cfg --\u003e optimize\n    optimize --\u003e assemble\n    assemble --\u003e pycode\n```\n\nThe primary entry point for the compilation process is `_PyAST_Compile()`, which orchestrates these steps in the proper sequence. Each phase builds upon the outputs of previous phases, gradually transforming the source code into the final bytecode representation.\n\nSources: [Python/compile.c:1-15]()\n\n## Parsing to Abstract Syntax Tree\n\nThe first step in the compilation process is parsing the Python source code into an Abstract Syntax Tree (AST). The AST is a hierarchical tree structure that represents the syntactic structure of the code. Each node in the tree corresponds to a language construct (statement, expression, etc.).\n\nWhile the parser is a separate component from the compilation pipeline, it's important to understand that the AST forms the input to the compilation process. The AST is optimized before being passed to the next stages.\n\n```mermaid\nclassDiagram\n    class mod {\n        +Module_kind\n        +Expression_kind\n        +Interactive_kind\n    }\n    \n    class stmt {\n        +If_kind\n        +For_kind\n        +FunctionDef_kind\n        +etc...\n    }\n    \n    class expr {\n        +Call_kind\n        +BinOp_kind\n        +Name_kind\n        +etc...\n    }\n    \n    mod --\u003e stmt : contains\n    stmt --\u003e expr : contains\n```\n\nSources: [Python/compile.c:136-148]()\n\n## Symbol Table Generation\n\nThe symbol table is a crucial data structure in the compilation process. It maps identifiers (variable names) to their scopes and attributes within the program.\n\n```mermaid\nflowchart TD\n    AST[\"Abstract Syntax Tree\"] --\u003e STB[\"_PySymtable_Build()\"]\n    STB --\u003e SymTable[\"Symbol Table\"]\n    \n    subgraph \"Symbol Table Structure\"\n        STENT[\"PySTEntryObject\"]\n        STENT --\u003e SYMBOLS[\"ste_symbols (dict)\"]\n        STENT --\u003e VARNAMES[\"ste_varnames (list)\"]\n        STENT --\u003e CHILDREN[\"ste_children (list)\"]\n        STENT --\u003e TYPE[\"ste_type (block type)\"]\n    end\n```\n\nThe symbol table builder traverses the AST and analyzes variable usage:\n- Identifies variable scopes (local, global, nonlocal)\n- Detects cell variables (used in nested scopes)\n- Tracks free variables (referenced from outer scopes)\n- Handles special name mangling (for class private attributes)\n\nThe symbol table consists of PySTEntryObject structures organized hierarchically to match the lexical structure of the code.\n\nSources: [Python/symtable.c:387-489](), [Python/compile.c:140-141]()\n\n## Code Generation\n\nThe code generation phase converts the AST into an instruction sequence, guided by the symbol table. This phase traverses the AST and emits appropriate bytecode instructions for each node.\n\n```mermaid\nflowchart TD\n    AST[\"Abstract Syntax Tree\"] --\u003e CG[\"compiler_codegen()\"]\n    ST[\"Symbol Table\"] --\u003e CG\n    CG --\u003e IS[\"Instruction Sequence\"]\n    \n    subgraph \"Instruction Sequence\"\n        INSTR[\"_PyInstruction\"]\n        INSTR --\u003e OPCODE[\"i_opcode\"]\n        INSTR --\u003e OPARG[\"i_oparg\"]\n        INSTR --\u003e LOC[\"i_loc (source location)\"]\n    end\n```\n\nThe code generator handles various Python constructs differently:\n- Function and class definitions\n- Control flow statements (if, for, while)\n- Exception handling (try/except/finally)\n- Comprehensions and generator expressions\n- Variable assignments and expressions\n\nThe output is an instruction sequence that represents the logic of the original code but has not yet been optimized.\n\nSources: [Python/compile.c:811-853](), [Python/codegen.c:1-14]()\n\n## Control Flow Graph Generation\n\nThe control flow graph (CFG) represents the instruction sequence as a graph of basic blocks, where each block is a sequence of instructions that execute in sequence (no jumps in or out except at entry and exit).\n\n```mermaid\nflowchart TD\n    IS[\"Instruction Sequence\"] --\u003e CFGB[\"_PyCfg_FromInstructionSequence()\"]\n    CFGB --\u003e CFG[\"Control Flow Graph\"]\n    \n    subgraph \"Control Flow Graph Structure\"\n        BB[\"BasicBlock\"]\n        BB --\u003e INSTRS[\"b_instr (instructions)\"]\n        BB --\u003e NEXT[\"b_next (next block)\"]\n        BB --\u003e EXCEPT[\"b_except_handler (exception handling)\"]\n        BB --\u003e PRED[\"b_predecessors (count)\"]\n    end\n```\n\nThe CFG creation includes:\n- Identifying basic blocks\n- Establishing jump relationships between blocks\n- Tracking exception handlers\n- Calculating stack depths\n\nThe CFG representation facilitates analysis and optimization of the control flow in the program.\n\nSources: [Python/flowgraph.c:327-457](), [Python/compile.c:10-11]()\n\n## Bytecode Optimization\n\nOnce the control flow graph is built, the compiler applies various optimizations to improve code efficiency:\n\n1. **Jump Optimization**: Simplifying jump instructions and eliminating unreachable code\n2. **Stack Depth Calculation**: Computing the maximum stack space needed\n3. **Peephole Optimizations**: Pattern-based instruction replacements\n   - Constant folding (e.g., replacing `1+2` with `3`)\n   - Dead code elimination\n   - Jump instruction simplification\n\n```mermaid\nflowchart TD\n    CFG[\"Control Flow Graph\"] --\u003e OPT[\"_PyCfg_OptimizeCodeUnit()\"]\n    OPT --\u003e OCFG[\"Optimized CFG\"]\n    \n    subgraph \"Optimizations\"\n        JOPT[\"Jump Optimization\"]\n        SDCALC[\"Stack Depth Calculation\"]\n        PEEP[\"Peephole Optimizations\"]\n        CONSFOLD[\"Constant Folding\"]\n    end\n```\n\nSources: [Python/flowgraph.c:584-990]()\n\n## Final Assembly\n\nThe final phase of the compilation process is assembly, which converts the optimized control flow graph back into a flat sequence of bytecode instructions and generates the metadata required by the PyCodeObject.\n\n```mermaid\nflowchart TD\n    OCFG[\"Optimized CFG\"] --\u003e ASM[\"_PyAssemble_MakeCodeObject()\"]\n    ASM --\u003e PYCODE[\"PyCodeObject\"]\n    \n    subgraph \"PyCodeObject Contents\"\n        BC[\"co_code (bytecode)\"]\n        CONSTS[\"co_consts (constants)\"]\n        NAMES[\"co_names (names)\"]\n        LOCS[\"co_lines (line numbers)\"]\n        EXCPT[\"co_exceptiontable\"]\n    end\n```\n\nThe assembly process includes:\n1. Generating final bytecode\n2. Creating exception tables for handling exceptions\n3. Building line number tables for debugging\n4. Constructing constant tables\n5. Finalizing variable name tables\n\nThe result is a PyCodeObject that contains all the information needed by the bytecode interpreter to execute the code.\n\nSources: [Python/assemble.c:32-366](), [Python/compile.c:12-13]()\n\n## Compilation Phases in Detail\n\nLet's examine the specific functions involved in each compilation phase:\n\n| Phase | Main Function | Input | Output |\n|-------|--------------|-------|--------|\n| Symbol Table Generation | `_PySymtable_Build()` | AST | Symbol Table |\n| Code Generation | `compiler_codegen()` | AST, Symbol Table | Instruction Sequence |\n| CFG Creation | `_PyCfg_FromInstructionSequence()` | Instruction Sequence | Control Flow Graph |\n| Optimization | `_PyCfg_OptimizeCodeUnit()` | Control Flow Graph | Optimized CFG |\n| Assembly | `_PyAssemble_MakeCodeObject()` | Optimized CFG | PyCodeObject |\n\n### Symbol Table Generation Detail\n\nThe symbol table generation phase (implemented in `symtable.c`) analyzes variable usage across the entire code unit:\n\n```mermaid\nflowchart TD\n    AST[\"AST\"] --\u003e STB[\"_PySymtable_Build()\"]\n    STB --\u003e STE[\"Symbol Table Entries\"]\n    \n    subgraph \"Symbol Table Analysis\"\n        VAR[\"Variable Analysis\"]\n        SCOPE[\"Scope Determination\"]\n        NEST[\"Nested Scope Analysis\"]\n        CELL[\"Cell/Free Variable Detection\"]\n    end\n    \n    STE --\u003e ANALYSIS[\"symtable_analyze()\"]\n    ANALYSIS --\u003e FINAL[\"Final Symbol Table\"]\n```\n\nThis phase determines:\n- Whether names are local, global, or nonlocal\n- Which local variables are used in nested scopes (cell variables)\n- Which variables from outer scopes are referenced (free variables)\n\nSources: [Python/symtable.c:412-489](), [Python/symtable.c:477-482]()\n\n### Code Generation Detail\n\nThe code generation phase (implemented in `codegen.c`) traverses the AST and generates instructions:\n\n```mermaid\nflowchart TD\n    AST[\"AST\"] --\u003e CG[\"compiler_codegen()\"]\n    CG --\u003e CGM[\"codegen_visit_module()\"]\n    CGM --\u003e STMTS[\"codegen_visit_stmt() for each statement\"]\n    \n    subgraph \"Statement Handlers\"\n        FUNC[\"Function Definitions\"]\n        CLASS[\"Class Definitions\"]\n        IF[\"If Statements\"]\n        LOOP[\"Loops\"]\n        TRY[\"Try/Except Blocks\"]\n    end\n    \n    STMTS --\u003e EXPRS[\"codegen_visit_expr() for expressions\"]\n    \n    subgraph \"Expression Handlers\"\n        CALL[\"Function Calls\"]\n        BIN[\"Binary Operations\"]\n        COMP[\"Comparisons\"]\n        NAME[\"Name References\"]\n    end\n```\n\nDifferent node types in the AST are handled by specialized functions that emit the appropriate instructions.\n\nSources: [Python/codegen.c:15-30](), [Python/compile.c:838-850]()\n\n### Control Flow Graph and Optimization\n\nThe CFG building and optimization phase (implemented in `flowgraph.c`) transforms the linear instruction sequence into a graph structure:\n\n```mermaid\nflowchart TD\n    IS[\"Instruction Sequence\"] --\u003e CFG[\"_PyCfg_FromInstructionSequence()\"]\n    CFG --\u003e BB[\"Basic Blocks\"]\n    BB --\u003e JUMP[\"Jump Target Analysis\"]\n    JUMP --\u003e EXCP[\"Exception Handler Marking\"]\n    EXCP --\u003e OPT[\"Optimization Passes\"]\n    \n    subgraph \"Optimization Passes\"\n        NORM[\"Normalize Jumps\"]\n        UNREACH[\"Remove Unreachable Code\"]\n        STACK[\"Calculate Stack Depth\"]\n    end\n```\n\nThe optimizations focus on improving control flow and reducing instruction count without changing program semantics.\n\nSources: [Python/flowgraph.c:584-990](), [Python/compile.c:10-11]()\n\n## Main Compilation Entry Point\n\nThe `_PyAST_Compile()` function in `compile.c` orchestrates the entire compilation process:\n\n```mermaid\nflowchart TD\n    MOD[\"mod_ty (AST)\"] --\u003e COMPILE[\"_PyAST_Compile()\"]\n    COMPILE --\u003e COMP_NEW[\"new_compiler()\"]\n    COMP_NEW --\u003e COMPILER[\"compiler structure\"]\n    \n    COMPILER --\u003e COMP_MOD[\"compiler_mod()\"]\n    COMP_MOD --\u003e CODEGEN[\"compiler_codegen()\"]\n    CODEGEN --\u003e OPT_ASM[\"_PyCompile_OptimizeAndAssemble()\"]\n    OPT_ASM --\u003e PYCODE[\"PyCodeObject\"]\n```\n\nThis function ties together all the compilation phases, from initial setup to the final PyCodeObject creation.\n\nSources: [Python/compile.c:30-37]()\n\n## Conclusion\n\nThe CPython compilation pipeline is a sophisticated multi-stage process that transforms Python source code into efficient bytecode. Each phase builds on the previous one, gradually refining the representation of the code until it reaches its final executable form.\n\nUnderstanding this pipeline is essential for developers who want to:\n- Extend or modify CPython's compiler\n- Diagnose compilation-related issues\n- Optimize Python code at the bytecode level\n- Implement tools that analyze or transform Python code\n\nThe compilation pipeline is designed to balance compilation speed with optimization quality, producing bytecode that can be efficiently executed by the interpreter."])</script><script>self.__next_f.push([1,"1c:T33d5,"])</script><script>self.__next_f.push([1,"# Object System and Memory Management\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [Doc/data/stable_abi.dat](Doc/data/stable_abi.dat)\n- [Doc/library/gc.rst](Doc/library/gc.rst)\n- [Doc/whatsnew/3.13.rst](Doc/whatsnew/3.13.rst)\n- [Include/Python.h](Include/Python.h)\n- [Include/cpython/object.h](Include/cpython/object.h)\n- [Include/internal/pycore_dict.h](Include/internal/pycore_dict.h)\n- [Include/internal/pycore_gc.h](Include/internal/pycore_gc.h)\n- [Include/internal/pycore_object.h](Include/internal/pycore_object.h)\n- [Include/internal/pycore_typeobject.h](Include/internal/pycore_typeobject.h)\n- [Include/object.h](Include/object.h)\n- [Lib/test/test_gc.py](Lib/test/test_gc.py)\n- [Lib/test/test_stable_abi_ctypes.py](Lib/test/test_stable_abi_ctypes.py)\n- [Lib/test/test_structseq.py](Lib/test/test_structseq.py)\n- [Misc/stable_abi.toml](Misc/stable_abi.toml)\n- [Modules/clinic/gcmodule.c.h](Modules/clinic/gcmodule.c.h)\n- [Modules/gcmodule.c](Modules/gcmodule.c)\n- [Objects/dictobject.c](Objects/dictobject.c)\n- [Objects/object.c](Objects/object.c)\n- [Objects/structseq.c](Objects/structseq.c)\n- [Objects/typeobject.c](Objects/typeobject.c)\n- [PC/python3dll.c](PC/python3dll.c)\n- [Python/gc.c](Python/gc.c)\n- [Python/gc_free_threading.c](Python/gc_free_threading.c)\n\n\u003c/details\u003e\n\n\n\nThis page describes the core object system and memory management mechanisms in CPython. It covers how Python objects are structured in memory, the type system, reference counting, and garbage collection. For interpreter state and concurrency details, see [Runtime and Thread Management](#4).\n\n## Python Object Model\n\nPython's object system is built around a common core structure shared by all objects. This structure maintains essential metadata like type information and reference counts.\n\n```mermaid\ngraph TD\n    subgraph \"Object Structure\"\n        PyObject[\"PyObject (Base)\"]\n        PyVarObject[\"PyVarObject (Variable-Size)\"]\n        PyObject --\u003e PyVarObject\n    end\n    \n    subgraph \"Common Object Header\"\n        Header[\"PyObject Header\"] --\u003e RefCount[\"Reference Count\"]\n        Header --\u003e Type[\"Type Pointer\"]\n        RefCount --\u003e |\"Tracks when\\nobject can be\\ndeallocated\"| MemoryMgmt\n        Type --\u003e |\"Points to\"| PyTypeObject\n    end\n    \n    subgraph \"Memory Management\"\n        MemoryMgmt[\"Memory Management\"] --\u003e RefCounting[\"Reference Counting\"]\n        MemoryMgmt --\u003e GC[\"Cyclic Garbage Collection\"]\n        RefCounting --\u003e |\"Primary mechanism\"| Deallocation[\"Object Deallocation\"]\n        GC --\u003e |\"Handles reference cycles\"| Deallocation\n    end\n    \n    subgraph \"Type System\"\n        PyTypeObject[\"PyTypeObject\"] --\u003e |\"Defines\"| Behavior[\"Object Behavior\"]\n        PyTypeObject --\u003e |\"Inherits from\"| TypeBase[\"Base Types\"]\n        PyTypeObject --\u003e |\"Contains\"| TypeDict[\"Methods \u0026 Attributes\"]\n    end\n```\n\nSources: [Include/object.h:59-118](). [Include/cpython/object.h:148-232](). [Objects/object.c:43-63]().\n\n## PyObject Structure\n\nEvery Python object begins with a common header that contains crucial metadata. The exact structure differs between the standard build and the free-threaded build (with GIL disabled).\n\n### Standard Build (with GIL)\n\n```c\nstruct _object {\n    Py_ssize_t ob_refcnt;       /* Reference count */\n    PyTypeObject *ob_type;      /* Object type */\n};\n```\n\n### Free-Threaded Build (GIL disabled)\n\n```c\nstruct _object {\n    uintptr_t ob_tid;           /* Thread ID (or linked list pointer for GC) */\n    uint16_t ob_flags;          /* Object flags */\n    PyMutex ob_mutex;           /* Per-object lock */\n    uint8_t ob_gc_bits;         /* Garbage collection flags */\n    uint32_t ob_ref_local;      /* Thread-local reference count */\n    Py_ssize_t ob_ref_shared;   /* Shared (atomic) reference count */\n    PyTypeObject *ob_type;      /* Object type */\n};\n```\n\nFor variable-length objects (like lists, tuples), the base structure is extended with an additional field:\n\n```c\ntypedef struct {\n    PyObject ob_base;\n    Py_ssize_t ob_size;         /* Number of items */\n} PyVarObject;\n```\n\nSources: [Include/object.h:110-172](). [Include/internal/pycore_object.h:99-173](). [Objects/object.c:525-568]().\n\n## Type System\n\nThe Python type system defines an object's behavior. Types themselves are objects (instances of the `type` metaclass).\n\n```mermaid\ngraph TD\n    subgraph \"Type Hierarchy\"\n        TypeType[\"type (metaclass)\"] --\u003e|\"instance of\"| TypeType\n        PyObject[\"object\"] --\u003e|\"instance of\"| TypeType\n        PyType[\"PyTypeObject\"] --\u003e|\"instance of\"| TypeType\n        PyType --\u003e|\"subclass of\"| PyObject\n\n        IntType[\"int\"] --\u003e|\"instance of\"| TypeType\n        StrType[\"str\"] --\u003e|\"instance of\"| TypeType\n        ListType[\"list\"] --\u003e|\"instance of\"| TypeType\n        \n        IntType --\u003e|\"subclass of\"| PyObject\n        StrType --\u003e|\"subclass of\"| PyObject\n        ListType --\u003e|\"subclass of\"| PyObject\n        \n        IntObj[\"Integer Objects\"] --\u003e|\"instance of\"| IntType\n        StrObj[\"String Objects\"] --\u003e|\"instance of\"| StrType\n        ListObj[\"List Objects\"] --\u003e|\"instance of\"| ListType\n    end\n```\n\nThe `PyTypeObject` structure contains a wealth of information that defines object behavior:\n\n1. Basic metadata: name, size, documentation\n2. Method slots for common operations (`tp_new`, `tp_init`, `tp_call`, etc.)\n3. Method tables, member definitions, and property descriptors\n4. Inheritance information (base classes and MRO)\n5. Special flags for behavior customization\n\nThe type system supports both static builtin types (like `int`, `list`) and dynamic heap types (created at runtime with class definitions).\n\nSources: [Include/cpython/object.h:148-232](). [Objects/typeobject.c:92-232]().\n\n## Memory Management\n\nPython uses a two-pronged approach to memory management:\n\n1. **Reference counting**: The primary mechanism for memory management\n2. **Cyclic garbage collection**: A supplementary mechanism for handling reference cycles\n\n### Reference Counting\n\nEach object maintains a count of references to it. When the count reaches zero, the object is deallocated.\n\n```mermaid\nsequenceDiagram\n    participant App as Python Code\n    participant Obj as Python Object\n    participant MM as Memory Manager\n    \n    Note over Obj: Initial refcount = 1\n    \n    App-\u003e\u003eObj: Create reference\n    Obj-\u003e\u003eObj: Py_INCREF() (refcount += 1)\n    \n    App-\u003e\u003eObj: Create another reference\n    Obj-\u003e\u003eObj: Py_INCREF() (refcount += 1)\n    \n    App-\u003e\u003eObj: Remove reference\n    Obj-\u003e\u003eObj: Py_DECREF() (refcount -= 1)\n    \n    App-\u003e\u003eObj: Remove last reference\n    Obj-\u003e\u003eObj: Py_DECREF() (refcount -= 1)\n    \n    alt refcount == 0\n        Obj-\u003e\u003eMM: _Py_Dealloc()\n        MM-\u003e\u003eMM: Free memory\n    end\n```\n\nIn the free-threaded build, reference counting is more complex:\n\n1. Thread-local reference count (`ob_ref_local`): Managed by the thread that owns the object\n2. Shared reference count (`ob_ref_shared`): Used for references from other threads\n3. When local count reaches zero, counts are merged with the shared count\n\nSources: [Include/internal/pycore_object.h:134-173](). [Objects/object.c:332-520]().\n\n### Garbage Collection\n\nReference counting alone can't handle cyclic references (when objects reference each other in a cycle). The garbage collector detects and breaks these cycles.\n\n```mermaid\ngraph TD\n    subgraph \"Garbage Collection Process\"\n        Collect[\"_PyGC_Collect()\"] --\u003e|\"Step 1\"| FindCycles[\"Find cycles in objects\"]\n        FindCycles --\u003e|\"Step 2\"| Unreachable[\"Identify unreachable objects\"]\n        Unreachable --\u003e|\"Step 3\"| RunFinalizers[\"Run finalizers if present\"]\n        RunFinalizers --\u003e|\"Step 4\"| FreeObjects[\"Free unreachable objects\"]\n    end\n    \n    subgraph \"GC Generations\"\n        Young[\"Young Generation\\n(checked frequently)\"]\n        Middle[\"Middle Generation\"]\n        Old[\"Old Generation\\n(checked rarely)\"]\n        Young --\u003e|\"survive collection\"| Middle\n        Middle --\u003e|\"survive collection\"| Old\n    end\n    \n    subgraph \"GC Tracking\"\n        PyObject --\u003e|\"If PyObject_IS_GC\"| Tracked[\"GC-tracked object\"]\n        Tracked --\u003e|\"Added to\"| GCHeads[\"PyGC_Head list\"]\n        GCHeads --\u003e|\"Scanned by\"| Collect\n    end\n```\n\nThe garbage collector works differently depending on whether the GIL is enabled or disabled:\n\n1. **Standard mode (GIL enabled)**: Uses a generational collector with linked lists of objects\n2. **Free-threaded mode (GIL disabled)**: Uses a \"stop-the-world\" approach to pause all threads during collection\n\nSources: [Include/internal/pycore_gc.h:16-81](). [Python/gc.c:60-257](). [Python/gc_free_threading.c:201-331]().\n\n## Object Lifecycle\n\n### Object Creation\n\nObjects are created through several functions:\n\n1. `PyObject_New()`: Creates a new object of a specific type\n2. `PyObject_InitVar()`: Creates a variable-size object \n3. `_PyObject_New()`: Low-level allocation function\n\nWhen an object is created:\n1. Memory is allocated\n2. Reference count is initialized to 1\n3. Type pointer is set\n4. Type-specific initialization may be performed\n\nSources: [Objects/object.c:525-568]().\n\n### Object Finalization and Deallocation\n\nWhen an object's reference count reaches zero:\n\n1. `tp_finalize()` may be called if defined (via `PyObject_CallFinalizerFromDealloc()`)\n2. `tp_dealloc()` is called to clean up the object\n3. Memory is freed\n\nFinalization handles cleanup tasks before the object is deallocated. This is especially important for objects with external resources (like file handles).\n\nSources: [Objects/object.c:572-624]().\n\n## Special Memory Management Features\n\n### Immortal Objects\n\nSome objects are marked as \"immortal,\" meaning they're never deallocated. These include:\n\n1. Singletons like `None`, `True`, and `False`\n2. Small integers (-5 to 257 by default)\n3. Static type objects\n\nCalling `Py_INCREF()` or `Py_DECREF()` on immortal objects has no effect.\n\nSources: [Include/internal/pycore_object.h:198-229]().\n\n### Deferred Reference Counting\n\nIn the free-threaded build, some objects use \"deferred reference counting\" to reduce contention:\n\n1. Objects start with a large shared refcount (`_Py_REF_DEFERRED`)\n2. This means objects aren't immediately deallocated when the last regular reference is gone\n3. The garbage collector is responsible for reclaiming these objects\n\nThis approach improves performance in multi-threaded scenarios.\n\nSources: [Include/internal/pycore_object.h:22-28](). [Python/gc_free_threading.c:273-298]().\n\n## Object Attributes and Dictionaries\n\nPython objects typically store their attributes in a dictionary. The implementation varies depending on the object type:\n\n```mermaid\ngraph TD\n    subgraph \"Object Attribute Storage\"\n        PyObject --\u003e|\"For most objects\"| ObjDict[\"per-object __dict__\"]\n        PyObject --\u003e|\"For some builtin types\"| TypeSlots[\"slots defined by the type\"]\n        \n        ObjDict --\u003e|\"Uses\"| PyDictObject\n        \n        PyDictObject --\u003e|\"Two variants\"| Split[\"Split Table\\n(shared keys)\"]\n        PyDictObject --\u003e|\"Two variants\"| Combined[\"Combined Table\\n(keys + values)\"]\n    end\n    \n    subgraph \"Dictionary Implementation\"\n        Hash[\"Hash table\"] --\u003e|\"Contains\"| DictEntry[\"PyDictKeyEntry/\\nPyDictUnicodeEntry\"]\n        DictEntry --\u003e|\"Stores\"| Key[\"Key\"]\n        DictEntry --\u003e|\"Stores\"| Value[\"Value\"]\n        Hash --\u003e|\"Collision resolution\"| Probing[\"Open addressing\\nwith probing\"]\n    end\n```\n\n### Dictionary Implementation\n\nCPython's dictionaries use:\n\n1. Open addressing with pseudo-random probing\n2. Compact representation to reduce memory usage\n3. Ordered insertion (preserves key insertion order)\n4. Split-table architecture for attribute dictionaries (sharing keys among multiple instances)\n\nSources: [Objects/dictobject.c:1-106](). [Include/internal/pycore_dict.h:50-106]().\n\n## Free-Threaded Mode (GIL disabled)\n\nPython 3.13 introduced experimental support for running without the Global Interpreter Lock (GIL). This required significant changes to the memory management system:\n\n1. Per-thread and shared reference counts\n2. Object ownership model (objects are \"owned\" by threads)\n3. Deferred reference counting for some objects\n4. Lock-free data structures for common operations\n5. Modified garbage collection algorithm\n\nThis mode allows Python to better utilize multiple CPU cores but imposes certain performance overheads, especially for single-threaded code.\n\nSources: [Doc/whatsnew/3.13.rst:103-115](). [Include/object.h:183-258](). [Python/gc_free_threading.c:34-76]().\n\n## Stable ABI Considerations\n\nPython maintains a Stable ABI (Application Binary Interface) that guarantees binary compatibility across Python versions. Key components of the object system included in the Stable ABI:\n\n1. Core object functions (`Py_INCREF`, `Py_DECREF`, etc.)\n2. Object creation and inspection functions\n3. Type checking and conversion functions\n4. Partial structure definitions with only essential members exposed\n\nStable ABI functions are marked in the code and explicitly listed in `Misc/stable_abi.toml`.\n\nSources: [Misc/stable_abi.toml:16-63](). [PC/python3dll.c:16-48](). [Doc/data/stable_abi.dat:1-43]().\n\n---\n\nThis page provides an overview of CPython's object system and memory management. Understanding these foundations is essential for working with Python's internals and writing efficient extensions."])</script><script>self.__next_f.push([1,"1d:T32dd,"])</script><script>self.__next_f.push([1,"# PyObject and Type System\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [Doc/data/stable_abi.dat](Doc/data/stable_abi.dat)\n- [Doc/library/gc.rst](Doc/library/gc.rst)\n- [Doc/whatsnew/3.13.rst](Doc/whatsnew/3.13.rst)\n- [Include/Python.h](Include/Python.h)\n- [Include/cpython/object.h](Include/cpython/object.h)\n- [Include/internal/pycore_dict.h](Include/internal/pycore_dict.h)\n- [Include/internal/pycore_gc.h](Include/internal/pycore_gc.h)\n- [Include/internal/pycore_object.h](Include/internal/pycore_object.h)\n- [Include/internal/pycore_typeobject.h](Include/internal/pycore_typeobject.h)\n- [Include/object.h](Include/object.h)\n- [Lib/test/test_gc.py](Lib/test/test_gc.py)\n- [Lib/test/test_stable_abi_ctypes.py](Lib/test/test_stable_abi_ctypes.py)\n- [Lib/test/test_structseq.py](Lib/test/test_structseq.py)\n- [Misc/stable_abi.toml](Misc/stable_abi.toml)\n- [Modules/clinic/gcmodule.c.h](Modules/clinic/gcmodule.c.h)\n- [Modules/gcmodule.c](Modules/gcmodule.c)\n- [Objects/dictobject.c](Objects/dictobject.c)\n- [Objects/object.c](Objects/object.c)\n- [Objects/structseq.c](Objects/structseq.c)\n- [Objects/typeobject.c](Objects/typeobject.c)\n- [PC/python3dll.c](PC/python3dll.c)\n- [Python/gc.c](Python/gc.c)\n- [Python/gc_free_threading.c](Python/gc_free_threading.c)\n\n\u003c/details\u003e\n\n\n\nThis document explains the core object model of CPython, focusing on the fundamental `PyObject` structure and the type system that builds upon it. It covers how Python objects are represented in memory, how types define object behavior, and how the reference counting system manages memory. For information about memory allocation and garbage collection, see [Garbage Collection](#3.2).\n\n## Object Structure Fundamentals\n\nPython's design philosophy of \"everything is an object\" is implemented through a common base structure called `PyObject`. All Python objects include this base structure, which provides essential metadata including reference count and type information.\n\n### PyObject Structure\n\nThe `PyObject` structure is the foundation of Python's object system, providing core metadata for all objects:\n\n```mermaid\nclassDiagram\n    class PyObject {\n        ob_refcnt : Reference count\n        ob_type : PyTypeObject*\n    }\n    \n    class PyVarObject {\n        PyObject ob_base\n        Py_ssize_t ob_size : Size of variable part\n    }\n    \n    PyObject \u003c|-- PyVarObject\n```\n\nIn the standard build with the GIL, `PyObject` has this basic structure:\n\n```mermaid\nclassDiagram\n    class PyObject {\n        ob_refcnt : Count of references to this object\n        ob_type : Pointer to the object's type\n    }\n```\n\nVariable-sized objects (like lists and tuples) add the `ob_size` field via the `PyVarObject` structure.\n\nSources:\n- [Include/object.h:110-145]()\n- [Include/object.h:169-172]()\n\n### Free-Threaded Object Structure\n\nIn the free-threaded build (with `Py_GIL_DISABLED` defined), the object structure is extended to support thread-safe reference counting:\n\n```mermaid\nclassDiagram\n    class PyObject {\n        ob_tid : Thread ID\n        ob_flags : Object flags\n        ob_mutex : Object-specific mutex\n        ob_gc_bits : GC tracking flags\n        ob_ref_local : Thread-local reference count\n        ob_ref_shared : Shared reference count\n        ob_type : Pointer to type\n    }\n```\n\nThis structure enables per-thread reference counting with the `ob_ref_local` field used for the thread that owns the object and the atomic `ob_ref_shared` field for references from other threads.\n\nSources:\n- [Include/object.h:146-164]()\n- [Include/internal/pycore_object.h:130-198]()\n\n## Reference Counting System\n\nPython uses reference counting for memory management. Each object has a count of references to it, and when this count drops to zero, the object is deallocated.\n\n### Reference Counting Operations\n\n```mermaid\nflowchart TD\n    subgraph \"Reference Counting Lifecycle\"\n        A[\"Object Creation\\nPyObject_New()\"] --\u003e B[\"Initial refcount = 1\"]\n        B --\u003e C{\"Reference Operations\"}\n        C --\u003e|\"Py_INCREF()\" | D[\"Increment refcount\"]\n        C --\u003e|\"Py_DECREF()\" | E[\"Decrement refcount\"]\n        E --\u003e F{\"refcount == 0?\"}\n        F --\u003e|\"Yes\" | G[\"Call dealloc\\n(tp_dealloc)\"]\n        F --\u003e|\"No\" | C\n        G --\u003e H[\"Free memory\"]\n    end\n```\n\nThe `Py_INCREF` and `Py_DECREF` macros are the primary mechanisms for managing reference counts. These macros differ between the standard build and the free-threaded build:\n\n| Macro | Standard Build | Free-Threaded Build |\n|-------|---------------|---------------------|\n| `Py_INCREF(op)` | Increments `op-\u003eob_refcnt` | Thread-aware increment of either local or shared refcount |\n| `Py_DECREF(op)` | Decrements `op-\u003eob_refcnt` and calls dealloc if zero | Thread-aware decrement with potential dealloc |\n| `Py_XINCREF(op)` | Safe version that checks for NULL | Thread-aware safe increment |\n| `Py_XDECREF(op)` | Safe version that checks for NULL | Thread-aware safe decrement |\n\nThe reference counting system also has special handling for \"immortal\" objects (like small integers, None, True, False) that are never deallocated. Their reference count is set to a special value.\n\nSources:\n- [Include/object.h:360-439]()\n- [Include/internal/pycore_object.h:134-176]()\n- [Objects/object.c:331-352]()\n\n## Type System Architecture\n\nPython's type system defines object behavior through a rich structure called `PyTypeObject`. Each Python object has a pointer to its type object, which defines all operations that can be performed on that object.\n\n### Type Object Structure\n\nThe `PyTypeObject` structure is complex and includes many fields that define the behavior of objects of that type:\n\n```mermaid\nclassDiagram\n    class PyTypeObject {\n        PyVarObject ob_base\n        const char *tp_name\n        Py_ssize_t tp_basicsize, tp_itemsize\n        \n        destructor tp_dealloc\n        reprfunc tp_repr\n        \n        PyNumberMethods *tp_as_number\n        PySequenceMethods *tp_as_sequence\n        PyMappingMethods *tp_as_mapping\n        \n        hashfunc tp_hash\n        ternaryfunc tp_call\n        reprfunc tp_str\n        \n        unsigned long tp_flags\n        \n        PyMethodDef *tp_methods\n        PyMemberDef *tp_members\n        PyGetSetDef *tp_getset\n        \n        PyTypeObject *tp_base\n        PyObject *tp_dict\n        descrgetfunc tp_descr_get\n        descrsetfunc tp_descr_set\n        \n        initproc tp_init\n        allocfunc tp_alloc\n        newfunc tp_new\n        freefunc tp_free\n        \n        PyObject *tp_bases\n        PyObject *tp_mro\n    }\n```\n\nThese fields can be categorized into several groups:\n\n1. **Identity fields**: Name and size information\n2. **Method pointers**: For basic operations like deallocation, representation\n3. **Method suites**: For number, sequence, and mapping protocols\n4. **Type organization**: Base type, bases, MRO, dictionary\n5. **Object lifecycle**: Initialization, allocation, deallocation\n6. **Flags**: Behavior control flags\n\nSources:\n- [Include/cpython/object.h:148-234]()\n- [Objects/typeobject.c:1-394]()\n\n### Type Flags and Feature Control\n\nThe type system uses flags (`tp_flags`) to control various features:\n\n| Flag | Purpose |\n|------|---------|\n| `Py_TPFLAGS_HEAPTYPE` | Type object can be garbage collected |\n| `Py_TPFLAGS_BASETYPE` | Type can be subclassed |\n| `Py_TPFLAGS_READY` | Type is ready for use |\n| `Py_TPFLAGS_READYING` | Type is being initialized |\n| `Py_TPFLAGS_HAVE_GC` | Instances are tracked by GC |\n| `Py_TPFLAGS_DISALLOW_INSTANTIATION` | Type cannot be instantiated |\n| `Py_TPFLAGS_IMMUTABLETYPE` | Type cannot be modified after creation |\n\nSources:\n- [Include/cpython/object.h:351-384]()\n- [Objects/typeobject.c:347-378]()\n\n## Type Initialization and Inheritance\n\nWhen a type is created, it goes through a complex initialization process to set up all the necessary fields and relationships.\n\n### Type Initialization Process\n\n```mermaid\nflowchart TD\n    A[\"Type Creation\"] --\u003e B[\"PyType_Ready()\"]\n    B --\u003e C[\"Set default values for unset fields\"]\n    C --\u003e D[\"Initialize base class if needed\"]\n    D --\u003e E[\"Inherit slots from base classes\"]\n    E --\u003e F[\"Initialize type dictionary\"]\n    F --\u003e G[\"Add methods, members, getsets to dict\"]\n    G --\u003e H[\"Calculate MRO (Method Resolution Order)\"]\n    H --\u003e I[\"Initialize subclasses\"]\n    I --\u003e J[\"Set TPFLAGS_READY\"]\n```\n\nThe `PyType_Ready` function prepares a type for use by initializing all unset fields, setting up inheritance, and calculating the method resolution order.\n\nSources:\n- [Objects/typeobject.c:5250-5682]()\n\n### Method Resolution Order (MRO)\n\nThe Method Resolution Order determines the order in which base classes are searched when looking up attributes. Python uses the C3 linearization algorithm to calculate a consistent MRO.\n\n```mermaid\nflowchart LR\n    A[\"Attribute Lookup on Object\"] --\u003e B{\"in object's dict?\"}\n    B --\u003e|Yes| C[\"Return attribute\"]\n    B --\u003e|No| D[\"Follow MRO\"]\n    D --\u003e E{\"in type's dict?\"}\n    E --\u003e|Yes| F[\"Process descriptors\"]\n    E --\u003e|No| G{\"More bases in MRO?\"}\n    G --\u003e|Yes| H[\"Try next base\"]\n    H --\u003e E\n    G --\u003e|No| I[\"AttributeError\"]\n```\n\nSources:\n- [Objects/typeobject.c:2880-3050]()\n\n## Static vs. Heap Types\n\nPython has two categories of types: static (built-in) types and heap types (user-defined classes).\n\n### Comparison of Static and Heap Types\n\n| Characteristic | Static Types | Heap Types |\n|----------------|--------------|------------|\n| Memory location | Statically allocated | Allocated on heap |\n| Garbage collection | Not tracked by GC | Tracked by GC |\n| Can be subclassed | If BASETYPE flag is set | Always |\n| Can be modified | No | Yes |\n| Creation | At compile time | At runtime (via `type()`) |\n| Examples | `int`, `str`, `list` | User-defined classes |\n\nThe CPython implementation has special handling for static types to maintain them across multiple interpreters.\n\nSources:\n- [Objects/typeobject.c:122-316]()\n- [Include/internal/pycore_typeobject.h:45-68]()\n\n## Type Caching and Performance\n\nPython uses several caching mechanisms to improve attribute lookup performance.\n\n```mermaid\nflowchart TD\n    A[\"PyObject_GetAttr(obj, name)\"] --\u003e B{\"In type cache?\"}\n    B --\u003e|Yes| C[\"Use cached result\"]\n    B --\u003e|No| D[\"Full lookup process\"]\n    D --\u003e E[\"Store in cache\"]\n    E --\u003e F[\"Return attribute\"]\n    C --\u003e F\n```\n\nType attribute lookups are cached in a global cache to speed up repeated attribute accesses. This cache is indexed based on the type's version tag and the attribute name hash.\n\nSources:\n- [Objects/typeobject.c:867-926]()\n- [Include/internal/pycore_typeobject.h:16-30]()\n\n## Advanced Type Features\n\n### Special Methods and Slots\n\nThe type system maps Python special methods (like `__add__`) to C function pointers called \"slots\". This mapping allows efficient implementation of operations.\n\n```mermaid\nflowchart LR\n    subgraph \"Python Method\"\n        A[\"__add__ method\"]\n    end\n    \n    subgraph \"Type Structure\"\n        B[\"tp_as_number-\u003enb_add\"]\n    end\n    \n    subgraph \"C API\"\n        C[\"PyNumber_Add()\"]\n    end\n    \n    A \u003c--\u003e|\"maps to\"| B\n    C --\u003e|\"calls\"| B\n```\n\nWhen you implement a special method in Python, it gets stored in the appropriate slot in the type object, allowing direct calls without dictionary lookups.\n\nSources:\n- [Objects/typeobject.c:3360-3820]()\n\n### Descriptors\n\nDescriptors are objects that define how attribute access works. They implement the descriptor protocol through methods like `__get__`, `__set__`, and `__delete__`.\n\n```mermaid\nflowchart TD\n    A[\"Access attribute: obj.attr\"] --\u003e B{\"Is attr a descriptor?\"}\n    B --\u003e|Yes| C{\"Has __get__ method?\"}\n    C --\u003e|Yes| D[\"Call descriptor.__get__(obj, type(obj))\"]\n    C --\u003e|No| E[\"Regular attribute access\"]\n    B --\u003e|No| E\n```\n\nProperty objects, methods, and class methods are all implemented using descriptors.\n\nSources:\n- [Objects/typeobject.c:2630-2780]()\n\n## Stable ABI and Compatibility\n\nThe Stable ABI (Application Binary Interface) guarantees that certain parts of the Python C API remain compatible across Python versions. Many fundamental object and type system functions are part of this stable ABI.\n\nKey parts of the object system in the Stable ABI include:\n\n| Category | Functions/Structures |\n|----------|---------------------|\n| Basic Object | `PyObject`, `PyObject_*` functions |\n| Type System | `PyTypeObject`, `PyType_*` functions |\n| Reference Counting | `Py_INCREF`, `Py_DECREF` |\n| Type Checking | `PyObject_IsInstance`, `PyType_IsSubtype` |\n\nSources:\n- [Misc/stable_abi.toml:90-234]()\n- [Doc/data/stable_abi.dat:710-830]()\n- [PC/python3dll.c:40-60]()\n\n## Conclusion\n\nThe PyObject and Type System form the foundation of Python's object-oriented capabilities. By providing a common structure and flexible type definition mechanism, CPython enables Python's dynamic nature while maintaining performance through key optimizations like slot functions and caching. The type system's balance between dynamic flexibility and performance optimizations is key to Python's success as a language."])</script><script>self.__next_f.push([1,"1e:T48f1,"])</script><script>self.__next_f.push([1,"# Garbage Collection\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [Doc/library/gc.rst](Doc/library/gc.rst)\n- [Include/cpython/object.h](Include/cpython/object.h)\n- [Include/internal/pycore_dict.h](Include/internal/pycore_dict.h)\n- [Include/internal/pycore_gc.h](Include/internal/pycore_gc.h)\n- [Include/internal/pycore_object.h](Include/internal/pycore_object.h)\n- [Include/internal/pycore_typeobject.h](Include/internal/pycore_typeobject.h)\n- [Lib/test/test_gc.py](Lib/test/test_gc.py)\n- [Lib/test/test_structseq.py](Lib/test/test_structseq.py)\n- [Modules/clinic/gcmodule.c.h](Modules/clinic/gcmodule.c.h)\n- [Modules/gcmodule.c](Modules/gcmodule.c)\n- [Objects/dictobject.c](Objects/dictobject.c)\n- [Objects/object.c](Objects/object.c)\n- [Objects/structseq.c](Objects/structseq.c)\n- [Objects/typeobject.c](Objects/typeobject.c)\n- [Python/gc.c](Python/gc.c)\n- [Python/gc_free_threading.c](Python/gc_free_threading.c)\n\n\u003c/details\u003e\n\n\n\nThis document describes CPython's garbage collection system, which is responsible for reclaiming memory when objects are no longer in use. CPython uses a hybrid memory management approach combining reference counting with a cyclic garbage collector. Reference counting provides deterministic cleanup for most objects, while the cyclic garbage collector handles reference cycles that reference counting alone cannot address.\n\nFor information about memory allocation in general, see [Memory Management](#3).\n\n## Overview\n\nCPython's garbage collection system consists of two main components:\n\n1. **Reference counting**: The primary memory management mechanism that deallocates objects when their reference count reaches zero\n2. **Cyclic garbage collector**: A supplementary system that detects and collects reference cycles\n\n```mermaid\nflowchart TD\n    subgraph \"Reference Counting\"\n        RefCount[\"Reference Counting\\n(Primary)\"]\n        INCREF[\"Py_INCREF()\"]\n        DECREF[\"Py_DECREF()\"]\n        Dealloc[\"_Py_Dealloc()\"]\n    end\n\n    subgraph \"Cyclic Garbage Collection\"\n        GC[\"Cyclic GC\\n(Secondary)\"]\n        Track[\"_PyObject_GC_TRACK()\"]\n        Collect[\"_PyGC_Collect()\"]\n        Untrack[\"_PyObject_GC_UNTRACK()\"]\n    end\n\n    subgraph \"Python Interface\"\n        GCModule[\"gc Module\"]\n        EnableDisable[\"gc.enable()/disable()\"]\n        CollectAPI[\"gc.collect()\"]\n        Threshold[\"gc.set_threshold()\"]\n    end\n\n    Object[\"PyObject\"] --\u003e RefCount\n    Object --\u003e GC\n    \n    INCREF --\u003e RefCount\n    DECREF --\u003e RefCount\n    RefCount -- \"count == 0\" --\u003e Dealloc\n    \n    Track --\u003e GC\n    Collect --\u003e GC\n    Untrack --\u003e GC\n    \n    GCModule --\u003e EnableDisable\n    GCModule --\u003e CollectAPI\n    GCModule --\u003e Threshold\n    \n    CollectAPI --\u003e Collect\n    EnableDisable --\u003e GC\n```\n\nSources:\n- [Python/gc.c:1-20](Python/gc.c:1-20)\n- [Objects/object.c:322-352](Objects/object.c:322-352)\n- [Include/internal/pycore_gc.h:1-20](Include/internal/pycore_gc.h:1-20)\n- [Modules/gcmodule.c:1-20](Modules/gcmodule.c:1-20)\n\n## Reference Counting\n\nThe reference counting system is the foundation of memory management in CPython. Each object has a reference count, which is incremented when a new reference to the object is created and decremented when a reference is removed.\n\n### Basic Mechanism\n\n```mermaid\nflowchart TD\n    subgraph \"Object Lifecycle\"\n        Create[\"Object Creation\"] --\u003e Init[\"_PyObject_Init()\\n(sets refcount to 1)\"]\n        Init --\u003e NewRef[\"New Reference\\nPy_INCREF()\"]\n        NewRef --\u003e DelRef[\"Remove Reference\\nPy_DECREF()\"]\n        DelRef --\u003e Check{\"refcount == 0?\"}\n        Check -- \"Yes\" --\u003e Dealloc[\"Call Type's tp_dealloc\"]\n        Check -- \"No\" --\u003e NewRef\n        Dealloc --\u003e Free[\"Memory Freed\"]\n    end\n```\n\nEach Python object is created with a reference count of 1. The reference count is maintained through the following operations:\n\n- `Py_INCREF(obj)`: Increments an object's reference count\n- `Py_DECREF(obj)`: Decrements an object's reference count and potentially deallocates the object\n- `Py_XINCREF(obj)` and `Py_XDECREF(obj)`: Safe versions that check for NULL pointers\n\nWhen an object's reference count reaches zero, its deallocation function (specified by the object's type in `tp_dealloc`) is called, and its memory is freed.\n\nSources:\n- [Objects/object.c:322-352](Objects/object.c:322-352)\n- [Include/cpython/object.h:4-9](Include/cpython/object.h:4-9)\n- [Include/internal/pycore_object.h:134-178](Include/internal/pycore_object.h:134-178)\n\n### Reference Cycle Problem\n\nReference counting alone cannot handle reference cycles. Consider this example:\n\n```python\n# Create a reference cycle\na = {}\nb = {}\na['b'] = b\nb['a'] = a\n# Even after del a, b - the cycle remains in memory\ndel a\ndel b\n```\n\nIn this case, even though `a` and `b` are no longer accessible from Python code, they each maintain a reference to each other, so their reference counts never reach zero. This is where the cyclic garbage collector comes into play.\n\nSources:\n- [Doc/library/gc.rst:10-25](Doc/library/gc.rst:10-25)\n- [Lib/test/test_gc.py:94-117](Lib/test/test_gc.py:94-117)\n\n## Cyclic Garbage Collection\n\nThe cyclic garbage collector (GC) is designed to identify and collect objects that are part of reference cycles but are not reachable from the program.\n\n### Generational Design\n\nCPython's garbage collector is generational, organizing objects into different generations based on their survival through collection cycles:\n\n```mermaid\nflowchart TD\n    subgraph \"Generational Garbage Collection\"\n        direction TB\n        NewObj[\"New GC Object\"] --\u003e Young[\"Young Generation\\n(gen 0)\"]\n        Young -- \"Survives Collection\" --\u003e Old[\"Old Generation\\n(gen 1 \u0026 2)\"]\n        Young -- \"Unreachable\" --\u003e Collected[\"Object Collected\"]\n        Old -- \"Unreachable\" --\u003e Collected\n    end\n\n    subgraph \"Collection Thresholds\"\n        Allocation[\"Object Allocation\"] -- \"Exceeds threshold\" --\u003e TriggerYoung[\"Trigger Young Gen\\nCollection\"]\n        TriggerYoung -- \"Sometimes\" --\u003e TriggerOld[\"Trigger Old Gen\\nCollection\"]\n    end\n\n    NewObj -- \"Track\" --\u003e Tracked[\"PyObject Tracked by GC\"]\n```\n\nIn the standard CPython implementation:\n- **Young generation (0)**: New objects are placed here\n- **Old generation (1 \u0026 2)**: Objects that survive collection are promoted to older generations\n- The collector runs less frequently on older generations\n\nSources:\n- [Python/gc.c:130-145](Python/gc.c:130-145)\n- [Python/gc_free_threading.c:47-62](Python/gc_free_threading.c:47-62)\n- [Doc/library/gc.rst:41-65](Doc/library/gc.rst:41-65)\n\n### Tracked Objects\n\nOnly objects that could potentially be part of a reference cycle are tracked by the garbage collector. This generally includes:\n\n- Container objects that can hold references to other objects (lists, dictionaries, classes, instances)\n- Objects with `__del__` methods\n\nObjects that cannot participate in reference cycles (like integers, strings) are not tracked for efficiency.\n\nThe process of tracking objects differs between the standard and free-threaded implementations:\n\n| Standard Implementation | Free-Threaded Implementation |\n|------------------------|------------------------------|\n| Uses PyGC_Head structure | Uses ob_gc_bits field |\n| Linked list based tracking | Bit-based tracking |\n| _PyObject_GC_TRACK/UNTRACK | _PyObject_SET_GC_BITS |\n\nSources:\n- [Include/internal/pycore_gc.h:81-93](Include/internal/pycore_gc.h:81-93)\n- [Include/internal/pycore_gc.h:209-221](Include/internal/pycore_gc.h:209-221)\n- [Python/gc_free_threading.c:137-151](Python/gc_free_threading.c:137-151)\n\n### Collection Algorithm\n\nThe collection process in CPython follows these main steps:\n\n```mermaid\nflowchart TD\n    Start[\"Start Collection\"] --\u003e Prepare[\"Prepare Objects\"]\n    Prepare --\u003e UpdateRefs[\"Update Reference Counts\\n(gc_refs = refcount)\"]\n    UpdateRefs --\u003e SubtractRefs[\"Subtract Internal References\"]\n    SubtractRefs --\u003e FindRoot[\"Find Root Objects\\n(gc_refs \u003e 0)\"]\n    FindRoot --\u003e MarkReachable[\"Mark Objects Reachable\\nfrom Roots\"]\n    MarkReachable --\u003e MoveUnreachable[\"Move Unreachable to\\nUnreachable List\"]\n    MoveUnreachable --\u003e HandleFinalizers[\"Handle Objects with\\nFinalizers\"]\n    HandleFinalizers --\u003e HandleWeakRefs[\"Handle Weak References\"]\n    HandleWeakRefs --\u003e DeallocCycles[\"Deallocate Cycles\"]\n    DeallocCycles --\u003e Cleanup[\"Cleanup and Update Stats\"]\n    Cleanup --\u003e End[\"End Collection\"]\n```\n\n1. **Update reference counts**: Copy each object's reference count to a temporary `gc_refs` field\n2. **Subtract internal references**: For each tracked object, decrement the `gc_refs` of objects it references\n3. **Find roots**: Objects with non-zero `gc_refs` are reachable from outside the tracked objects\n4. **Mark reachable**: Starting from roots, mark all reachable objects\n5. **Move unreachable**: Move objects not marked as reachable to an \"unreachable\" list\n6. **Handle finalizers**: Deal with objects that have finalizers (`__del__` methods)\n7. **Handle weak references**: Clear weak references to unreachable objects\n8. **Deallocate cycles**: Free memory for objects in cycles\n9. **Promote survivors**: Move surviving objects to the next generation\n\nSources:\n- [Python/gc.c:245-319](Python/gc.c:245-319)\n- [Python/gc_free_threading.c:414-464](Python/gc_free_threading.c:414-464)\n\n### Handling Finalizers\n\nObjects with finalizers (`__del__` methods) require special handling. If an object with a finalizer is part of a reference cycle, there's no obvious order to call the finalizers.\n\nIn CPython, when a reference cycle contains objects with finalizers:\n\n1. The entire cycle becomes \"uncollectable\" (to prevent resurrection issues)\n2. Such objects are moved to `gc.garbage` if `DEBUG_SAVEALL` is set\n3. Otherwise, a warning is printed about uncollectable objects\n\nSources:\n- [Python/gc.c:1144-1183](Python/gc.c:1144-1183)\n- [Lib/test/test_gc.py:66-81](Lib/test/test_gc.py:66-81)\n- [Modules/gcmodule.c:279-326](Modules/gcmodule.c:279-326)\n\n## Free-Threaded Garbage Collection\n\nWith the introduction of a GIL-free build option in Python 3.13, a specialized garbage collector for free-threaded execution was implemented. This collector has several key differences from the standard implementation:\n\n```mermaid\nflowchart TD\n    subgraph \"Standard GC\" \n        StdRef[\"Reference Counting\\nGlobal Counter\"]\n        StdTrack[\"Object Tracking\\nPyGC_Head + Lists\"]\n        StdCycle[\"Cycle Detection\\nRelies on GIL\"]\n    end\n\n    subgraph \"Free-Threaded GC\"\n        FTRef[\"Thread-Local Reference Counting\\nAtomic Operations\"]\n        FTTrack[\"Object Tracking\\nob_gc_bits Flags\"]\n        FTCycle[\"Cycle Detection\\nStop-The-World + Mark Alive\"]\n        DeferredRef[\"Deferred Reference Counting\"]\n    end\n```\n\nKey differences include:\n\n1. **Reference counting**: Uses atomic operations and thread-local counters\n2. **Object tracking**: Uses bit flags in `ob_gc_bits` rather than a separate structure\n3. **Cycle detection**: Uses a \"stop-the-world\" approach where all threads pause during collection\n4. **Deferred reference counting**: For better performance, some references are only counted during collection\n5. **Mark alive phase**: Explicitly marks objects reachable from roots\n\nSources:\n- [Python/gc_free_threading.c:20-36](Python/gc_free_threading.c:20-36)\n- [Python/gc_free_threading.c:137-181](Python/gc_free_threading.c:137-181)\n- [Include/internal/pycore_object.h:335-434](Include/internal/pycore_object.h:335-434)\n\n### Deferred Reference Counting\n\nThe free-threaded build uses deferred reference counting for certain reference types to improve performance. References from the stack and some other sources aren't immediately counted but are processed during garbage collection.\n\n```mermaid\nflowchart LR\n    subgraph \"Regular References\"\n        RegRef[\"Regular Reference\"] --\u003e |\"Py_INCREF/Py_DECREF\"| RefCount[\"Reference Count\"]\n    end\n    \n    subgraph \"Deferred References\"\n        StackRef[\"Stack Reference\"] --\u003e |\"Not immediately counted\"| DeferredFlag[\"_PyGC_BITS_DEFERRED Flag\"]\n        DeferredFlag --\u003e |\"During GC\"| MarkAlive[\"Mark Object Alive\"]\n    end\n    \n    RefCount -- \"== 0\" --\u003e Dealloc[\"Deallocate\"]\n    MarkAlive -- \"Prevents collection\" --\u003e Survivor[\"Object Survives Collection\"]\n```\n\nThis approach significantly reduces the overhead of reference counting for temporary references, which is particularly important in a free-threaded environment where atomic operations are more expensive.\n\nSources:\n- [Python/gc_free_threading.c:245-298](Python/gc_free_threading.c:245-298)\n- [Include/internal/pycore_gc.h:25-46](Include/internal/pycore_gc.h:25-46)\n\n## Python Interface to the GC\n\nCPython exposes GC functionality through the `gc` module, providing both user control and diagnostic capabilities.\n\n### Basic GC Control\n\n```python\nimport gc\n\n# Enable/disable automatic collection\ngc.enable()\ngc.disable()\ngc.isenabled()  # Returns True if enabled\n\n# Manual collection\ngc.collect()  # Collect all generations\ngc.collect(0)  # Collect only young generation\n\n# Set collection thresholds\ngc.set_threshold(700, 10, 10)  # Set thresholds for generations 0, 1, 2\n```\n\nThe thresholds determine how frequently automatic collection occurs for each generation.\n\nSources:\n- [Modules/gcmodule.c:34-95](Modules/gcmodule.c:34-95)\n- [Doc/library/gc.rst:24-59](Doc/library/gc.rst:24-59)\n\n### GC Debugging\n\nThe `gc` module provides debugging facilities to help diagnose memory leaks:\n\n```python\nimport gc\n\n# Set debugging flags\ngc.set_debug(gc.DEBUG_LEAK)  # Combination of several flags\n\n# Available debug flags\n# gc.DEBUG_STATS - Print statistics during collection\n# gc.DEBUG_COLLECTABLE - Print collectable objects found\n# gc.DEBUG_UNCOLLECTABLE - Print uncollectable objects found\n# gc.DEBUG_SAVEALL - Save unreachable objects to gc.garbage\n```\n\nWhen `DEBUG_SAVEALL` is set, uncollectable objects are stored in `gc.garbage` instead of being left in memory without references.\n\nSources:\n- [Modules/gcmodule.c:97-136](Modules/gcmodule.c:97-136)\n- [Doc/library/gc.rst:67-77](Doc/library/gc.rst:67-77)\n- [Doc/library/gc.rst:215-249](Doc/library/gc.rst:215-249)\n\n### GC Information and Statistics\n\nThe module also provides functions to get information about tracked objects and collection statistics:\n\n```python\nimport gc\n\n# Get all objects tracked by the collector\nobjects = gc.get_objects()\n\n# Get collection statistics\nstats = gc.get_stats()  # Returns list of dicts with stats per generation\n\n# Get counts\ngc.get_count()  # Returns current object counts per generation\n```\n\nSources:\n- [Modules/gcmodule.c:327-408](Modules/gcmodule.c:327-408)\n- [Doc/library/gc.rst:79-115](Doc/library/gc.rst:79-115)\n\n## Implementation Details\n\n### GC Tracking Mechanisms\n\nIn the standard implementation, tracked objects have a `PyGC_Head` structure before the actual object in memory:\n\n```mermaid\nflowchart LR\n    subgraph \"Memory Layout for GC-tracked Object\"\n        PyGCHead[\"PyGC_Head\\n(_gc_next, _gc_prev)\"] --\u003e PyObject[\"PyObject\\n(ob_refcnt, ob_type...)\"]\n    end\n\n    subgraph \"GC Lists\"\n        Young[\"Young Generation List\"] --\u003e PyGCHead\n        Old1[\"Old Generation List 1\"] \n        Old2[\"Old Generation List 2\"]\n    end\n```\n\nThe `PyGC_Head` contains pointers used to maintain doubly-linked lists of objects for each generation.\n\nIn the free-threaded implementation, tracking is done through the `ob_gc_bits` field in the `PyObject` itself:\n\n```\n_PyGC_BITS_TRACKED    (1\u003c\u003c0)  // Tracked by the GC\n_PyGC_BITS_FINALIZED  (1\u003c\u003c1)  // tp_finalize was called\n_PyGC_BITS_UNREACHABLE (1\u003c\u003c2) // Object determined unreachable\n_PyGC_BITS_FROZEN     (1\u003c\u003c3)  // Object should not be collected\n_PyGC_BITS_SHARED     (1\u003c\u003c4)  // Object memory is shared between threads\n_PyGC_BITS_ALIVE      (1\u003c\u003c5)  // Reachable from a known root\n_PyGC_BITS_DEFERRED   (1\u003c\u003c6)  // Use deferred reference counting\n```\n\nSources:\n- [Include/internal/pycore_gc.h:16-26](Include/internal/pycore_gc.h:16-26)\n- [Include/internal/pycore_gc.h:38-46](Include/internal/pycore_gc.h:38-46)\n- [Python/gc.c:53-106](Python/gc.c:53-106)\n\n### GC Thresholds and Triggering\n\nThe GC runs automatically when thresholds based on object allocations are exceeded:\n\n1. Each allocation of a tracked object increments a counter\n2. When the counter exceeds the threshold for generation 0, collection starts\n3. After a certain number of collections of generation 0, generation 1 is collected\n4. Similarly, after a certain number of collections of generation 1, generation 2 is collected\n\nManual collection can be triggered with `gc.collect()`, which is useful for testing or when memory needs to be reclaimed immediately.\n\nSources:\n- [Python/gc.c:1380-1423](Python/gc.c:1380-1423)\n- [Doc/library/gc.rst:139-154](Doc/library/gc.rst:139-154)\n\n### Special Considerations\n\n#### Immortal Objects\n\nSome objects are marked as \"immortal\" and are not subject to normal reference counting:\n\n```python\n# Immortal objects include:\nNone, True, False  # Singletons\nsmall_integers  # A range of small integers\ncommon_strings  # Common string literals\n```\n\nImmortal objects have a special reference count value that prevents them from being deallocated.\n\nSources:\n- [Include/internal/pycore_object.h:197-230](Include/internal/pycore_object.h:197-230)\n\n#### Optimizations\n\nSeveral optimizations are employed to make the GC system efficient:\n\n1. **Untracking**: Objects that cannot form cycles (like tuples containing only immutable objects) are untracked\n2. **Free lists**: Frequently allocated/deallocated objects are kept in free lists for reuse\n3. **Prefetch instructions**: In the free-threaded implementation, CPU cache prefetching is used for better performance\n\nSources:\n- [Python/gc_free_threading.c:468-480](Python/gc_free_threading.c:468-480)\n- [Python/gc_free_threading.c:494-507](Python/gc_free_threading.c:494-507)\n\n## Conclusion\n\nCPython's garbage collection system combines reference counting with a cyclic garbage collector to provide efficient memory management. The reference counting system handles most memory reclamation immediately, while the cyclic garbage collector takes care of reference cycles that reference counting cannot handle.\n\nUnderstanding both components is essential for writing memory-efficient Python code, especially for long-running applications or those dealing with complex data structures that might form reference cycles.\n\nThe free-threaded implementation introduced in Python 3.13 adds sophisticated mechanisms to make garbage collection work efficiently without the Global Interpreter Lock, enabling better parallelism in Python applications.\n\nSources:\n- [Python/gc.c:1-20](Python/gc.c:1-20)\n- [Python/gc_free_threading.c:1-20](Python/gc_free_threading.c:1-20)\n- [Doc/library/gc.rst:1-20](Doc/library/gc.rst:1-20)"])</script><script>self.__next_f.push([1,"1f:T3fa5,"])</script><script>self.__next_f.push([1,"# Type Hinting System\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [Doc/library/annotationlib.rst](Doc/library/annotationlib.rst)\n- [Doc/library/collections.abc.rst](Doc/library/collections.abc.rst)\n- [Doc/library/typing.rst](Doc/library/typing.rst)\n- [Include/internal/pycore_global_objects_fini_generated.h](Include/internal/pycore_global_objects_fini_generated.h)\n- [Include/internal/pycore_global_strings.h](Include/internal/pycore_global_strings.h)\n- [Include/internal/pycore_runtime_init_generated.h](Include/internal/pycore_runtime_init_generated.h)\n- [Include/internal/pycore_unicodeobject_generated.h](Include/internal/pycore_unicodeobject_generated.h)\n- [Lib/_collections_abc.py](Lib/_collections_abc.py)\n- [Lib/annotationlib.py](Lib/annotationlib.py)\n- [Lib/test/test_annotationlib.py](Lib/test/test_annotationlib.py)\n- [Lib/test/test_collections.py](Lib/test/test_collections.py)\n- [Lib/test/test_type_annotations.py](Lib/test/test_type_annotations.py)\n- [Lib/test/test_typing.py](Lib/test/test_typing.py)\n- [Lib/typing.py](Lib/typing.py)\n- [Misc/NEWS.d/next/Library/2025-04-06-21-17-14.gh-issue-132064.ktPwDM.rst](Misc/NEWS.d/next/Library/2025-04-06-21-17-14.gh-issue-132064.ktPwDM.rst)\n- [Misc/NEWS.d/next/Library/2025-04-08-10-45-22.gh-issue-129463.b1qEP3.rst](Misc/NEWS.d/next/Library/2025-04-08-10-45-22.gh-issue-129463.b1qEP3.rst)\n- [Misc/NEWS.d/next/Library/2025-04-13-21-22-37.gh-issue-132491.jJfT4e.rst](Misc/NEWS.d/next/Library/2025-04-13-21-22-37.gh-issue-132491.jJfT4e.rst)\n\n\u003c/details\u003e\n\n\n\nThe Type Hinting System in Python provides a standardized way to indicate the types of variables, function parameters, and return values in Python code. This document describes the implementation details of Python's type hinting system within the CPython interpreter, focusing on how it's structured, how type hints are represented internally, and how they're processed at runtime.\n\nThe type hinting system is primarily implemented through the `typing` module, which provides the core constructs for defining type hints, and the newer `annotationlib` module, which provides tools for introspecting and processing annotations. While the type hints themselves don't affect the runtime behavior of Python code (Python remains dynamically typed), they provide metadata that can be used by external tools like static type checkers, IDEs, and documentation generators.\n\nFor information about the broader Object System that the type hinting system is built on, see [PyObject and Type System](#3.1).\n\n## Type Annotation Evolution\n\nPython's type annotation system has evolved through several phases, each with different semantics for how annotations are processed:\n\n1. **Stock Semantics** (Python 3.0-3.13): Annotations are evaluated eagerly at definition time.\n2. **Stringified Annotations** (Python 3.7+ with `from __future__ import annotations`): Annotations are stored as strings without evaluation.\n3. **Deferred Evaluation** (Python 3.14+): Annotations are stored unevaluated and evaluated only when accessed.\n\n```mermaid\nflowchart TB\n    subgraph \"Type Annotation Evolution\"\n        StockSemantics[\"Stock Semantics\\n(Python 3.0-3.13)\"]\n        StringifiedAnnotations[\"Stringified Annotations\\n(Python 3.7+ with future import)\"]\n        DeferredEvaluation[\"Deferred Evaluation\\n(Python 3.14+)\"]\n        \n        StockSemantics --\u003e StringifiedAnnotations\n        StringifiedAnnotations --\u003e DeferredEvaluation\n    end\n    \n    subgraph \"Annotation Processing\"\n        DefTime[\"Definition Time\\nEvaluation\"]\n        StringStorage[\"String Storage\\nWithout Evaluation\"]\n        LazyEval[\"Lazy Evaluation\\nWhen Accessed\"]\n        \n        DefTime --- StockSemantics\n        StringStorage --- StringifiedAnnotations\n        LazyEval --- DeferredEvaluation\n    end\n```\n\nSources: [Doc/library/annotationlib.rst:67-96](). [Lib/annotationlib.py:47-102]().\n\n## Core Architecture\n\nThe type hinting system consists of several key components working together:\n\n```mermaid\nflowchart TD\n    subgraph \"Type Hinting Architecture\"\n        typing[\"typing Module\\n(Core Type Primitives)\"]\n        annotations[\"Annotation System\\n(__annotations__)\"]\n        annotationlib[\"annotationlib Module\\n(Introspection Tools)\"]\n        collections_abc[\"collections.abc\\n(Abstract Base Classes)\"]\n        \n        typing --\u003e annotations\n        annotationlib --\u003e annotations\n        typing --\u003e collections_abc\n    end\n    \n    subgraph \"Runtime Components\"\n        TypeVar[\"TypeVar\\nType Variables\"]\n        Generic[\"Generic\\nParametrized Types\"]\n        Protocol[\"Protocol\\nStructural Typing\"]\n        Special[\"Special Forms\\n(Union, Optional, etc.)\"]\n        \n        typing --\u003e TypeVar\n        typing --\u003e Generic\n        typing --\u003e Protocol\n        typing --\u003e Special\n    end\n    \n    subgraph \"Static Tools\"\n        MyPy[\"MyPy\\n(Type Checker)\"]\n        PyCharm[\"PyCharm\\n(IDE)\"]\n        \n        annotations -.-\u003e MyPy\n        annotations -.-\u003e PyCharm\n    end\n```\n\nSources: [Lib/typing.py:1-20](). [Lib/annotationlib.py:1-19](). [Lib/_collections_abc.py:1-33]().\n\n## Main Components of the Type Hinting System\n\nThe type hinting system is built around several key components that work together to provide a comprehensive framework for type annotations.\n\n### Core Type Primitives\n\nThe `typing` module provides the fundamental primitives for type hinting:\n\n| Component | Description | Example |\n|-----------|-------------|---------|\n| `TypeVar` | Type variables for generic functions and classes | `T = TypeVar('T')` |\n| `Any` | Special type indicating an unconstrained type | `def func(x: Any) -\u003e int: ...` |\n| `Union` | Union types (X or Y) | `Union[str, int]` or `str \\| int` |\n| `Optional` | Optional types (X or None) | `Optional[str]` or `str \\| None` |\n| `Generic` | Base class for user-defined generic types | `class Stack(Generic[T]): ...` |\n| `Protocol` | Base class for protocol definitions | `class Sized(Protocol): ...` |\n| `Callable` | Types for callable objects | `Callable[[int, str], bool]` |\n\nSources: [Lib/typing.py:44-162](). [Doc/library/typing.rst:207-276]().\n\n### Special Forms and Type Constructors\n\nThe typing module includes special forms that have unique meanings in type annotations:\n\n```mermaid\nflowchart LR\n    subgraph \"Special Forms\"\n        ClassVar[\"ClassVar\\n(Class Variables)\"]\n        Final[\"Final\\n(Immutable Variables)\"]\n        Literal[\"Literal\\n(Exact Values)\"]\n        TypeAlias[\"TypeAlias\\n(Type Aliases)\"]\n        NoReturn[\"NoReturn\\n(Never Returns)\"]\n        Never[\"Never\\n(Bottom Type)\"]\n        Self[\"Self\\n(Self-Reference)\"]\n    end\n    \n    subgraph \"Type Constructors\"\n        NewType[\"NewType\\n(Distinct Types)\"]\n        Annotated[\"Annotated\\n(Extra Metadata)\"]\n        TypedDict[\"TypedDict\\n(Dict with Fixed Keys)\"]\n        NamedTuple[\"NamedTuple\\n(Tuple with Named Fields)\"]\n    end\n    \n    SpecialForm[\"_SpecialForm\\n(Base Implementation)\"] --\u003e ClassVar\n    SpecialForm --\u003e Final\n    SpecialForm --\u003e Literal\n    SpecialForm --\u003e TypeAlias\n    SpecialForm --\u003e NoReturn\n    SpecialForm --\u003e Never\n    SpecialForm --\u003e Self\n```\n\nSources: [Lib/typing.py:513-684](). [Doc/library/typing.rst:714-756]().\n\n## Implementation Details\n\n### Type Variables\n\nType variables are the building blocks of generic typing. They represent types that can vary, allowing for parametric polymorphism in type definitions.\n\n```mermaid\nflowchart LR\n    subgraph \"Type Variables\"\n        TypeVar[\"TypeVar\\n(Basic Type Variable)\"]\n        ParamSpec[\"ParamSpec\\n(For Callable Parameters)\"]\n        TypeVarTuple[\"TypeVarTuple\\n(Variable-Length Type Sequences)\"]\n    end\n    \n    subgraph \"TypeVar Features\"\n        Constraints[\"Constraints\\n(Restrict to Specific Types)\"]\n        Bound[\"Bound\\n(Upper Bound Type)\"]\n        Covariant[\"Covariance\\n(out)\"]\n        Contravariant[\"Contravariance\\n(in)\"]\n        Default[\"Default Type\\n(Fallback)\"]\n    end\n    \n    TypeVar --\u003e Constraints\n    TypeVar --\u003e Bound\n    TypeVar --\u003e Covariant\n    TypeVar --\u003e Contravariant\n    TypeVar --\u003e Default\n```\n\nTypeVars can be created with various options that modify their behavior:\n\n```python\n# Basic TypeVar\nT = TypeVar('T')\n\n# TypeVar with constraints\nS = TypeVar('S', str, bytes)\n\n# TypeVar with bound\nB = TypeVar('B', bound=Sequence)\n\n# Covariant TypeVar (out parameter)\nT_co = TypeVar('T_co', covariant=True)\n\n# Contravariant TypeVar (in parameter)\nT_contra = TypeVar('T_contra', contravariant=True)\n\n# TypeVar with default value\nT_default = TypeVar('T_default', default=int)\n```\n\nSources: [Lib/typing.py:380-617](). [Lib/test/test_typing.py:380-811]().\n\n### Type Generic Aliases\n\nGeneric aliases represent parameterized container types. They're created when a generic class is subscripted with specific type arguments.\n\n```mermaid\nflowchart TD\n    subgraph \"Generic Type System\"\n        GenericAlias[\"GenericAlias\\n(List[int], Dict[str, float], etc.)\"]\n        _GenericAlias[\"_GenericAlias\\n(Internal Implementation)\"]\n        _SpecialGenericAlias[\"_SpecialGenericAlias\\n(Special Cases)\"]\n        Origin[\"Origin Type\\n(list, dict, etc.)\"]\n        Args[\"Type Arguments\\n(int, str, etc.)\"]\n    end\n    \n    GenericAlias --\u003e Origin\n    GenericAlias --\u003e Args\n    _GenericAlias --\u003e Origin\n    _GenericAlias --\u003e Args\n    _SpecialGenericAlias --\u003e Origin\n    _SpecialGenericAlias --\u003e Args\n```\n\nThe generic alias system is deeply integrated with Python's built-in `__class_getitem__` mechanism, allowing both built-in types and custom classes to be used as generic types. \n\nSources: [Lib/typing.py:260-349](). [Doc/library/typing.rst:301-440]().\n\n### Forward References\n\nForward references allow annotations to refer to types that haven't been defined yet. The `ForwardRef` class handles these references.\n\n```mermaid\nflowchart TD\n    subgraph \"Forward References\"\n        ForwardRef[\"ForwardRef\\n(Wrapper for String References)\"]\n        StringExpr[\"String Expression\\n('MyClass', 'List[T]', etc.)\"]\n        Evaluation[\"Evaluation\\n(When Annotations are Accessed)\"]\n        _LazyAnnotationLib[\"_LazyAnnotationLib\\n(Defers Loading annotationlib)\"]\n    end\n    \n    ForwardRef --\u003e StringExpr\n    ForwardRef --\u003e Evaluation\n    _LazyAnnotationLib --\u003e ForwardRef\n```\n\nForward references are created automatically when string annotations are processed or can be created explicitly. They are resolved (evaluated) when the annotations are accessed, typically through `get_type_hints()`.\n\nSources: [Lib/annotationlib.py:49-251](). [Lib/typing.py:172-250]().\n\n## Annotation Introspection\n\nAnnotations can be accessed through several mechanisms:\n\n### Accessing Annotations\n\n```mermaid\nflowchart TD\n    subgraph \"Annotation Access\"\n        __annotations__[\"__annotations__\\nAttribute\"]\n        get_type_hints[\"get_type_hints()\\nFunction\"]\n        get_annotations[\"get_annotations()\\nFunction\"]\n        __annotate__[\"__annotate__()\\nMethod\"]\n    end\n    \n    subgraph \"Formats\"\n        StringFormat[\"String Format\\n(Original Source Text)\"]\n        ValueFormat[\"Value Format\\n(Evaluated Types)\"]\n        ForwardRefFormat[\"ForwardRef Format\\n(Mixed)\"]\n    end\n    \n    __annotations__ --\u003e StringFormat\n    get_type_hints --\u003e ValueFormat\n    get_annotations --\u003e StringFormat\n    get_annotations --\u003e ValueFormat\n    get_annotations --\u003e ForwardRefFormat\n    __annotate__ --\u003e StringFormat\n    __annotate__ --\u003e ValueFormat\n    __annotate__ --\u003e ForwardRefFormat\n```\n\nThe `annotationlib` module provides several utilities for working with annotations:\n\n| Function | Description |\n|----------|-------------|\n| `get_annotations(obj, *, format=Format.VALUE)` | Get annotations with control over format |\n| `get_annotate_function(obj)` | Get the function that produces annotations |\n| `call_annotate_function(func, format)` | Call an annotate function with a specific format |\n| `type_repr(obj)` | Get a string representation of a type |\n\nSources: [Lib/annotationlib.py:392-692](). [Doc/library/annotationlib.rst:115-145]().\n\n### Format Enum\n\nThe `Format` enum in `annotationlib` defines the formats in which annotations can be returned:\n\n```python\nclass Format(enum.IntEnum):\n    VALUE = 1                   # Evaluated values\n    VALUE_WITH_FAKE_GLOBALS = 2 # Evaluated values with synthetic globals\n    FORWARDREF = 3              # ForwardRef proxies for undefined values\n    STRING = 4                  # Source text strings\n```\n\nSources: [Lib/annotationlib.py:22-26](). [Doc/library/annotationlib.rst:118-141]().\n\n## Runtime Behavior\n\nType hints don't affect runtime behavior directly - Python remains dynamically typed at runtime. However, they do have a presence in the runtime:\n\n```mermaid\nflowchart LR\n    subgraph \"Runtime Type System\"\n        Annotations[\"Annotations\\n(Metadata)\"]\n        Runtime[\"Runtime Checks\\n(isinstance, issubclass)\"]\n        TypeHints[\"Type Hints\\n(Not Checked at Runtime)\"]\n    end\n    \n    subgraph \"Runtime Usage\"\n        Introspection[\"Introspection\\n(For Documentation)\"]\n        Decoration[\"Decoration\\n(For Runtime Checks)\"]\n        Serialization[\"Serialization\\n(For Data Validation)\"]\n    end\n    \n    Annotations --\u003e Introspection\n    Annotations --\u003e Decoration\n    Annotations --\u003e Serialization\n    Runtime --\u003e Decoration\n    TypeHints -.-\u003e Introspection\n```\n\nPython's runtime doesn't enforce type annotations, but provides APIs to access them, which enables:\n\n1. Documentation tools to generate accurate type information\n2. Decorator-based libraries to implement runtime type checking\n3. Serialization libraries to infer schema information\n\nSources: [Doc/library/typing.rst:11-22](). [Lib/test/test_type_annotations.py:11-136]().\n\n## Protocol Types\n\nProtocols enable structural typing in Python, focusing on what methods an object supports rather than its inheritance hierarchy.\n\n```mermaid\nflowchart TD\n    subgraph \"Protocol System\"\n        Protocol[\"Protocol\\n(Base Class)\"]\n        runtime_checkable[\"@runtime_checkable\\n(Optional Decorator)\"]\n        is_protocol[\"is_protocol()\\n(Check If Type Is Protocol)\"]\n    end\n    \n    subgraph \"Built-in Protocols\"\n        Sized[\"Sized\\n(Has __len__)\"]\n        Iterable[\"Iterable\\n(Has __iter__)\"]\n        Container[\"Container\\n(Has __contains__)\"]\n        Callable[\"Callable\\n(Has __call__)\"]\n    end\n    \n    Protocol --\u003e runtime_checkable\n    Protocol --\u003e is_protocol\n    Protocol --\u003e Sized\n    Protocol --\u003e Iterable\n    Protocol --\u003e Container\n    Protocol --\u003e Callable\n```\n\nA Protocol defines an interface that classes must satisfy to be considered compatible, without requiring explicit inheritance.\n\nSources: [Doc/library/typing.rst:254-276](). [Lib/_collections_abc.py:110-170]().\n\n## Integration with the Object System\n\nThe type hinting system integrates with Python's core object system:\n\n```mermaid\nflowchart TD\n    subgraph \"Object System Integration\"\n        PyObject[\"PyObject\\n(Base Object)\"]\n        PyType[\"PyTypeObject\\n(Type Objects)\"]\n        PyFunction[\"PyFunctionObject\\n(Functions)\"]\n    end\n    \n    subgraph \"Type Hinting Integration\"\n        __annotations__[\"__annotations__\\n(Attribute Dictionary)\"]\n        __annotate__[\"__annotate__\\n(Method)\"]\n        __annotations_cache__[\"__annotations_cache__\\n(Internal Cache)\"]\n    end\n    \n    PyObject --\u003e PyType\n    PyObject --\u003e PyFunction\n    PyType --\u003e __annotations__\n    PyType --\u003e __annotate__\n    PyType --\u003e __annotations_cache__\n    PyFunction --\u003e __annotations__\n    PyFunction --\u003e __annotate__\n```\n\nType hints are stored in the `__annotations__` dictionary of classes, functions, and modules, or produced by the `__annotate__` method if present.\n\nSources: [Lib/test/test_type_annotations.py:10-101](). [Include/internal/pycore_global_strings.h:226-227]().\n\n## Conclusion\n\nPython's type hinting system provides a rich, flexible framework for adding type information to Python code. While not enforced at runtime, these hints enable a wide range of tools for static analysis, documentation, and code understanding. The system has evolved significantly over time, with the latest advancements focusing on deferred evaluation of annotations for better performance and forward reference support.\n\nType hints represent an important bridge between dynamic and static typing, allowing Python to maintain its dynamic nature while providing the benefits of static type checking when desired."])</script><script>self.__next_f.push([1,"20:T4314,"])</script><script>self.__next_f.push([1,"# Runtime and Thread Management\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [Doc/data/stable_abi.dat](Doc/data/stable_abi.dat)\n- [Doc/library/sys.rst](Doc/library/sys.rst)\n- [Doc/whatsnew/3.13.rst](Doc/whatsnew/3.13.rst)\n- [Include/Python.h](Include/Python.h)\n- [Include/cpython/pystate.h](Include/cpython/pystate.h)\n- [Include/internal/pycore_ceval.h](Include/internal/pycore_ceval.h)\n- [Include/internal/pycore_ceval_state.h](Include/internal/pycore_ceval_state.h)\n- [Include/internal/pycore_interp.h](Include/internal/pycore_interp.h)\n- [Include/internal/pycore_pystate.h](Include/internal/pycore_pystate.h)\n- [Include/internal/pycore_runtime.h](Include/internal/pycore_runtime.h)\n- [Include/internal/pycore_runtime_init.h](Include/internal/pycore_runtime_init.h)\n- [Include/internal/pycore_signal.h](Include/internal/pycore_signal.h)\n- [Include/internal/pycore_tstate.h](Include/internal/pycore_tstate.h)\n- [Include/intrcheck.h](Include/intrcheck.h)\n- [Include/object.h](Include/object.h)\n- [Lib/test/test_stable_abi_ctypes.py](Lib/test/test_stable_abi_ctypes.py)\n- [Lib/test/test_sys.py](Lib/test/test_sys.py)\n- [Misc/stable_abi.toml](Misc/stable_abi.toml)\n- [Modules/signalmodule.c](Modules/signalmodule.c)\n- [PC/python3dll.c](PC/python3dll.c)\n- [Python/ceval_gil.c](Python/ceval_gil.c)\n- [Python/clinic/sysmodule.c.h](Python/clinic/sysmodule.c.h)\n- [Python/pylifecycle.c](Python/pylifecycle.c)\n- [Python/pystate.c](Python/pystate.c)\n- [Python/sysmodule.c](Python/sysmodule.c)\n\n\u003c/details\u003e\n\n\n\nThis page documents CPython's runtime and thread management system, which is responsible for managing the global runtime state, interpreter instances, thread state, and concurrency control mechanisms like the Global Interpreter Lock (GIL). For information about memory management and object allocation, see [Object System and Memory Management](#3).\n\n## Overview\n\nThe Python runtime system consists of several hierarchical components that work together to manage the interpreter's execution environment:\n\n```mermaid\ngraph TD\n    subgraph \"Runtime Components\"\n        Runtime[\"_PyRuntimeState\\n(Global Singleton)\"]\n        Interp[\"PyInterpreterState\\n(One per interpreter)\"]\n        Thread[\"PyThreadState\\n(One per OS thread)\"]\n        Frame[\"_PyInterpreterFrame\\n(One per Python frame)\"]\n        \n        Runtime --\u003e Interp\n        Interp --\u003e Thread\n        Thread --\u003e Frame\n    end\n\n    subgraph \"Synchronization\"\n        GIL[\"Global Interpreter Lock\\n(per interpreter)\"]\n        ThreadMutex[\"Thread Mutex\\n(for thread creation/deletion)\"]\n        \n        GIL --\u003e Thread\n        ThreadMutex --\u003e Thread\n    end\n    \n    subgraph \"State Management\"\n        TSS[\"Thread-Specific Storage\\n(OS thread local)\"]\n        ThreadBind[\"Thread Binding APIs\"]\n        \n        ThreadBind --\u003e TSS\n        TSS --\u003e Thread\n    end\n```\n\nThe runtime system manages:\n\n1. **Global Runtime State**: Maintains global information shared by all interpreters\n2. **Interpreter Instances**: Each with its own global state and modules\n3. **Thread States**: Tracks execution state for each OS thread\n4. **GIL Management**: Controls thread access to the Python interpreter\n5. **Thread Creation and Finalization**: Handles thread lifecycle\n\nSources: [Python/pystate.c](), [Python/pylifecycle.c](), [Include/internal/pycore_runtime.h](), [Include/internal/pycore_interp.h]()\n\n## Runtime State\n\nThe global runtime state is represented by the `_PyRuntimeState` structure, a singleton that exists for the lifetime of the Python process. It contains process-wide information and serves as the root of the interpreter state hierarchy.\n\n```mermaid\nclassDiagram\n    class _PyRuntimeState {\n        bool initialized\n        bool core_initialized\n        bool preinitialized\n        PyPreConfig preconfig\n        PyThreadState *finalizing\n        PyInterpreterState *interpreters.head\n        PyInterpreterState *main_interpreter\n        unsigned long main_thread\n        struct _gil_runtime_state gil\n    }\n```\n\nKey components and fields:\n\n- **Initialization flags**: Track if Python is initialized (`initialized`, `core_initialized`)\n- **Interpreter list**: Tracks all interpreter instances (`interpreters.head`)\n- **Main interpreter**: Direct reference to the main interpreter (`main_interpreter`)\n- **Main thread ID**: ID of the main thread for the main interpreter (`main_thread`)\n- **Thread-local storage**: Keys for thread state storage (`autoTSSkey`)\n- **GIL state**: Global interpreter lock data (`gil`)\n\nThe runtime is initialized by `_PyRuntimeState_Init()` and finalized by `_PyRuntimeState_Fini()`. During initialization, thread-local storage keys are created, and various subsystems are initialized.\n\nSources: [Python/pystate.c:446-486](), [Python/pystate.c:489-503](), [Include/internal/pycore_runtime_init.h:39-121]()\n\n## Interpreter State\n\nEach Python interpreter instance is represented by a `PyInterpreterState` structure. Multiple interpreters can coexist in a single process, each with its own global state. The first interpreter created is the \"main interpreter\".\n\n```mermaid\nclassDiagram\n    class PyInterpreterState {\n        _PyRuntimeState *runtime\n        int64_t id\n        int id_refcount\n        PyInterpreterState *next\n        PyThreadState *threads.head\n        PyObject *modules\n        PyObject *builtins\n        PyObject *sysdict\n        unsigned long feature_flags\n        struct _gc_runtime_state gc\n        struct _ceval_state ceval\n        int _initialized\n    }\n```\n\nKey attributes and responsibilities:\n\n- **Runtime reference**: Points to the global runtime (`runtime`)\n- **Interpreter ID**: Unique identifier (`id`)\n- **Thread list**: Linked list of all threads in this interpreter (`threads.head`)\n- **Module state**: Dictionary of loaded modules (`modules`)\n- **Builtin objects**: Dictionary of built-in functions and objects (`builtins`)\n- **System state**: The `sys` module's dictionary (`sysdict`)\n- **Feature flags**: Runtime feature capabilities (`feature_flags`)\n- **GC state**: Garbage collector state for this interpreter (`gc`)\n- **Evaluation state**: Code evaluation and GIL state (`ceval`)\n\nInterpreters are created with `PyInterpreterState_New()` and destroyed with `PyInterpreterState_Clear()` followed by `PyInterpreterState_Delete()`.\n\nSources: [Python/pystate.c:707-788](), [Python/pystate.c:812-958](), [Include/internal/pycore_interp.h:76-97]()\n\n## Thread State\n\nEach OS thread that executes Python code is represented by a `PyThreadState` structure. This structure maintains all the thread-specific execution state needed by the interpreter.\n\n```mermaid\nclassDiagram\n    class PyThreadState {\n        PyInterpreterState *interp\n        PyThreadState *prev\n        PyThreadState *next\n        int holds_gil\n        int state\n        uintptr_t eval_breaker\n        PyObject *exc_value\n        struct _PyInterpreterFrame *current_frame\n        int py_recursion_remaining\n        int py_recursion_limit\n        int tracing\n        Py_tracefunc c_tracefunc\n        Py_tracefunc c_profilefunc\n        struct _ts._status status\n    }\n```\n\nKey components:\n\n- **Interpreter reference**: Points to the interpreter it belongs to (`interp`)\n- **Threading list**: Linked list pointers for thread registry (`prev`, `next`)\n- **GIL status**: Flag indicating if this thread holds the GIL (`holds_gil`)\n- **Thread state**: Current execution state (`state` - attached, detached, or suspended)\n- **Evaluation breaker**: Flags for interrupting execution (`eval_breaker`)\n- **Exception state**: Current exception being handled (`exc_value`)\n- **Execution frame**: Current Python frame being executed (`current_frame`)\n- **Recursion control**: Limits on recursion depth (`py_recursion_remaining`, `py_recursion_limit`)\n- **Tracing state**: Used for profiling and debugging (`tracing`, `c_tracefunc`, `c_profilefunc`)\n- **Status flags**: Internal thread state flags (`_status`)\n\nThread state transitions follow this lifecycle:\n\n```mermaid\nstateDiagram-v2\n    [*] --\u003e Created: PyThreadState_New()\n    Created --\u003e Bound: _PyThreadState_Bind()\n    Bound --\u003e Active: PyThreadState_Swap()\n    Active --\u003e Inactive: PyThreadState_Swap(NULL)\n    Inactive --\u003e Bound\n    Inactive --\u003e Unbound: _PyThreadState_Unbind()\n    Unbound --\u003e Cleared: PyThreadState_Clear()\n    Cleared --\u003e Deleted: PyThreadState_Delete()\n    Deleted --\u003e [*]\n    \n    Bound --\u003e Suspended: _PyThreadState_Suspend()\n    Suspended --\u003e Bound: _PyThreadState_Resume()\n```\n\nThread state also manages the thread-specific storage variables that allow thread-local data.\n\nSources: [Python/pystate.c:250-301](), [Include/cpython/pystate.h:66-265](), [Python/pystate.c:147-178]()\n\n## Global Interpreter Lock (GIL)\n\nThe Global Interpreter Lock (GIL) is a mutex that prevents multiple threads from executing Python bytecode simultaneously within the same interpreter. It's a fundamental aspect of CPython's concurrency model.\n\n```mermaid\nflowchart TD\n    Thread1[\"Thread 1\"] --\u003e|\"Acquire GIL\"| HasGIL1[\"Has GIL\\nExecutes Python\"]\n    HasGIL1 --\u003e|\"Drop GIL\"| NoGIL1[\"Waiting\\nFor GIL\"]\n    NoGIL1 --\u003e|\"Acquire GIL\"| HasGIL1\n    \n    Thread2[\"Thread 2\"] --\u003e|\"Try Acquire GIL\"| NoGIL2[\"Waiting\\nFor GIL\"]\n    NoGIL2 --\u003e|\"GIL Released\\nby Thread 1\"| HasGIL2[\"Has GIL\\nExecutes Python\"]\n    HasGIL2 --\u003e|\"Drop GIL\"| NoGIL2\n    \n    subgraph \"gil_mutex protected\"\n        GIL[\"GIL State\\n(locked=0/1)\"]\n        LastHolder[\"Last Holder\\n(PyThreadState*)\"]\n    end\n    \n    HasGIL1 -.-\u003e GIL\n    HasGIL2 -.-\u003e GIL\n    HasGIL1 -.-\u003e LastHolder\n    HasGIL2 -.-\u003e LastHolder\n```\n\nThe GIL implementation has these key components:\n\n1. **GIL State**: A mutex-protected flag that indicates if the GIL is held (`gil-\u003elocked`)\n2. **GIL Mutex**: A system mutex that protects access to the GIL state (`gil-\u003emutex`)\n3. **GIL Condition Variable**: Used for signaling threads waiting for the GIL (`gil-\u003econd`)\n4. **Switch Interval**: Controls how long a thread can hold the GIL before other threads get a chance (`gil-\u003einterval`, configurable via `sys.setswitchinterval()`)\n\nGIL operations include:\n\n- **Acquisition**: Through `take_gil()`, which waits until the GIL is available, then acquires it\n- **Release**: Through `drop_gil()`, which releases the GIL and notifies waiting threads\n- **Forced switching**: The evaluation loop periodically checks if other threads want the GIL and releases it if requested\n\nThe GIL ensures thread safety for Python's memory management and reference counting, at the cost of true parallel execution of Python code.\n\nSources: [Python/ceval_gil.c:52-275](), [Python/ceval_gil.c:278-460]()\n\n## Free-Threading Mode (Python 3.13+)\n\nPython 3.13 introduces an experimental \"free-threading\" mode that allows Python to operate without the GIL, enabling true parallel execution of Python code across multiple cores.\n\n```mermaid\nflowchart TD\n    Build[\"Build Python\\nwith --disable-gil\"] --\u003e FreeThreaded[\"Free-Threaded\\nPython Executable\"]\n    \n    FreeThreaded --\u003e RunWith[\"Run with GIL\\n(PYTHON_GIL=1)\"]\n    FreeThreaded --\u003e RunWithout[\"Run without GIL\\n(PYTHON_GIL=0/default)\"]\n    \n    RunWith --\u003e SingleThread[\"Single-threaded\\nOperation\\n(compatible with all extensions)\"]\n    RunWithout --\u003e MultiThread[\"Multi-threaded\\nParallel Operation\\n(requires compatible extensions)\"]\n    \n    ExtensionCheck{\"Extension\\nSupports\\nFree-threading?\"} --\u003e |\"Yes\"| NoGIL[\"Run without GIL\\n(full parallelism)\"]\n    ExtensionCheck --\u003e |\"No\"| FallbackGIL[\"Enable GIL\\nfor this operation\"]\n```\n\nKey aspects of free-threading mode:\n\n1. **Build-time option**: Requires compiling Python with `--disable-gil`\n2. **Runtime control**: Can be enabled/disabled at runtime with `PYTHON_GIL` environment variable or `X gil=0/1` option\n3. **Extension compatibility**: C extensions must explicitly indicate support for free-threading\n4. **Performance**: Single-threaded performance is reduced, but parallel execution can provide overall speedup\n5. **Thread synchronization**: Uses atomic operations and fine-grained locks instead of the GIL\n\nIn free-threading mode, thread safety is ensured through atomic reference counting and per-object locks. C extensions need to be adapted to support this mode, and importing incompatible extensions will automatically enable the GIL.\n\nSources: [Doc/whatsnew/3.13.rst:102-115](), [Python/ceval_gil.c:227-274](), [Include/object.h:147-163]()\n\n## Thread Management APIs\n\nCPython provides several APIs for creating and managing thread states:\n\n### Thread State Creation and Management\n\n```mermaid\nsequenceDiagram\n    participant App as Application Code\n    participant API as Thread Management API\n    participant Runtime as Runtime System\n    participant TSS as Thread-Specific Storage\n    \n    App-\u003e\u003eAPI: PyThreadState_New(interp)\n    API-\u003e\u003eRuntime: Create new thread state\n    Runtime--\u003e\u003eAPI: Return new PyThreadState\n    \n    App-\u003e\u003eAPI: _PyThreadState_Bind(tstate)\n    API-\u003e\u003eTSS: Store thread state in TSS\n    API-\u003e\u003eRuntime: Mark thread state as bound\n    \n    App-\u003e\u003eAPI: PyThreadState_Swap(tstate)\n    API-\u003e\u003eRuntime: Set current thread state\n    Runtime--\u003e\u003eAPI: Return previous thread state\n    \n    App-\u003e\u003eAPI: _PyEval_AcquireLock(tstate)\n    API-\u003e\u003eRuntime: Acquire the GIL\n    \n    App-\u003e\u003eAPI: _PyEval_ReleaseLock(tstate)\n    API-\u003e\u003eRuntime: Release the GIL\n```\n\nKey thread management functions:\n\n1. **Thread State Creation**:\n   - `PyThreadState_New()`: Creates a new thread state for a given interpreter\n   - `_PyThreadState_Bind()`: Binds a thread state to the current OS thread\n\n2. **Thread State Activation**:\n   - `PyThreadState_Swap()`: Makes a thread state the current thread state\n   - `_PyThreadState_GET()`: Gets the current thread state (internal)\n\n3. **GIL Management**:\n   - `_PyEval_AcquireLock()`: Acquires the GIL for a thread\n   - `_PyEval_ReleaseLock()`: Releases the GIL\n\n4. **Thread State Finalization**:\n   - `PyThreadState_Clear()`: Clears a thread state's data\n   - `PyThreadState_Delete()`: Deallocates a thread state\n\n5. **Thread State Suspension** (for GIL-free mode):\n   - `_PyThreadState_Suspend()`: Suspends a thread (puts it in suspended state)\n   - `_PyThreadState_Resume()`: Resumes a suspended thread\n\nThese APIs are primarily used by the threading module and C extensions that need to create or manage threads.\n\nSources: [Python/pystate.c:615-704](), [Python/ceval_gil.c:284-378]()\n\n## Interpreter Interaction with sys Module\n\nThe `sys` module provides Python code with access to some runtime and thread state information and control:\n\n```mermaid\nflowchart LR\n    subgraph \"Python Code\"\n        PyCode[\"Python Application\"]\n    end\n    \n    subgraph \"sys Module\"\n        SysModule[\"sys module\"]\n        Switchinterval[\"sys.getswitchinterval()\\nsys.setswitchinterval()\"]\n        ThreadInfo[\"sys._current_frames()\\nsys._current_exceptions()\"]\n        IsGILEnabled[\"sys._is_gil_enabled()\"]\n    end\n    \n    subgraph \"Runtime System\"\n        Runtime[\"_PyRuntimeState\"]\n        GIL[\"GIL State\"]\n        ThreadStates[\"Thread States\"]\n    end\n    \n    PyCode --\u003e SysModule\n    SysModule --\u003e Runtime\n    Switchinterval \u003c--\u003e GIL\n    ThreadInfo \u003c--\u003e ThreadStates\n    IsGILEnabled \u003c--\u003e GIL\n```\n\nKey sys module features related to runtime and threading:\n\n1. **GIL Control**:\n   - `sys.getswitchinterval()`: Gets the GIL switch interval\n   - `sys.setswitchinterval()`: Sets the GIL switch interval\n\n2. **Thread Information**:\n   - `sys._current_frames()`: Gets current frame objects for all threads\n   - `sys._current_exceptions()`: Gets current exceptions for all threads\n\n3. **Free-Threading Information**:\n   - `sys._is_gil_enabled()`: Checks if the GIL is enabled (new in 3.13)\n\nThese APIs allow Python code to interact with and observe the runtime and thread management system.\n\nSources: [Python/sysmodule.c:79-145](), [Python/sysmodule.c:148-212](), [Doc/library/sys.rst:1-167]()\n\n## Thread State Binding and Thread-Local Storage\n\nCPython uses thread-local storage (TLS) to associate thread states with OS threads:\n\n```mermaid\nflowchart TD\n    subgraph \"OS Thread\"\n        TSS[\"Thread-Specific Storage\\n(TSS)\"]\n    end\n    \n    subgraph \"Python Runtime\"\n        PyThreadState[\"PyThreadState\"]\n        Current[\"Current Thread State\\n(fast access)\"]\n        Bound[\"Thread State Registry\"]\n    end\n    \n    TSS --\u003e|\"Points to\"| PyThreadState\n    PyThreadState --\u003e|\"May be\"| Current\n    PyThreadState --\u003e|\"Registered in\"| Bound\n```\n\nTwo types of thread state storage exist:\n\n1. **Fast Current Thread State**: For the thread currently holding the GIL, accessed via `_PyThreadState_GET()`\n2. **Thread-Specific Storage**: Links OS threads to their thread states, managed with `gilstate_tss_get()` and `gilstate_tss_set()`\n\nThread binding operations:\n\n- `bind_tstate()`: Associates a thread state with the current OS thread\n- `unbind_tstate()`: Dissociates a thread state from its OS thread\n- `bind_gilstate_tstate()`: Binds a thread state for GIL state API usage\n\nThese mechanisms ensure that thread states are properly associated with OS threads and can be correctly accessed from anywhere in the code.\n\nSources: [Python/pystate.c:124-165](), [Python/pystate.c:249-301](), [Python/pystate.c:320-354]()"])</script><script>self.__next_f.push([1,"21:T3aab,"])</script><script>self.__next_f.push([1,"# Interpreter State and GIL\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [Doc/data/stable_abi.dat](Doc/data/stable_abi.dat)\n- [Doc/library/sys.rst](Doc/library/sys.rst)\n- [Doc/whatsnew/3.13.rst](Doc/whatsnew/3.13.rst)\n- [Include/Python.h](Include/Python.h)\n- [Include/cpython/pystate.h](Include/cpython/pystate.h)\n- [Include/internal/pycore_ceval.h](Include/internal/pycore_ceval.h)\n- [Include/internal/pycore_ceval_state.h](Include/internal/pycore_ceval_state.h)\n- [Include/internal/pycore_interp.h](Include/internal/pycore_interp.h)\n- [Include/internal/pycore_pystate.h](Include/internal/pycore_pystate.h)\n- [Include/internal/pycore_runtime.h](Include/internal/pycore_runtime.h)\n- [Include/internal/pycore_runtime_init.h](Include/internal/pycore_runtime_init.h)\n- [Include/internal/pycore_signal.h](Include/internal/pycore_signal.h)\n- [Include/internal/pycore_tstate.h](Include/internal/pycore_tstate.h)\n- [Include/intrcheck.h](Include/intrcheck.h)\n- [Include/object.h](Include/object.h)\n- [Lib/test/test_stable_abi_ctypes.py](Lib/test/test_stable_abi_ctypes.py)\n- [Lib/test/test_sys.py](Lib/test/test_sys.py)\n- [Misc/stable_abi.toml](Misc/stable_abi.toml)\n- [Modules/signalmodule.c](Modules/signalmodule.c)\n- [PC/python3dll.c](PC/python3dll.c)\n- [Python/ceval_gil.c](Python/ceval_gil.c)\n- [Python/clinic/sysmodule.c.h](Python/clinic/sysmodule.c.h)\n- [Python/pylifecycle.c](Python/pylifecycle.c)\n- [Python/pystate.c](Python/pystate.c)\n- [Python/sysmodule.c](Python/sysmodule.c)\n\n\u003c/details\u003e\n\n\n\nThis document explains the interpreter state and Global Interpreter Lock (GIL) in CPython, which form the foundation of Python's concurrency model. The interpreter state maintains the global state for a Python interpreter instance, while the GIL ensures thread safety by allowing only one thread to execute Python bytecode at a time. For information about the more recent Free-Threading Mode introduced in Python 3.13, see the last section of this document.\n\n## Overview of Interpreter State and GIL\n\nThe interpreter state (`PyInterpreterState`) is a structure that maintains the global state for a Python interpreter instance. It manages modules, builtins, thread states, and other interpreter-wide resources. CPython can support multiple interpreters within a single process - each with their own global state.\n\nThe Global Interpreter Lock (GIL) is a mutex that prevents multiple native threads from executing Python bytecode simultaneously. It's a mechanism used to protect CPython's memory management and object system from race conditions. Only one thread can hold the GIL at any given time, which means that even on multi-core systems, CPython's threading is limited to concurrent, not parallel, execution of Python code.\n\n```mermaid\ngraph TD\n    subgraph \"Runtime State\"\n        Runtime[\"_PyRuntimeState\\nGlobal runtime state\"]\n        GIL[\"GIL Management\\n_gil_runtime_state\"]\n    end\n    \n    subgraph \"Interpreter States\"\n        InterpMain[\"Main Interpreter\\nPyInterpreterState\"]\n        InterpSub[\"Sub-Interpreter\\nPyInterpreterState\"]\n    end\n    \n    subgraph \"Thread States\"\n        Thread1[\"Thread 1\\nPyThreadState\"]\n        Thread2[\"Thread 2\\nPyThreadState\"]\n        Thread3[\"Thread 3\\nPyThreadState\"]\n    end\n    \n    Runtime --\u003e InterpMain\n    Runtime --\u003e InterpSub\n    Runtime --\u003e GIL\n    \n    InterpMain --\u003e Thread1\n    InterpMain --\u003e Thread2\n    InterpSub --\u003e Thread3\n    \n    Thread1 -.-\u003e GIL\n    Thread2 -.-\u003e GIL\n    Thread3 -.-\u003e GIL\n```\n\nSources: [Python/pystate.c](), [Python/ceval_gil.c](), [Include/internal/pycore_interp.h](), [Include/internal/pycore_runtime.h]()\n\n## Interpreter State Structure\n\nThe interpreter state represents a single Python interpreter, which includes all global state that needs to be visible across all threads within that interpreter. CPython maintains each interpreter's state in the `PyInterpreterState` structure.\n\n### Key Components\n\nThe `PyInterpreterState` structure consists of:\n\n| Component | Description |\n|-----------|-------------|\n| `id` | Unique identifier for the interpreter |\n| `runtime` | Reference to the runtime state |\n| `threads` | Thread states belonging to this interpreter |\n| `builtins` | Built-in objects dictionary |\n| `sysdict` | System module dictionary |\n| `modules` | Dictionary of imported modules |\n| `gc` | Garbage collection state |\n| `ceval` | Evaluation and GIL-related state |\n| `imports` | Import-related state |\n| `feature_flags` | Feature flag settings (threading, fork, etc.) |\n| `obmalloc` | Memory allocator state |\n\n### Relationship with Runtime\n\nThe runtime state (`_PyRuntimeState`) is a global structure that contains all Python interpreters, the thread state information, and global locks. The main interpreter is a special interpreter instance that is created automatically when Python starts and is accessible through the runtime state.\n\n```mermaid\ngraph TD\n    Runtime[\"_PyRuntimeState\"]\n    InterpretersHead[\"interpreters.head\"]\n    InterpretersMain[\"interpreters.main\"]\n    GIL[\"Global Interpreter Lock\\ninterp-\u003eceval.gil\"]\n    \n    Runtime --\u003e InterpretersHead\n    Runtime --\u003e InterpretersMain\n    \n    InterpretersHead --\u003e Interp1[\"PyInterpreterState\\n(id=0, main)\"]\n    Interp1 --\u003e Interp2[\"PyInterpreterState\\n(id=1, subinterpreter)\"]\n    Interp2 --\u003e Interp3[\"PyInterpreterState\\n(id=2, subinterpreter)\"]\n    \n    Interp1 --\u003e GIL\n    \n    Interp1 --\u003e Thread1[\"PyThreadState\"]\n    Interp1 --\u003e Thread2[\"PyThreadState\"]\n    Interp2 --\u003e Thread3[\"PyThreadState\"]\n    Interp3 --\u003e Thread4[\"PyThreadState\"]\n```\n\nSources: [Python/pystate.c:585-704](), [Include/internal/pycore_interp.h](), [Include/internal/pycore_runtime_init.h:122-154]()\n\n## Global Interpreter Lock (GIL)\n\nThe GIL is a mutual exclusion lock that allows only one thread to hold control of the Python interpreter at any given time. Its primary purpose is to simplify memory management and avoid race conditions in CPython's reference counting system.\n\n### Implementation Details\n\nThe GIL implementation in CPython consists of:\n\n- A mutex (`gil-\u003emutex`) for exclusive access\n- A condition variable (`gil-\u003econd`) for signaling\n- A flag (`gil-\u003elocked`) to track lock state\n- A reference to the last thread that held the lock (`gil-\u003elast_holder`)\n- An interval setting for thread switching\n\n```mermaid\ngraph TD\n    subgraph \"GIL Structure\"\n        Mutex[\"gil-\u003emutex\\nExclusive access control\"]\n        Cond[\"gil-\u003econd\\nCondition variable for signaling\"]\n        Locked[\"gil-\u003elocked\\nLock state flag\"]\n        LastHolder[\"gil-\u003elast_holder\\nLast thread holding GIL\"]\n        Interval[\"gil-\u003einterval\\nThread switch interval (s)\"]\n    end\n    \n    subgraph \"Thread Switching\"\n        T1[\"Thread 1\\nRunning Python\"]\n        T2[\"Thread 2\\nWaiting for GIL\"]\n        SwitchReq[\"gil_drop_request\\nThread switch signal\"]\n        EvalBreaker[\"eval_breaker\\nCheck for events\"]\n    end\n    \n    T1 --\u003e Locked\n    T1 --\u003e LastHolder\n    \n    T2 --\u003e SwitchReq\n    SwitchReq --\u003e EvalBreaker\n    EvalBreaker --\u003e T1\n    \n    Mutex --\u003e Locked\n    Locked --\u003e Cond\n    Cond --\u003e T2\n```\n\nSources: [Python/ceval_gil.c:147-191](), [Python/ceval_gil.c:203-254]()\n\n### GIL Acquisition and Release\n\nThe core GIL operations are:\n\n1. **Acquiring the GIL** (`take_gil`):\n   - Wait for the lock to be available\n   - Set the current thread as the lock holder\n   - Update the thread state to mark that it holds the GIL\n\n2. **Releasing the GIL** (`drop_gil`):\n   - Release the lock\n   - Signal waiting threads that the GIL is available\n   - Handle thread switching requests\n\n```mermaid\nsequenceDiagram\n    participant Thread1 as \"Thread 1\"\n    participant GIL as \"GIL\"\n    participant Thread2 as \"Thread 2\"\n    \n    Note over Thread1: Running Python code\n    \n    Thread2-\u003e\u003eGIL: take_gil()\n    GIL--\u003e\u003eThread2: Blocked (waiting)\n    \n    Note over Thread2: After waiting interval\n    Thread2-\u003e\u003eGIL: Set drop_request flag\n    \n    Note over Thread1: Periodic check of eval_breaker\n    Thread1-\u003e\u003eGIL: drop_gil()\n    GIL--\u003e\u003eThread1: Lock released\n    GIL--\u003e\u003eThread2: Signal lock available\n    \n    Thread2-\u003e\u003eGIL: take_gil()\n    GIL--\u003e\u003eThread2: Lock acquired\n    \n    Note over Thread2: Running Python code\n```\n\nSources: [Python/ceval_gil.c:284-360](), [Python/ceval_gil.c:203-254]()\n\n## Thread State\n\nThe thread state (`PyThreadState`) keeps track of thread-specific data within a Python interpreter. Each thread that interacts with Python has its own thread state structure.\n\n### Key Components\n\nThe thread state includes:\n\n| Component | Description |\n|-----------|-------------|\n| `interp` | Reference to the interpreter state |\n| `next/prev` | Doubly-linked list of thread states |\n| `holds_gil` | Flag indicating if thread holds the GIL |\n| `current_frame` | Pointer to the current execution frame |\n| `state` | Thread state (attached, detached, suspended) |\n| `py_recursion_remaining` | Recursion limit control |\n| `tracing` | Tracing/profiling state |\n| `c_profilefunc` | C profiler function |\n| `c_tracefunc` | C tracing function |\n| `eval_breaker` | Flags to break out of the interpreter loop |\n\n### Thread State Lifecycle\n\nThread states go through several phases:\n\n1. **Creation**: Allocate and initialize the thread state\n2. **Binding**: Associate the thread state with an OS thread\n3. **Attachment**: Mark the thread as active and potentially holding the GIL\n4. **Detachment**: Release the GIL and mark the thread as inactive\n5. **Deletion**: Free the thread state resources\n\n```mermaid\nstateDiagram-v2\n    [*] --\u003e Created: PyThreadState_New()\n    Created --\u003e Bound: _PyThreadState_Bind()\n    Bound --\u003e Attached: _PyThreadState_Attach()\n    Attached --\u003e Detached: _PyThreadState_Detach()\n    Detached --\u003e Attached: _PyThreadState_Attach()\n    Detached --\u003e [*]: PyThreadState_Clear()\n    \n    note right of Attached\n        Thread has the GIL\n        Can execute Python code\n    end note\n    \n    note right of Detached\n        Thread released the GIL\n        Cannot execute Python code\n    end note\n```\n\nSources: [Python/pystate.c:250-301](), [Include/cpython/pystate.h:66-186](), [Include/internal/pycore_pystate.h:44-47]()\n\n## Interpreter Lifecycle\n\nThe lifecycle of a Python interpreter involves creation, initialization, and finalization stages.\n\n### Initialization\n\n1. **Creation**: A new `PyInterpreterState` structure is allocated\n2. **Initialization**: The interpreter's state is set up, including:\n   - Setting the interpreter ID\n   - Linking to the runtime state\n   - Initializing the evaluation state, GC, and type system\n   - Setting feature flags\n3. **First Thread**: The main thread is created and bound to the interpreter\n4. **GIL Creation**: The GIL is created for the interpreter\n\n### Finalization\n\nWhen an interpreter is no longer needed, it goes through a finalization process:\n\n1. **Clear Thread States**: All thread states are cleared\n2. **Clear Memory**: Module dictionaries, builtins, and other resources are released\n3. **Final GC Collection**: A final garbage collection is performed\n4. **Free Resources**: The interpreter structure itself is freed\n\n```mermaid\nflowchart TB\n    subgraph \"Interpreter Creation\"\n        Create[\"PyInterpreterState_New()\"]\n        InitInterp[\"init_interpreter()\"]\n        SetWhence[\"Set interpreter source\"]\n        SetReady[\"Mark as ready (interp-\u003e_ready = 1)\"]\n        CopyConfig[\"Copy PyConfig\"]\n        InitGILState[\"Initialize GIL state\"]\n        InitSettings[\"init_interp_settings()\"]\n        InitTypes[\"Initialize type system\"]\n        CreateThread[\"Create initial thread state\"]\n        InitGIL[\"Create GIL\"]\n    end\n    \n    subgraph \"Interpreter Finalization\"\n        ClearThreads[\"Clear all thread states\"]\n        ClearModules[\"Clear modules dictionary\"]\n        FinalGC[\"Final garbage collection\"]\n        ClearBuiltins[\"Clear builtins dictionary\"]\n        FreeInterp[\"free_interpreter()\"]\n    end\n    \n    Create --\u003e InitInterp\n    InitInterp --\u003e SetWhence\n    SetWhence --\u003e SetReady\n    SetReady --\u003e CopyConfig\n    CopyConfig --\u003e InitGILState\n    InitGILState --\u003e InitSettings\n    InitSettings --\u003e InitTypes\n    InitTypes --\u003e CreateThread\n    CreateThread --\u003e InitGIL\n    \n    ClearThreads --\u003e ClearModules\n    ClearModules --\u003e FinalGC\n    FinalGC --\u003e ClearBuiltins\n    ClearBuiltins --\u003e FreeInterp\n```\n\nSources: [Python/pystate.c:615-704](), [Python/pystate.c:812-947](), [Python/pylifecycle.c:611-677]()\n\n## Free-Threading Mode in Python 3.13\n\nPython 3.13 introduces experimental support for running in a free-threaded mode, where the GIL can be disabled. This allows for true parallel execution of Python code on multiple CPU cores.\n\n### Implementation\n\nThe free-threading mode introduces significant changes:\n\n1. **Optional GIL**: The GIL can be disabled at build time with `--disable-gil`\n2. **Thread-Safe Objects**: Python objects are made thread-safe through per-object locks\n3. **Reference Counting**: A more complex reference counting system is used with local and shared counters\n\n```mermaid\nflowchart LR\n    subgraph \"Standard CPython (GIL)\"\n        GIL[\"Global Interpreter Lock\"]\n        Thread1GIL[\"Thread 1\"]\n        Thread2GIL[\"Thread 2\"]\n        Thread3GIL[\"Thread 3\"]\n        PyObjectGIL[\"PyObject\\n- ob_refcnt\"]\n    end\n    \n    subgraph \"Free-Threading Mode\"\n        NoGIL[\"No Global Lock\"]\n        Thread1FT[\"Thread 1\"]\n        Thread2FT[\"Thread 2\"]\n        Thread3FT[\"Thread 3\"]\n        PyObjectFT[\"PyObject\\n- ob_mutex\\n- ob_ref_local\\n- ob_ref_shared\"]\n    end\n    \n    Thread1GIL --\u003e GIL\n    Thread2GIL --\u003e GIL\n    Thread3GIL --\u003e GIL\n    GIL --\u003e PyObjectGIL\n    \n    Thread1FT --\u003e PyObjectFT\n    Thread2FT --\u003e PyObjectFT\n    Thread3FT --\u003e PyObjectFT\n```\n\n### Enabling Free-Threading Mode\n\nFree-threading mode:\n- Is not enabled by default\n- Requires a special build of Python (usually named `python3.13t`)\n- Can be built from source with the `--disable-gil` option\n- Is experimental and may cause performance regressions for single-threaded code\n\n### Compatibility Considerations\n\nC extensions need special handling for free-threaded mode:\n- Extensions need to be built specifically for free-threading\n- They must use the `Py_mod_gil` slot to indicate GIL support\n- Single-phase init extensions using `PyUnstable_Module_SetGIL`\n\nSources: [Doc/whatsnew/3.13.rst:306-352](), [Include/object.h:147-163](), [Python/pystate.c:260-299]()\n\n## Conclusion\n\nThe interpreter state and GIL form the foundation of CPython's execution model. The interpreter state maintains global resources and context for Python code execution, while the GIL ensures thread safety at the cost of parallel execution. With the introduction of the free-threading mode in Python 3.13, CPython is beginning to explore alternatives to the GIL that may enable true parallelism in the future, though this remains experimental for now.\n\nUnderstanding these components is crucial for Python extension developers, particularly those who need to work with threads or are developing modules that need to interact with the interpreter at a low level."])</script><script>self.__next_f.push([1,"22:T30f3,"])</script><script>self.__next_f.push([1,"# Free-Threading and Concurrency\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [Doc/data/stable_abi.dat](Doc/data/stable_abi.dat)\n- [Doc/library/sys.rst](Doc/library/sys.rst)\n- [Doc/whatsnew/3.13.rst](Doc/whatsnew/3.13.rst)\n- [Include/Python.h](Include/Python.h)\n- [Include/cpython/pystate.h](Include/cpython/pystate.h)\n- [Include/internal/pycore_ceval.h](Include/internal/pycore_ceval.h)\n- [Include/internal/pycore_ceval_state.h](Include/internal/pycore_ceval_state.h)\n- [Include/internal/pycore_interp.h](Include/internal/pycore_interp.h)\n- [Include/internal/pycore_pystate.h](Include/internal/pycore_pystate.h)\n- [Include/internal/pycore_runtime.h](Include/internal/pycore_runtime.h)\n- [Include/internal/pycore_runtime_init.h](Include/internal/pycore_runtime_init.h)\n- [Include/internal/pycore_signal.h](Include/internal/pycore_signal.h)\n- [Include/internal/pycore_tstate.h](Include/internal/pycore_tstate.h)\n- [Include/intrcheck.h](Include/intrcheck.h)\n- [Include/object.h](Include/object.h)\n- [Lib/test/test_stable_abi_ctypes.py](Lib/test/test_stable_abi_ctypes.py)\n- [Lib/test/test_sys.py](Lib/test/test_sys.py)\n- [Misc/stable_abi.toml](Misc/stable_abi.toml)\n- [Modules/signalmodule.c](Modules/signalmodule.c)\n- [PC/python3dll.c](PC/python3dll.c)\n- [Python/ceval_gil.c](Python/ceval_gil.c)\n- [Python/clinic/sysmodule.c.h](Python/clinic/sysmodule.c.h)\n- [Python/pylifecycle.c](Python/pylifecycle.c)\n- [Python/pystate.c](Python/pystate.c)\n- [Python/sysmodule.c](Python/sysmodule.c)\n\n\u003c/details\u003e\n\n\n\nThis page explains Python's approach to concurrency with a specific focus on the experimental free-threading mode introduced in Python 3.13. For information about multiprocessing and other concurrent execution approaches, see Python's standard library concurrency modules.\n\n## Introduction\n\nCPython, the reference implementation of Python, has traditionally used a Global Interpreter Lock (GIL) to synchronize access to Python objects. This lock prevents multiple native threads from executing Python bytecode simultaneously. While the GIL simplifies memory management and prevents race conditions, it also limits the ability to utilize multiple CPU cores with thread-based parallelism.\n\nPython 3.13 introduces an experimental \"free-threading\" mode that allows Python to run without the GIL, enabling true parallel execution of Python threads across multiple CPU cores.\n\nSources: [Doc/whatsnew/3.13.rst:306-352]()\n\n## The Global Interpreter Lock (GIL)\n\n### What is the GIL?\n\nThe GIL is a mutex that ensures only one thread executes Python bytecode at a time within a Python interpreter. When a thread wants to execute Python code, it must first acquire the GIL. If another thread already holds the GIL, the requesting thread must wait until the GIL is released.\n\n```mermaid\ngraph TD\n    subgraph \"GIL Overview\"\n        ThreadA[\"Thread A\"] --\u003e|\"has acquired\"| GIL[\"Global Interpreter Lock\"]\n        ThreadB[\"Thread B\"] --\u003e|\"waiting for\"| GIL\n        ThreadC[\"Thread C\"] --\u003e|\"waiting for\"| GIL\n        GIL --\u003e|\"protects\"| PyObjects[\"Python Objects\"]\n    end\n```\n\n### GIL Implementation\n\nThe GIL is implemented in CPython through the `_gil_runtime_state` structure, which contains:\n\n- `locked`: An atomic integer flag indicating if the GIL is currently held\n- `gil_mutex`: A mutex for controlling access to the GIL\n- `gil_cond`: A condition variable for threads to wait on the GIL\n- `last_holder`: A pointer to the thread state that last held the GIL\n\n```mermaid\ngraph TD\n    subgraph \"GIL Implementation Structure\"\n        GILState[\"_gil_runtime_state\"]\n        GILState --\u003e|\"contains\"| Locked[\"locked (atomic int)\"]\n        GILState --\u003e|\"contains\"| Mutex[\"gil_mutex (PyMUTEX_T)\"]\n        GILState --\u003e|\"contains\"| Cond[\"gil_cond (PyCOND_T)\"]\n        GILState --\u003e|\"contains\"| LastHolder[\"last_holder (PyThreadState*)\"]\n        GILState --\u003e|\"contains\"| Interval[\"interval (microseconds)\"]\n    end\n```\n\n### Thread Switching Mechanism\n\nTo prevent a single thread from monopolizing the GIL, Python implements a cooperative thread-switching mechanism:\n\n1. After executing for a certain interval (5ms by default), a thread becomes eligible to release the GIL\n2. Another waiting thread can set the `gil_drop_request` flag\n3. The current thread checks this flag regularly and releases the GIL when requested\n4. Other threads are given a chance to acquire the GIL\n\n```mermaid\nsequenceDiagram\n    participant ThreadA as \"Thread A\"\n    participant GIL as \"GIL\"\n    participant ThreadB as \"Thread B\"\n    \n    ThreadA-\u003e\u003eGIL: Acquire GIL\n    GIL--\u003e\u003eThreadA: Grant GIL\n    Note over ThreadA: Execute Python code\n    ThreadB-\u003e\u003eGIL: Request GIL\u003cbr\u003e(set gil_drop_request)\n    Note over ThreadA: Check gil_drop_request\n    ThreadA-\u003e\u003eGIL: Release GIL\n    GIL--\u003e\u003eThreadB: Grant GIL\n    ThreadB-\u003e\u003eThreadB: Execute Python code\n```\n\nSources: [Python/ceval_gil.c:49-144](), [Python/ceval_gil.c:202-275]()\n\n## Free-Threading Mode in Python 3.13\n\n### Overview\n\nPython 3.13 introduced experimental support for running without the GIL based on [PEP 703](https://peps.python.org/pep-0703/). This allows multiple threads to execute Python code in parallel on different CPU cores, potentially improving performance for CPU-bound multi-threaded code.\n\n```mermaid\ngraph TD\n    subgraph \"With GIL (Traditional)\"\n        TGil[\"Interpreter with GIL\"]\n        TThread1[\"Thread 1\"] --\u003e|\"has GIL\"| TGil\n        TThread2[\"Thread 2\"] --\u003e|\"waiting\"| TGil\n        TThread3[\"Thread 3\"] --\u003e|\"waiting\"| TGil\n        TGil --\u003e|\"only one thread\u003cbr\u003eexecutes at a time\"| TCPU[\"CPU Cores\"]\n    end\n    \n    subgraph \"Without GIL (Free-Threading)\"\n        FreeMode[\"Free-Threading Mode\"]\n        FThread1[\"Thread 1\"] --\u003e|\"executes on\"| Core1[\"CPU Core 1\"]\n        FThread2[\"Thread 2\"] --\u003e|\"executes on\"| Core2[\"CPU Core 2\"] \n        FThread3[\"Thread 3\"] --\u003e|\"executes on\"| Core3[\"CPU Core 3\"]\n        FreeMode --\u003e|\"enables\"| Parallel[\"Parallel Execution\"]\n    end\n```\n\n### Enabling Free-Threading\n\nFree-threading mode requires special build configuration:\n\n1. Use a pre-built \"free-threaded\" Python executable (typically named `python3.13t` or `python3.13t.exe`)\n2. Or build Python from source with the `--disable-gil` option\n\nEven with a free-threaded build, you can control the GIL at runtime:\n- Set environment variable `PYTHON_GIL=1` to enable the GIL\n- Use command-line option `-X gil=1` to enable the GIL\n- Use `sys._is_gil_enabled()` to check if the GIL is enabled in the current process\n\nSources: [Doc/whatsnew/3.13.rst:306-347](), [Python/pylifecycle.c:543-574]()\n\n### Memory Management Changes for Free-Threading\n\nTo support free-threading, significant changes were made to CPython's memory management:\n\n1. **Biased Reference Counting**: Objects have both thread-local (`ob_ref_local`) and shared atomic (`ob_ref_shared`) reference counts\n2. **Per-object Locks**: Each object has its own mutex (`ob_mutex`) for synchronization\n3. **Thread-specific Memory Management**: Thread-local arenas to reduce contention \n\n```mermaid\ngraph TD\n    subgraph \"Object Structure in Free-Threading Mode\"\n        PyObject[\"PyObject Structure\"]\n        PyObject --\u003e|\"has\"| ThreadID[\"ob_tid (thread ID)\"]\n        PyObject --\u003e|\"has\"| LocalRef[\"ob_ref_local (thread-local refcount)\"]\n        PyObject --\u003e|\"has\"| SharedRef[\"ob_ref_shared (atomic shared refcount)\"]\n        PyObject --\u003e|\"has\"| ObjectLock[\"ob_mutex (per-object lock)\"]\n        PyObject --\u003e|\"has\"| GCBits[\"ob_gc_bits (garbage collection state)\"]\n        PyObject --\u003e|\"has\"| Type[\"ob_type (object type)\"]\n    end\n```\n\nSources: [Include/object.h:152-163]()\n\n## Thread States and Interpreter States\n\n### Relationship Between States\n\nCPython's concurrency model is built around several key structures:\n\n- **Runtime State** (`_PyRuntimeState`): Global state for the entire Python process\n- **Interpreter State** (`PyInterpreterState`): State for a Python interpreter instance\n- **Thread State** (`PyThreadState`): State for a thread executing Python code\n\n```mermaid\ngraph TD\n    Runtime[\"_PyRuntimeState\"] --\u003e|\"contains\"| InterpreterList[\"Interpreter List\"]\n    InterpreterList --\u003e|\"contains\"| Interp1[\"PyInterpreterState (Main)\"]\n    InterpreterList --\u003e|\"contains\"| Interp2[\"PyInterpreterState (Sub)\"]\n    Interp1 --\u003e|\"contains\"| GIL[\"GIL\"]\n    Interp1 --\u003e|\"contains\"| ThreadList1[\"Thread List\"]\n    ThreadList1 --\u003e|\"contains\"| Thread1[\"PyThreadState\"]\n    ThreadList1 --\u003e|\"contains\"| Thread2[\"PyThreadState\"]\n    Interp2 --\u003e|\"contains\"| ThreadList2[\"Thread List\"]\n    ThreadList2 --\u003e|\"contains\"| Thread3[\"PyThreadState\"]\n```\n\n### Thread State Structure\n\nThe `PyThreadState` structure holds thread-specific data:\n\n- Pointer to the interpreter state (`interp`)\n- Current execution frame (`current_frame`)\n- Status flags (`_status`) including `initialized`, `bound`, `active`\n- GIL status (`holds_gil`)\n- Evaluation breaker flags (`eval_breaker`)\n\nIn free-threading mode, additional thread management states are used:\n- `_Py_THREAD_ATTACHED`: Thread is running Python code\n- `_Py_THREAD_DETACHED`: Thread is not running Python code\n- `_Py_THREAD_SUSPENDED`: Thread is paused (e.g., for garbage collection)\n\nSources: [Python/pystate.c:44-107](), [Include/internal/pycore_pystate.h:43-47]()\n\n## Extension Module Compatibility\n\n### Making Extensions Free-Threading Compatible\n\nC extension modules need to explicitly indicate their compatibility with free-threading:\n\n1. **For multi-phase initialization**, use the `Py_mod_gil` slot:\n   ```c\n   static PyModuleDef_Slot module_slots[] = {\n       {Py_mod_gil, (void*)0},  // 0 indicates free-threading is supported\n       {0, NULL}\n   };\n   ```\n\n2. **For single-phase initialization**, use `PyUnstable_Module_SetGIL`:\n   ```c\n   PyMODINIT_FUNC\n   PyInit_mymodule(void)\n   {\n       PyObject *module = PyModule_Create(\u0026mymodule_def);\n       PyUnstable_Module_SetGIL(module, 0);  // 0 = supports free-threading\n       return module;\n   }\n   ```\n\n### Impact on Importing Extensions\n\nWhen importing a C extension:\n\n- If the extension indicates free-threading support, it runs without the GIL\n- If not, the GIL is enabled for the entire process (unless override flags are set)\n- Extensions need pip 24.1+ to be installed in free-threaded builds\n\n```mermaid\nflowchart TD\n    Start[\"Import Extension Module\"] --\u003e ExtensionCheck[\"Check Extension GIL Compatibility\"]\n    ExtensionCheck --\u003e|\"Supports Free-Threading\"| NoGIL[\"Continue with GIL Disabled\"]\n    ExtensionCheck --\u003e|\"Requires GIL\"| GILCheck[\"Check Environment Override\"]\n    GILCheck --\u003e|\"PYTHON_GIL=0 or -X gil=0\"| ExtensionError[\"Import Error\"]\n    GILCheck --\u003e|\"No Override\"| EnableGIL[\"Enable GIL for Process\"]\n```\n\nSources: [Doc/whatsnew/3.13.rst:332-341]()\n\n## Performance Considerations\n\n### Trade-offs\n\nFree-threading mode offers performance trade-offs:\n\n- **Benefit**: Multi-threaded CPU-bound code can run faster with true parallelism\n- **Cost**: Single-threaded code may run slower due to synchronization overhead\n- **Cost**: Higher memory usage due to additional thread-local data structures\n- **Warning**: Being experimental, it may have bugs and stability issues\n\n### Best Practices\n\nWhen considering free-threading mode:\n\n1. **Benchmark your specific workload** to see if it benefits\n2. **Test thoroughly** for race conditions and threading issues\n3. **Verify compatibility** with required C extension modules\n4. **Consider alternatives** like multiprocessing for production workloads until free-threading is more stable\n\nSources: [Doc/whatsnew/3.13.rst:318-325]()\n\n## Checking and Managing GIL Status\n\nTo work effectively with free-threading mode:\n\n1. **Check build support**: `python -VV` will show \"experimental free-threading build\"\n2. **Check runtime GIL state**: `sys._is_gil_enabled()` returns whether GIL is enabled\n3. **Control GIL at startup**:\n   - Environment: `PYTHON_GIL=1` (enable) or `PYTHON_GIL=0` (disable)\n   - Command line: `-X gil=1` (enable) or `-X gil=0` (disable)\n\nSources: [Doc/whatsnew/3.13.rst:327-331]()\n\n## Future Direction\n\nFree-threading mode is experimental in Python 3.13 and will likely evolve in future versions. Key areas for improvement include:\n\n- Performance optimization of single-threaded code\n- Better support from third-party C extensions\n- Enhanced debugging tools for parallel code\n- Improved documentation and best practices\n\nWhile promising for CPU-bound applications, free-threading is not yet recommended for production deployments without thorough testing.\n\nSources: [Doc/whatsnew/3.13.rst:346-352]()"])</script><script>self.__next_f.push([1,"23:T40da,"])</script><script>self.__next_f.push([1,"# Extension Development and C API\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [Doc/c-api/allocation.rst](Doc/c-api/allocation.rst)\n- [Doc/c-api/bytearray.rst](Doc/c-api/bytearray.rst)\n- [Doc/c-api/bytes.rst](Doc/c-api/bytes.rst)\n- [Doc/c-api/capsule.rst](Doc/c-api/capsule.rst)\n- [Doc/c-api/concrete.rst](Doc/c-api/concrete.rst)\n- [Doc/c-api/exceptions.rst](Doc/c-api/exceptions.rst)\n- [Doc/c-api/import.rst](Doc/c-api/import.rst)\n- [Doc/c-api/memory.rst](Doc/c-api/memory.rst)\n- [Doc/c-api/module.rst](Doc/c-api/module.rst)\n- [Doc/c-api/set.rst](Doc/c-api/set.rst)\n- [Doc/c-api/structures.rst](Doc/c-api/structures.rst)\n- [Doc/c-api/sys.rst](Doc/c-api/sys.rst)\n- [Doc/c-api/type.rst](Doc/c-api/type.rst)\n- [Doc/c-api/typeobj.rst](Doc/c-api/typeobj.rst)\n- [Doc/c-api/utilities.rst](Doc/c-api/utilities.rst)\n- [Doc/data/stable_abi.dat](Doc/data/stable_abi.dat)\n- [Doc/extending/embedding.rst](Doc/extending/embedding.rst)\n- [Doc/extending/extending.rst](Doc/extending/extending.rst)\n- [Doc/extending/newtypes.rst](Doc/extending/newtypes.rst)\n- [Doc/howto/isolating-extensions.rst](Doc/howto/isolating-extensions.rst)\n- [Doc/tools/.nitignore](Doc/tools/.nitignore)\n- [Doc/whatsnew/3.13.rst](Doc/whatsnew/3.13.rst)\n- [Include/Python.h](Include/Python.h)\n- [Include/import.h](Include/import.h)\n- [Include/object.h](Include/object.h)\n- [Lib/test/test_capi/test_bytearray.py](Lib/test/test_capi/test_bytearray.py)\n- [Lib/test/test_capi/test_bytes.py](Lib/test/test_capi/test_bytes.py)\n- [Lib/test/test_capi/test_exceptions.py](Lib/test/test_capi/test_exceptions.py)\n- [Lib/test/test_capi/test_misc.py](Lib/test/test_capi/test_misc.py)\n- [Lib/test/test_capi/test_sys.py](Lib/test/test_capi/test_sys.py)\n- [Lib/test/test_stable_abi_ctypes.py](Lib/test/test_stable_abi_ctypes.py)\n- [Misc/stable_abi.toml](Misc/stable_abi.toml)\n- [Modules/Setup.stdlib.in](Modules/Setup.stdlib.in)\n- [Modules/_testcapi/bytes.c](Modules/_testcapi/bytes.c)\n- [Modules/_testcapi/clinic/exceptions.c.h](Modules/_testcapi/clinic/exceptions.c.h)\n- [Modules/_testcapi/codec.c](Modules/_testcapi/codec.c)\n- [Modules/_testcapi/exceptions.c](Modules/_testcapi/exceptions.c)\n- [Modules/_testcapi/numbers.c](Modules/_testcapi/numbers.c)\n- [Modules/_testcapi/parts.h](Modules/_testcapi/parts.h)\n- [Modules/_testcapi/util.h](Modules/_testcapi/util.h)\n- [Modules/_testcapimodule.c](Modules/_testcapimodule.c)\n- [Modules/_testinternalcapi.c](Modules/_testinternalcapi.c)\n- [Modules/_testlimitedcapi/codec.c](Modules/_testlimitedcapi/codec.c)\n- [PC/python3dll.c](PC/python3dll.c)\n- [PCbuild/_testcapi.vcxproj](PCbuild/_testcapi.vcxproj)\n- [PCbuild/_testcapi.vcxproj.filters](PCbuild/_testcapi.vcxproj.filters)\n\n\u003c/details\u003e\n\n\n\nThis page documents Python's C API, which enables developers to write extension modules in C that integrate with the Python runtime. Understanding the C API allows developers to create high-performance extensions, interface with external libraries, and access low-level system resources.\n\nFor information on Python's object model, see [Object System and Memory Management](#3). For details about interpreter state and threading, see [Runtime and Thread Management](#4).\n\n## API Layers and Compatibility\n\nThe Python C API has several layers with different compatibility guarantees:\n\n```mermaid\ngraph TD\n    subgraph \"API Layers\"\n        CAPI[\"C API\\n(Include/)\"] --\u003e InternalAPI[\"Internal API\\n(Include/internal/)\"]\n        CAPI --\u003e StableABI[\"Stable ABI\\n(stable_abi.toml)\"]\n        CAPI --\u003e LimitedAPI[\"Limited API\\n(Py_LIMITED_API)\"]\n        StableABI --\u003e LimitedAPI\n    end\n    \n    subgraph \"Extension Development\"\n        PyModule[\"PyModule_Create\\n(Module initialization)\"]\n        PyInit[\"PyInit_modulename\\n(Module entry point)\"]\n        PyType[\"PyType_FromSpec\\n(Type creation)\"]\n        ArgParse[\"Argument Parsing\\n(PyArg_ParseTuple)\"]\n        ArgClinic[\"Argument Clinic\\n(clinic.py)\"]\n        DocGen[\"Documentation Generation\"]\n    end\n    \n    CAPI --\u003e PyModule\n    CAPI --\u003e PyInit\n    CAPI --\u003e PyType\n    CAPI --\u003e ArgParse\n    ArgClinic --\u003e ArgParse\n    ArgClinic --\u003e DocGen\n```\n\nSources:\n- [Misc/stable_abi.toml]()\n- [Include/Python.h]()\n- [Doc/data/stable_abi.dat]()\n\n## Extension Module Structure\n\nA Python extension module is a compiled shared library with a specific structure:\n\n```mermaid\ngraph TD\n    subgraph \"Module Components\"\n        PyInit[\"PyInit_modulename()\\n(Entry Point)\"] --\u003e ModuleDef[\"PyModuleDef Structure\"]\n        ModuleDef --\u003e Methods[\"PyMethodDef Array\\n(Function Table)\"]\n        ModuleDef --\u003e Slots[\"PyModuleDef_Slot Array\\n(Optional)\"]\n        PyInit --\u003e CreateModule[\"PyModule_Create()\"]\n        CreateModule --\u003e AddTypes[\"Add Types\\nPyModule_AddObject()\"]\n        CreateModule --\u003e AddConstants[\"Add Constants\\nPyModule_AddIntConstant()\"]\n        CreateModule --\u003e Return[\"Return Module Object\"]\n    end\n```\n\n### Basic Module Implementation\n\nHere's a minimal module example:\n\n```c\nstatic PyMethodDef methods[] = {\n    {\"example\", (PyCFunction)example_func, METH_VARARGS, \"Example function\"},\n    {NULL, NULL, 0, NULL}  // Sentinel\n};\n\nstatic struct PyModuleDef moduledef = {\n    PyModuleDef_HEAD_INIT,\n    \"mymodule\",       // m_name\n    \"Module docstring\", // m_doc\n    -1,               // m_size (module state size)\n    methods,          // m_methods\n    NULL,             // m_slots\n    NULL,             // m_traverse\n    NULL,             // m_clear\n    NULL              // m_free\n};\n\nPyMODINIT_FUNC PyInit_mymodule(void) {\n    return PyModule_Create(\u0026moduledef);\n}\n```\n\nSources:\n- [Modules/_testcapimodule.c:30-68]()\n- [Doc/c-api/module.rst]()\n\n## Module Initialization Approaches\n\nPython supports two module initialization approaches:\n\n### Single-Phase Initialization\n\nThe traditional approach, where all initialization happens in the `PyInit_` function:\n\n```c\nPyMODINIT_FUNC PyInit_name(void) {\n    PyObject *m = PyModule_Create(\u0026moduledef);\n    if (m == NULL)\n        return NULL;\n    \n    // Add objects, initialize module\n    \n    return m;\n}\n```\n\n### Multi-Phase Initialization\n\nThe newer approach (Python 3.5+) that provides better isolation:\n\n```c\nstatic int module_exec(PyObject *m) {\n    // Module initialization code\n    return 0;\n}\n\nstatic PyModuleDef_Slot slots[] = {\n    {Py_mod_exec, module_exec},\n    {0, NULL}\n};\n\nstatic struct PyModuleDef moduledef = {\n    PyModuleDef_HEAD_INIT,\n    \"name\",         // m_name\n    \"docstring\",    // m_doc\n    0,              // m_size\n    NULL,           // m_methods\n    slots,          // m_slots\n    NULL,           // m_traverse\n    NULL,           // m_clear\n    NULL            // m_free\n};\n\nPyMODINIT_FUNC PyInit_name(void) {\n    return PyModuleDef_Init(\u0026moduledef);\n}\n```\n\nSources:\n- [Doc/c-api/module.rst]()\n- [Doc/howto/isolating-extensions.rst]()\n\n## Defining Custom Types\n\nPython type objects define behavior for user-defined classes. There are two approaches to create types:\n\n### Static Type Definition\n\n```c\ntypedef struct {\n    PyObject_HEAD\n    /* Type-specific fields */\n    int value;\n} CustomObject;\n\nstatic PyTypeObject CustomType = {\n    PyVarObject_HEAD_INIT(NULL, 0)\n    .tp_name = \"module.CustomType\",\n    .tp_basicsize = sizeof(CustomObject),\n    .tp_dealloc = (destructor)Custom_dealloc,\n    .tp_flags = Py_TPFLAGS_DEFAULT,\n    .tp_doc = \"Custom type docstring\",\n    .tp_methods = Custom_methods,\n    .tp_members = Custom_members,\n    .tp_init = (initproc)Custom_init,\n    .tp_new = Custom_new,\n};\n```\n\n### Dynamic Type Creation (Python 3.2+)\n\n```c\nstatic PyType_Slot CustomType_slots[] = {\n    {Py_tp_dealloc, (void*)Custom_dealloc},\n    {Py_tp_methods, Custom_methods},\n    {Py_tp_members, Custom_members},\n    {Py_tp_init, (void*)Custom_init},\n    {Py_tp_new, (void*)Custom_new},\n    {0, NULL}\n};\n\nstatic PyType_Spec CustomType_spec = {\n    \"module.CustomType\",\n    sizeof(CustomObject),\n    0,\n    Py_TPFLAGS_DEFAULT,\n    CustomType_slots\n};\n\n// In module initialization:\nPyObject *type = PyType_FromSpec(\u0026CustomType_spec);\n```\n\nThe dynamic approach (`PyType_FromSpec`) is required for extensions using the Limited API.\n\nSources:\n- [Doc/c-api/type.rst]()\n- [Doc/c-api/typeobj.rst]()\n- [Modules/_testcapi/heaptype.c]()\n\n## Type Components\n\nType objects consist of various components defining behavior:\n\n```mermaid\nclassDiagram\n    class PyTypeObject {\n        +const char* tp_name\n        +Py_ssize_t tp_basicsize\n        +Py_ssize_t tp_itemsize\n        +destructor tp_dealloc\n        +reprfunc tp_repr\n        +PyNumberMethods* tp_as_number\n        +PySequenceMethods* tp_as_sequence\n        +PyMappingMethods* tp_as_mapping\n        +hashfunc tp_hash\n        +ternaryfunc tp_call\n        +reprfunc tp_str\n        +getattrofunc tp_getattro\n        +setattrofunc tp_setattro\n        +PyMethodDef* tp_methods\n        +PyMemberDef* tp_members\n        +PyGetSetDef* tp_getset\n        +initproc tp_init\n        +allocfunc tp_alloc\n        +newfunc tp_new\n    }\n```\n\n### Methods, Attributes, and Properties\n\nCustom types can define methods, data attributes, and properties:\n\n#### Methods\n\n```c\nstatic PyObject *\nCustom_method(CustomObject *self, PyObject *args)\n{\n    // Implementation\n    Py_RETURN_NONE;\n}\n\nstatic PyMethodDef Custom_methods[] = {\n    {\"method\", (PyCFunction)Custom_method, METH_VARARGS, \"Method docstring\"},\n    {NULL}  // Sentinel\n};\n```\n\n#### Data Attributes\n\n```c\nstatic PyMemberDef Custom_members[] = {\n    {\"value\", T_INT, offsetof(CustomObject, value), 0, \"The value\"},\n    {NULL}  // Sentinel\n};\n```\n\n#### Properties (Getter/Setter)\n\n```c\nstatic PyObject *\nCustom_getvalue(CustomObject *self, void *closure)\n{\n    return PyLong_FromLong(self-\u003evalue);\n}\n\nstatic int\nCustom_setvalue(CustomObject *self, PyObject *value, void *closure)\n{\n    if (!PyLong_Check(value)) {\n        PyErr_SetString(PyExc_TypeError, \"Expected int\");\n        return -1;\n    }\n    self-\u003evalue = PyLong_AsLong(value);\n    return 0;\n}\n\nstatic PyGetSetDef Custom_getset[] = {\n    {\"prop\", (getter)Custom_getvalue, (setter)Custom_setvalue, \"Property\", NULL},\n    {NULL}  // Sentinel\n};\n```\n\nSources:\n- [Doc/c-api/typeobj.rst:32-145]()\n- [Doc/extending/newtypes.rst]()\n- [Include/object.h]()\n\n## Memory Management and Reference Counting\n\nPython uses reference counting for memory management. Every object has a reference count that tracks how many references to it exist.\n\n```mermaid\nsequenceDiagram\n    participant Code as \"Your C Code\"\n    participant Object as \"Python Object\"\n    participant Py as \"Python Runtime\"\n    \n    Code-\u003e\u003ePy: Create object\n    Py-\u003e\u003eObject: Initialize (refcount=1)\n    Py--\u003e\u003eCode: Return object pointer\n    \n    Code-\u003e\u003eObject: Py_INCREF(obj)\n    Note over Object: refcount=2\n    \n    Code-\u003e\u003eObject: Py_DECREF(obj)\n    Note over Object: refcount=1\n    \n    Code-\u003e\u003eObject: Py_DECREF(obj)\n    Note over Object: refcount=0\n    Object-\u003e\u003ePy: Call dealloc function\n    Py-\u003e\u003eObject: Free memory\n```\n\n### Reference Counting Macros\n\n| Macro | Purpose |\n|-------|---------|\n| `Py_INCREF(obj)` | Increment reference count |\n| `Py_DECREF(obj)` | Decrement reference count and possibly deallocate |\n| `Py_XINCREF(obj)` | Safe version of Py_INCREF (checks for NULL) |\n| `Py_XDECREF(obj)` | Safe version of Py_DECREF (checks for NULL) |\n| `Py_NewRef(obj)` | Return a new reference to an object (Python 3.10+) |\n| `Py_XNewRef(obj)` | Return a new reference to an object, or NULL (Python 3.10+) |\n\nSources:\n- [Include/object.h:245-315]()\n- [Doc/c-api/refcounting.rst]()\n\n## Argument Parsing\n\nConverting Python arguments to C values requires explicit parsing.\n\n### Basic Parsing Functions\n\n```c\nstatic PyObject *\nexample_func(PyObject *self, PyObject *args)\n{\n    int i;\n    const char *s;\n    PyObject *obj;\n    \n    if (!PyArg_ParseTuple(args, \"isO\", \u0026i, \u0026s, \u0026obj)) {\n        return NULL;  // Exception already set\n    }\n    \n    // Use the arguments\n    \n    Py_RETURN_NONE;\n}\n```\n\n### Format Specifiers\n\n| Format | C Type | Python Type |\n|--------|--------|-------------|\n| `i` | int | int |\n| `l` | long | int |\n| `f` | float | float |\n| `d` | double | float |\n| `s` | const char* | str |\n| `O` | PyObject* | any |\n| `O!` | PyObject* | type checked |\n| `O\u0026` | PyObject* | converted |\n\nSources:\n- [Modules/_testcapi/getargs.c]()\n- [Doc/c-api/arg.rst]()\n\n### Argument Clinic\n\nArgument Clinic generates argument parsing code from special comments:\n\n```c\n/*[clinic input]\nmodule.function_name\n\n    arg1: int\n    arg2: str\n    arg3: object\n    /\n\nFunction documentation.\n[clinic start generated code]*/\n\nstatic PyObject *\nmodule_function_name_impl(PyObject *module, int arg1, const char *arg2, PyObject *arg3)\n{\n    // Implementation here\n}\n```\n\nSources:\n- [Modules/_testcapi/docstring.c]()\n- [Doc/howto/clinic.rst]()\n\n## Error Handling\n\nError handling in the C API involves setting an exception and returning an error indicator.\n\n```mermaid\nflowchart TD\n    A[\"Detect Error\"] --\u003e B[\"Set Exception\\nPyErr_SetString()\"]\n    B --\u003e C{\"Return Value Type?\"}\n    C -- \"PyObject*\" --\u003e D[\"Return NULL\"]\n    C -- \"int\" --\u003e E[\"Return -1\"]\n    C -- \"void\" --\u003e F[\"Return immediately\"]\n```\n\n### Common Error Handling Patterns\n\n```c\n// For functions returning PyObject*\nif (error_condition) {\n    PyErr_SetString(PyExc_TypeError, \"Error message\");\n    return NULL;\n}\n\n// For functions returning int\nif (error_condition) {\n    PyErr_SetString(PyExc_ValueError, \"Error message\");\n    return -1;\n}\n\n// Checking for errors from other functions\nresult = some_api_function();\nif (result == NULL) {\n    // Error already set\n    return NULL;\n}\n```\n\nSources:\n- [Doc/c-api/exceptions.rst]()\n- [Modules/_testcapi/exceptions.c]()\n\n## Thread Safety and the GIL\n\nPython's Global Interpreter Lock (GIL) prevents multiple threads from executing Python bytecode simultaneously.\n\n### GIL Management\n\nFor CPU-bound C code, release the GIL:\n\n```c\nPyObject *result;\nPy_BEGIN_ALLOW_THREADS\n    // Computationally expensive C code without Python API calls\n    long_running_c_function();\nPy_END_ALLOW_THREADS\n\n// Back under GIL protection\nresult = PyLong_FromLong(42);\nreturn result;\n```\n\nSources:\n- [Doc/c-api/init.rst]()\n\n## Free-Threading Support\n\nPython 3.13 adds experimental support for running without the GIL:\n\n```c\n// For multi-phase initialization\nstatic PyModuleDef_Slot module_slots[] = {\n    {Py_mod_gil, NULL},  // Indicates support for no-GIL mode\n    {0, NULL}\n};\n\n// For single-phase initialization\nPyMODINIT_FUNC\nPyInit_mymodule(void)\n{\n    PyObject *m = PyModule_Create(\u0026moduledef);\n    if (m == NULL)\n        return NULL;\n        \n    if (PyUnstable_Module_SetGIL(m, Py_MOD_GIL_NONGIL) \u003c 0) {\n        Py_DECREF(m);\n        return NULL;\n    }\n    \n    return m;\n}\n```\n\nSources:\n- [Doc/whatsnew/3.13.rst:306-342]()\n- [Lib/test/test_capi/test_misc.py:30-45]()\n\n## Stable ABI and Limited API\n\nThe Stable ABI ensures binary compatibility of extensions across Python versions.\n\n```mermaid\ngraph TD\n    subgraph \"Stable ABI Components\"\n        FuncDefs[\"Function Definitions\"] \n        Types[\"Type Definitions\"]\n        Macros[\"Macro Definitions\"]\n        Data[\"Data Objects\"]\n    end\n    \n    subgraph \"Usage Patterns\"\n        Compiler[\"Define Py_LIMITED_API\"] --\u003e Headers[\"Include Python.h\"]\n        Headers --\u003e Build[\"Compile Extension\"]\n        Build --\u003e Binary[\"Binary Compatible\\nAcross Python Versions\"]\n    end\n    \n    FuncDefs --\u003e Compiler\n    Types --\u003e Compiler\n    Macros --\u003e Compiler\n    Data --\u003e Compiler\n```\n\nTo use the Limited API:\n\n```c\n#define Py_LIMITED_API 0x030A0000  // Python 3.10 Limited API\n#include \u003cPython.h\u003e\n```\n\nSources:\n- [Misc/stable_abi.toml]()\n- [PC/python3dll.c]()\n- [Lib/test/test_stable_abi_ctypes.py]()\n\n## Extension Testing Tools\n\nPython includes special modules for testing the C API:\n\n```mermaid\ngraph TD\n    subgraph \"Testing Modules\"\n        TestCAPI[\"_testcapi\\n(Public C API)\"]\n        TestInternalCAPI[\"_testinternalcapi\\n(Internal C API)\"]\n        TestClinic[\"_testclinic\\n(Argument Clinic)\"]\n        TestLimitedCAPI[\"_testlimitedcapi\\n(Limited API)\"]\n    end\n    \n    subgraph \"Test Cases\"\n        TypeTests[\"Type Object Tests\"]\n        ArgTests[\"Argument Parsing Tests\"]\n        MemTests[\"Memory Management Tests\"]\n        ExcTests[\"Exception Handling Tests\"]\n    end\n    \n    TestCAPI --\u003e TypeTests\n    TestCAPI --\u003e ArgTests\n    TestCAPI --\u003e MemTests\n    TestCAPI --\u003e ExcTests\n```\n\nSources:\n- [Modules/_testcapi.c]()\n- [Modules/_testinternalcapi.c]()\n- [Lib/test/test_capi/test_exceptions.py]()\n- [Lib/test/test_capi/test_bytes.py]()\n\n## Further Resources\n\nFor more detailed information on specific topics:\n- [Stable ABI](#5.1)\n- [Argument Clinic](#5.2) \n- [C Extension Testing](#5.3)"])</script><script>self.__next_f.push([1,"24:T3239,"])</script><script>self.__next_f.push([1,"# Stable ABI\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [Doc/c-api/allocation.rst](Doc/c-api/allocation.rst)\n- [Doc/c-api/capsule.rst](Doc/c-api/capsule.rst)\n- [Doc/c-api/exceptions.rst](Doc/c-api/exceptions.rst)\n- [Doc/c-api/import.rst](Doc/c-api/import.rst)\n- [Doc/c-api/memory.rst](Doc/c-api/memory.rst)\n- [Doc/c-api/module.rst](Doc/c-api/module.rst)\n- [Doc/c-api/set.rst](Doc/c-api/set.rst)\n- [Doc/c-api/structures.rst](Doc/c-api/structures.rst)\n- [Doc/c-api/sys.rst](Doc/c-api/sys.rst)\n- [Doc/c-api/type.rst](Doc/c-api/type.rst)\n- [Doc/c-api/typeobj.rst](Doc/c-api/typeobj.rst)\n- [Doc/data/stable_abi.dat](Doc/data/stable_abi.dat)\n- [Doc/extending/embedding.rst](Doc/extending/embedding.rst)\n- [Doc/extending/extending.rst](Doc/extending/extending.rst)\n- [Doc/extending/newtypes.rst](Doc/extending/newtypes.rst)\n- [Doc/howto/isolating-extensions.rst](Doc/howto/isolating-extensions.rst)\n- [Doc/tools/.nitignore](Doc/tools/.nitignore)\n- [Doc/whatsnew/3.13.rst](Doc/whatsnew/3.13.rst)\n- [Include/Python.h](Include/Python.h)\n- [Include/import.h](Include/import.h)\n- [Include/object.h](Include/object.h)\n- [Lib/test/test_capi/test_exceptions.py](Lib/test/test_capi/test_exceptions.py)\n- [Lib/test/test_stable_abi_ctypes.py](Lib/test/test_stable_abi_ctypes.py)\n- [Misc/stable_abi.toml](Misc/stable_abi.toml)\n- [Modules/_testcapi/clinic/exceptions.c.h](Modules/_testcapi/clinic/exceptions.c.h)\n- [Modules/_testcapi/exceptions.c](Modules/_testcapi/exceptions.c)\n- [PC/python3dll.c](PC/python3dll.c)\n\n\u003c/details\u003e\n\n\n\nThe Python Stable ABI (Application Binary Interface) provides a way to build C extension modules that remain compatible across different Python versions. This page explains what the Stable ABI is, how it works, and best practices for using it to create extension modules that are robust across Python updates.\n\nFor information about creating C extension modules in general, see [Extension Development and C API](#5).\n\n## Purpose and Scope\n\nThe Stable ABI solves the problem of binary compatibility for Python extensions. Without it, C extensions compiled for one version of Python (e.g., 3.8) would need to be recompiled for each new version (3.9, 3.10, etc.) to work correctly. The Stable ABI guarantees that:\n\n- Binary extensions built against it will work with future Python versions without recompilation\n- Symbols (functions, types, etc.) in the Stable ABI maintain consistent behavior across Python versions\n- Extension authors can target a wide range of Python versions with a single binary\n\nThe Stable ABI was introduced in Python 3.2 (PEP 384) and has been expanded in subsequent versions.\n\nSources: [Misc/stable_abi.toml:1-63](), [Doc/c-api/stable.rst]()\n\n## Using the Stable ABI\n\n### How to Build Extensions with the Stable ABI\n\nTo build an extension module using the Stable ABI:\n\n1. Define the macro `Py_LIMITED_API` to the minimum Python version your extension requires (in hexadecimal format)\n2. Include the Python header file: `#include \u003cPython.h\u003e`\n3. Restrict your code to only use functions and types that are part of the Stable ABI\n\n```c\n#define Py_LIMITED_API 0x03070000  /* Python 3.7 or later */\n#include \u003cPython.h\u003e\n\nstatic PyObject*\nexample_method(PyObject *self, PyObject *args)\n{\n    /* Limited to using Stable ABI functions */\n    return PyLong_FromLong(42);\n}\n```\n\nWhen building your extension:\n- On Windows, link against `python3.dll` (instead of version-specific `python3X.dll`)\n- On Unix-like systems, build with appropriate flags to ensure correct symbol resolution\n\n### Version Specification\n\nThe `Py_LIMITED_API` macro should be set to the minimum target Python version in hexadecimal, using the format `0xMMmmNNpp` where:\n- `MM` is the major version\n- `mm` is the minor version\n- `NN` is the micro version\n- `pp` is the patch level (usually 0)\n\nCommon values include:\n- `0x03020000` for Python 3.2 (the first version with Stable ABI)\n- `0x03060000` for Python 3.6\n- `0x03070000` for Python 3.7\n- `0x030A0000` for Python 3.10\n\nSources: [Include/Python.h:30-46](Implementation), [Doc/c-api/stable.rst]()\n\n## Stable ABI Architecture\n\nThe following diagram illustrates how the Stable ABI relates to the full Python C API and extensions:\n\n```mermaid\nflowchart TD\n    subgraph \"Python C API\"\n        style PythonCAPI fill:#f5f5f5,stroke:#333,stroke-width:1px\n        \n        PythonCAPI[\"Full Python C API\"]\n        \n        subgraph \"Stable ABI\"\n            style StableABI fill:#f5f5f5,stroke:#333,stroke-width:2px\n            \n            StableFunctions[\"Stable Functions\\n(PyDict_New, PyList_Append, etc.)\"]\n            StableTypes[\"Stable Types\\n(PyTypeObject, PyObject, etc.)\"]\n            StableMacros[\"Stable Macros\\n(Py_INCREF, Py_DECREF, etc.)\"]\n            StableConstants[\"Stable Constants\\n(Py_None, PyExc_ValueError, etc.)\"]\n        end\n    end\n    \n    ExtensionStable[\"Extension Using Stable ABI\"]\n    ExtensionFull[\"Extension Using Full C API\"]\n    \n    ExtensionStable --\u003e StableFunctions\n    ExtensionStable --\u003e StableTypes\n    ExtensionStable --\u003e StableMacros\n    ExtensionStable --\u003e StableConstants\n    \n    ExtensionFull --\u003e PythonCAPI\n    \n    Python38[\"Python 3.8\"] -.-\u003e ExtensionStable\n    Python39[\"Python 3.9\"] -.-\u003e ExtensionStable\n    Python310[\"Python 3.10\"] -.-\u003e ExtensionStable\n    Python311[\"Python 3.11\"] -.-\u003e ExtensionStable\n    Python312[\"Python 3.12\"] -.-\u003e ExtensionStable\n    Python313[\"Python 3.13\"] -.-\u003e ExtensionStable\n    \n    CurrentPython[\"Current Python Version\"] -.-\u003e ExtensionFull\n```\n\nThe Stable ABI is a subset of the full Python C API, containing only functions, types, and other symbols that are guaranteed to remain compatible across Python versions.\n\nSources: [Misc/stable_abi.toml:13-59](Purpose declaration), [PC/python3dll.c:1-14](Export mechanism)\n\n### Binary Compatibility\n\n```mermaid\nsequenceDiagram\n    participant Dev as \"Extension Developer\"\n    participant PyX as \"Python 3.X\"\n    participant PyY as \"Python 3.Y (Y \u003e X)\"\n    \n    Dev-\u003e\u003ePyX: Compile against Python 3.X headers\u003cbr\u003ewith Py_LIMITED_API\n    Note over Dev,PyX: Links against python3.dll\u003cbr\u003e(Windows) or appropriate\u003cbr\u003esymbols (Unix)\n    Dev--\u003e\u003ePyX: Extension works with Python 3.X\n    Dev--\u003e\u003ePyY: Same binary works with\u003cbr\u003efuture Python 3.Y without recompilation\n    \n    PyY-\u003e\u003ePyY: Maintains backward compatibility\u003cbr\u003efor all Stable ABI symbols\n```\n\nThis is in contrast to normal extensions which must be recompiled for each new Python version.\n\nSources: [Include/Python.h:47-52](GIL limitation note), [Doc/whatsnew/3.13.rst:616-617](Compatibility notes)\n\n## Components of the Stable ABI\n\nThe Stable ABI consists of different kinds of items:\n\n| Component Type | Description | Examples |\n|----------------|-------------|----------|\n| Functions | C API functions guaranteed to maintain their signatures and behavior | `PyDict_New()`, `PyList_Append()`, `PyLong_FromLong()` |\n| Structures | C struct definitions with varying levels of exposure | `PyObject`, `PyTypeObject`, `PyModuleDef` |\n| Types | Type definitions used in function signatures | `PyObject*`, `Py_ssize_t`, `PyTypeObject*` |\n| Constants | Named values for use in API calls | `Py_None`, `PyExc_ValueError` |\n| Macros | Preprocessor definitions for common operations | `Py_INCREF()`, `Py_DECREF()` |\n\n### Structure Exposure Levels\n\nStructures in the Stable ABI have different levels of exposure:\n\n1. **Full ABI (`full-abi`)**: The entire struct definition is stable, including size and field layout. Examples: `PyMethodDef`, `PyModuleDef`\n2. **Opaque (`opaque`)**: Only pointers to the struct are stable. Internal layout may change. Examples: `PyThreadState`, `PyInterpreterState`\n3. **Members (`members`)**: Only specific members are part of the ABI. Examples: `PyObject` (only `ob_refcnt` and `ob_type` are stable)\n\nSources: [Misc/stable_abi.toml:40-50](Structure exposure documentation), [Include/object.h:109-164](PyObject structure definition)\n\n### Type Objects in the Stable ABI\n\nType objects are a key part of the Stable ABI:\n\n```mermaid\ngraph LR\n    subgraph \"Type Creation API\"\n        PyType_Spec[\"PyType_Spec\\n(Stable Definition)\"]\n        PyType_Slot[\"PyType_Slot\\n(Method/Slot Definition)\"]\n        PyType_FromSpec[\"PyType_FromSpec()\"]\n        PyType_FromModuleAndSpec[\"PyType_FromModuleAndSpec()\"]\n    end\n    \n    subgraph \"Standard Types\"\n        PyBaseObject_Type[\"PyBaseObject_Type\\n(object)\"]\n        PyType_Type[\"PyType_Type\\n(type)\"]\n        PyDict_Type[\"PyDict_Type\\n(dict)\"]\n        PyList_Type[\"PyList_Type\\n(list)\"]\n        PyLong_Type[\"PyLong_Type\\n(int)\"]\n    end\n    \n    PyType_Spec --\u003e|defines| PyType_Slot\n    PyType_Spec --\u003e|used by| PyType_FromSpec\n    PyType_Spec --\u003e|used by| PyType_FromModuleAndSpec\n    \n    PyType_FromSpec --\u003e|creates| NewType[\"New Type Object\"]\n    PyType_FromModuleAndSpec --\u003e|creates| NewModuleType[\"New Type with Module\"]\n    \n    PyBaseObject_Type --\u003e|base of all types| NewType\n    PyType_Type --\u003e|type of types| NewType\n```\n\nTo create a type object using the Stable ABI, use the `PyType_Spec` structure and related functions rather than directly creating a `PyTypeObject`.\n\nSources: [Include/object.h:374-385](PyType_Spec definition), [Include/object.h:386-415](Type creation functions)\n\n## Stable ABI Contents and Evolution\n\nThe Stable ABI has grown over time, with new functions and features added in each Python version:\n\n| Python Version | Added Features | Notable Additions |\n|----------------|---------------|-------------------|\n| Python 3.2 | Initial Stable ABI (PEP 384) | Core object and type system, basic module support |\n| Python 3.3 | Type spec enhancements | `PyType_FromSpecWithBases()` |\n| Python 3.4 | Slot introspection | `PyType_GetSlot()` |\n| Python 3.5 | Module definition helpers | `PyModuleDef_Init()` |\n| Python 3.6 | Path handling | `PyOS_FSPath()` |\n| Python 3.7 | Memory and error handling improvements | `PyMem_Calloc()`, many new error functions |\n| Python 3.8 | Type and collection improvements | `PyType_GetName()`, `PyIter_Check()` |\n| Python 3.9 | Class method creation | `PyCMethod_New()` |\n| Python 3.10 | Module and iterator utilities | `PyIter_Send()`, `PyModule_AddObjectRef()` |\n| Python 3.11 | Buffer protocol and exception improvements | Buffer API functions |\n| Python 3.12 | Exception display improvements | `PyErr_DisplayException()` |\n| Python 3.13 | GIL-related functions and optimizations | `PyMem_RawCalloc()` and family |\n\nA full list of symbols is maintained in `Misc/stable_abi.toml` and can be seen in the installed `Doc/data/stable_abi.dat` file.\n\nSources: [Misc/stable_abi.toml:147-620](Function additions by version), [Doc/data/stable_abi.dat:1-500](Generated symbol listing)\n\n## Limitations and Considerations\n\n### Not Compatible with Free-Threading\n\nThe Stable ABI is not compatible with the free-threaded version of Python (no GIL). Extensions using the Stable ABI cannot be loaded in a Python build with the Global Interpreter Lock disabled.\n\nSources: [Include/Python.h:48-52](GIL limitation check), [Doc/whatsnew/3.13.rst:47-52](Free-threading notes)\n\n### Memory Management\n\nWhen using the Stable ABI, memory management becomes especially important. Only use the Python memory management functions like `PyMem_Malloc()` rather than the C standard library's `malloc()`. This helps avoid memory corruption issues.\n\nSources: [Doc/c-api/memory.rst:49-67](Memory management cautions)\n\n### Extension Isolation\n\nExtensions should ideally be isolated and not rely on per-process global state. Use per-module state where possible, as demonstrated in the \"Isolating Extensions\" howto.\n\nThis is particularly important for the Stable ABI as your extension might be loaded in environments with multiple interpreters.\n\nSources: [Doc/howto/isolating-extensions.rst:30-60](Extension isolation guidelines)\n\n### Testing Stable ABI Compliance\n\nThe Python test suite contains tests that verify that all Stable ABI symbols are accessible. You can similarly test your extension to ensure it only uses Stable ABI symbols with tools like `ctypes`.\n\nSources: [Lib/test/test_stable_abi_ctypes.py:1-20](Stable ABI testing)\n\n## Conclusion\n\nThe Stable ABI provides a powerful way to build extension modules that remain compatible across Python versions. By restricting your extension to use only the defined Stable ABI functions and types, you can create binary extensions that don't need to be recompiled for each new Python version, making distribution and maintenance much easier.\n\nWhen developing with the Stable ABI, remember:\n- Define `Py_LIMITED_API` to the minimum Python version you support\n- Only use functions and types that are part of the Stable ABI\n- Be aware of the different structure exposure levels\n- Test thoroughly with multiple Python versions\n\nThese practices will help ensure your extension works reliably across Python versions."])</script><script>self.__next_f.push([1,"25:T3ed9,"])</script><script>self.__next_f.push([1,"# Argument Clinic\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [.coveragerc](.coveragerc)\n- [Lib/test/clinic.test.c](Lib/test/clinic.test.c)\n- [Lib/test/test_clinic.py](Lib/test/test_clinic.py)\n- [Modules/_testclinic.c](Modules/_testclinic.c)\n- [Modules/clinic/_testclinic.c.h](Modules/clinic/_testclinic.c.h)\n- [Tools/build/mypy.ini](Tools/build/mypy.ini)\n- [Tools/cases_generator/_typing_backports.py](Tools/cases_generator/_typing_backports.py)\n- [Tools/cases_generator/mypy.ini](Tools/cases_generator/mypy.ini)\n- [Tools/clinic/clinic.py](Tools/clinic/clinic.py)\n- [Tools/clinic/libclinic/__init__.py](Tools/clinic/libclinic/__init__.py)\n- [Tools/clinic/libclinic/app.py](Tools/clinic/libclinic/app.py)\n- [Tools/clinic/libclinic/block_parser.py](Tools/clinic/libclinic/block_parser.py)\n- [Tools/clinic/libclinic/clanguage.py](Tools/clinic/libclinic/clanguage.py)\n- [Tools/clinic/libclinic/cli.py](Tools/clinic/libclinic/cli.py)\n- [Tools/clinic/libclinic/codegen.py](Tools/clinic/libclinic/codegen.py)\n- [Tools/clinic/libclinic/converter.py](Tools/clinic/libclinic/converter.py)\n- [Tools/clinic/libclinic/converters.py](Tools/clinic/libclinic/converters.py)\n- [Tools/clinic/libclinic/dsl_parser.py](Tools/clinic/libclinic/dsl_parser.py)\n- [Tools/clinic/libclinic/errors.py](Tools/clinic/libclinic/errors.py)\n- [Tools/clinic/libclinic/formatting.py](Tools/clinic/libclinic/formatting.py)\n- [Tools/clinic/libclinic/function.py](Tools/clinic/libclinic/function.py)\n- [Tools/clinic/libclinic/identifiers.py](Tools/clinic/libclinic/identifiers.py)\n- [Tools/clinic/libclinic/language.py](Tools/clinic/libclinic/language.py)\n- [Tools/clinic/libclinic/parse_args.py](Tools/clinic/libclinic/parse_args.py)\n- [Tools/clinic/libclinic/parser.py](Tools/clinic/libclinic/parser.py)\n- [Tools/clinic/libclinic/return_converters.py](Tools/clinic/libclinic/return_converters.py)\n- [Tools/clinic/libclinic/utils.py](Tools/clinic/libclinic/utils.py)\n- [Tools/clinic/mypy.ini](Tools/clinic/mypy.ini)\n\n\u003c/details\u003e\n\n\n\nArgument Clinic is a code-generation tool in CPython that automates the creation of argument parsing code for C extension modules. It reduces boilerplate, ensures consistency, and helps maintain compatibility between Python's C API documentation and implementation.\n\nFor information on testing C extensions including those created with Argument Clinic, see [C Extension Testing](#5.3).\n\n## Overview\n\nWriting correct argument parsing code in CPython's C API is verbose, error-prone, and tedious. Argument Clinic addresses this by providing a domain-specific language (DSL) that lets developers specify function signatures in a Python-like syntax directly in C source files. The tool then generates the appropriate argument parsing code, docstrings, and function prototypes.\n\n```mermaid\nflowchart TD\n    subgraph \"Argument Clinic Workflow\"\n        Developer[\"Developer writes\\nArgument Clinic block\"] --\u003e ClinicTool[\"Argument Clinic\\nprocesses source files\"]\n        ClinicTool --\u003e ParsedBlock[\"DSL is parsed into\\nfunction/parameter objects\"]\n        ParsedBlock --\u003e CodeGen[\"Generate argument parsing code,\\ndocstrings, and method definitions\"]\n        CodeGen --\u003e InsertCode[\"Insert generated code\\nback into source file\"]\n        InsertCode --\u003e CompiledCode[\"C compiler processes\\nthe file normally\"]\n    end\n```\n\nSources: [Tools/clinic/clinic.py:1-11](), [Tools/clinic/libclinic/app.py:37-106]()\n\n## Basic Usage\n\nAn Argument Clinic block in C code looks like this:\n\n```c\n/*[clinic input]\nmodule.function_name\n    parameter1: converter\n    parameter2: converter = default_value\n    /\n    *\n    parameter3: converter\n[clinic start generated code]*/\n/* Generated code appears here */\n/*[clinic end generated code: output=checksum input=checksum]*/\n```\n\nThe clinic tool processes these blocks and generates appropriate C code for:\n- Parameter parsing\n- Type checking\n- Default value handling\n- Docstrings\n- Method definitions\n\nSources: [Tools/clinic/libclinic/dsl_parser.py:246-1117](), [Tools/clinic/libclinic/block_parser.py:16-38]()\n\n## Architecture\n\nArgument Clinic has several interconnected components that work together to parse function specifications and generate C code:\n\n```mermaid\nflowchart TD\n    subgraph \"Argument Clinic Architecture\"\n        BlockParser[\"BlockParser\\nExtracts clinic blocks\"] --\u003e DSLParser[\"DSLParser\\nParses function signatures\"]\n        DSLParser --\u003e FunctionObj[\"Function Objects\\nStores signature info\"]\n        FunctionObj --\u003e ParseArgsCodeGen[\"ParseArgsCodeGen\\nGenerates argument parsing code\"]\n        FunctionObj --\u003e DocGen[\"Documentation Generation\"]\n        FunctionObj --\u003e MethodDefGen[\"Method Definition Generation\"]\n    end\n    \n    CConverters[\"CConverter System\\nType conversions\"] --\u003e ParseArgsCodeGen\n    ReturnConverters[\"CReturnConverter System\\nReturn value handling\"] --\u003e ParseArgsCodeGen\n```\n\nSources: [Tools/clinic/libclinic/function.py:23-310](), [Tools/clinic/libclinic/converter.py:61-565](), [Tools/clinic/libclinic/parse_args.py:17-941]()\n\n### Core Components\n\n#### Block Parser\n\nThe Block Parser extracts Argument Clinic blocks from source files, identifying the input section and any previously generated code.\n\nSources: [Tools/clinic/libclinic/block_parser.py:16-257]()\n\n#### DSL Parser\n\nThe DSL Parser interprets the Argument Clinic syntax, handling:\n- Module and class definitions\n- Function declarations\n- Parameter specifications with types and defaults\n- Function attributes like static methods and class methods\n\nSources: [Tools/clinic/libclinic/dsl_parser.py:246-1117]()\n\n#### Function Representation\n\nFunction objects store:\n- Function name and full path\n- Parameters and their properties\n- Return type information\n- Docstrings\n- Function kind (method, static method, class method, etc.)\n\nSources: [Tools/clinic/libclinic/function.py:82-179]()\n\n#### Parameter Representation\n\nParameter objects store:\n- Name and Python type annotation\n- C type information\n- Default value\n- Parameter kind (positional-only, keyword-only, etc.)\n- Docstring\n- Converter information\n\nSources: [Tools/clinic/libclinic/function.py:182-240]()\n\n## Type Conversion System\n\nA key part of Argument Clinic is its type conversion system that handles translating between Python objects and C types.\n\n```mermaid\nclassDiagram\n    class CConverter {\n        +name: str\n        +py_name: str\n        +type: str\n        +default: object\n        +converter_init()\n        +render()\n        +parse_arg()\n    }\n    \n    CConverter \u003c|-- int_converter\n    CConverter \u003c|-- str_converter\n    CConverter \u003c|-- bool_converter\n    CConverter \u003c|-- float_converter\n    CConverter \u003c|-- object_converter\n    CConverter \u003c|-- self_converter\n    \n    class CReturnConverter {\n        +type: str\n        +default: object\n        +return_converter_init()\n        +declare()\n        +err_occurred_if()\n    }\n    \n    CReturnConverter \u003c|-- int_return_converter\n    CReturnConverter \u003c|-- PyObject_return_converter\n    CReturnConverter \u003c|-- void_return_converter\n```\n\nSources: [Tools/clinic/libclinic/converter.py:61-565](), [Tools/clinic/libclinic/converters.py:20-1210](), [Tools/clinic/libclinic/return_converters.py:44-152]()\n\n### Converter Types\n\nBuilt-in converters handle common Python types:\n- `bool`: Converts to C `int` (0 or 1)\n- `int`: Converts to C `int` with range checking\n- `str`: Converts to C `const char*`\n- `float`: Converts to C `double`\n- `bytes`: Converts to C `char*` and length\n- `object`: Passes Python object directly\n\nSpecialized converters:\n- `self_converter`: Handles the implicit first parameter for methods\n- `defining_class_converter`: Handles class parameters for classmethods\n\nSources: [Tools/clinic/libclinic/converters.py:20-1210]()\n\n## Code Generation\n\nThe code generation process creates several components for each function:\n\n```mermaid\nflowchart TD\n    subgraph \"Code Generation Components\"\n        Function[\"Function Object\"] --\u003e DocstringGen[\"Docstring Generation\\n(PyDoc_STRVAR)\"]\n        Function --\u003e ParserProto[\"Parser Prototype\\n(Function declaration)\"]\n        Function --\u003e ParserImpl[\"Parser Implementation\\n(PyArg_Parse)\"]\n        Function --\u003e ImplProto[\"Implementation Prototype\\n(Function with C types)\"]\n        Function --\u003e MethodDef[\"Method Definition\\n(PyMethodDef entry)\"]\n    end\n```\n\nSources: [Tools/clinic/libclinic/parse_args.py:193-941](), [Tools/clinic/libclinic/codegen.py:18-73]()\n\n### Code Generation Process\n\nFor each function, Argument Clinic generates:\n\n1. **Docstring Definition**: A C string containing the Python docstring\n2. **Parser Prototype**: Function declaration for the parser function\n3. **Parser Implementation**: Code that uses `PyArg_Parse*` to extract and validate arguments\n4. **Implementation Prototype**: Declaration for the implementation function\n5. **Method Definition**: Entry for the module's method table\n\nSources: [Tools/clinic/libclinic/parse_args.py:134-191](), [Tools/clinic/libclinic/clanguage.py:72-396]()\n\n## Parameter Handling\n\nArgument Clinic supports various parameter types and features:\n\n### Parameter Kinds\n\n- **Positional-only**: Parameters that must be specified by position (indicated by `/`)\n- **Positional-or-keyword**: Parameters that can be specified by position or keyword\n- **Keyword-only**: Parameters that must be specified by keyword (indicated by `*`)\n- **Variable positional**: Collects remaining positional arguments (indicated by `*args`)\n\n### Special Features\n\n- **Optional groups**: Groups of parameters that must be specified together\n- **Default values**: Parameters with default values when not specified\n- **Type converters**: Automatic validation and conversion of parameter types\n- **Parameter docstrings**: Documentation for individual parameters\n\n```mermaid\nflowchart LR\n    subgraph \"Parameter Classification\"\n        direction TB\n        Input[\"Function Signature\"] --\u003e Parser[\"DSL Parser\"]\n        Parser --\u003e Classified[\"Classified Parameters\"]\n        \n        Classified --\u003e PosOnly[\"Positional-Only\\nParameters\"]\n        Classified --\u003e PosOrKw[\"Positional-or-Keyword\\nParameters\"]\n        Classified --\u003e KwOnly[\"Keyword-Only\\nParameters\"]\n        Classified --\u003e VarPos[\"Variable Positional\\nParameters\"]\n        \n        PosOnly --\u003e CodeGen[\"Code Generation\"]\n        PosOrKw --\u003e CodeGen\n        KwOnly --\u003e CodeGen\n        VarPos --\u003e CodeGen\n    end\n```\n\nSources: [Tools/clinic/libclinic/function.py:182-240](), [Tools/clinic/libclinic/parse_args.py:217-299]()\n\n## Calling Conventions\n\nArgument Clinic supports different calling conventions based on the parameter types:\n\n1. **METH_NOARGS**: Functions that take no arguments\n2. **METH_O**: Functions that take a single argument\n3. **METH_VARARGS**: Functions that take positional arguments\n4. **METH_KEYWORDS**: Functions that take keyword arguments\n5. **METH_FASTCALL**: Optimized calling convention for positional arguments\n6. **METH_FASTCALL | METH_KEYWORDS**: Optimized calling convention for keyword arguments\n\nThe tool automatically selects the most efficient calling convention based on the function signature.\n\nSources: [Tools/clinic/libclinic/function.py:153-167](), [Tools/clinic/libclinic/parse_args.py:263-287]()\n\n## Example\n\nBelow is a simplified example of a function definition using Argument Clinic:\n\n```c\n/*[clinic input]\nmodule.example_function\n    name: str\n    value: int = 42\n    /\n    *\n    flag: bool = False\n\nProcess the name with the given value and flag.\n[clinic start generated code]*/\n\nPyDoc_STRVAR(module_example_function__doc__,\n\"example_function($module, name, value=42, *, flag=False)\\n\"\n\"--\\n\"\n\"\\n\"\n\"Process the name with the given value and flag.\");\n\nstatic PyObject *\nmodule_example_function_impl(PyObject *module, const char *name, int value, \n                              int flag)\n{\n    /* Implementation code goes here */\n}\n\nstatic PyObject *\nmodule_example_function(PyObject *module, PyObject *args, PyObject *kwargs)\n{\n    PyObject *return_value = NULL;\n    static const char * const _keywords[] = {\"name\", \"value\", \"flag\", NULL};\n    static _PyArg_Parser _parser = {\n        .keywords = _keywords,\n        .format = \"s|i$p:example_function\",\n        .kwtuple = NULL,\n    };\n    const char *name;\n    int value = 42;\n    int flag = 0;\n\n    if (!_PyArg_ParseTupleAndKeywordsFast(args, kwargs, \u0026_parser,\n        \u0026name, \u0026value, \u0026flag)) {\n        goto exit;\n    }\n    return_value = module_example_function_impl(module, name, value, flag);\n\nexit:\n    return return_value;\n}\n```\n\nSources: [Lib/test/clinic.test.c:13-69](), [Modules/_testclinic.c:107-123]()\n\n## Implementation Details\n\n### Checksum System\n\nArgument Clinic uses checksums to detect when generated code needs to be updated, ensuring that changes to the specification properly update the generated code.\n\n```\n/*[clinic end generated code: output=checksumvalue input=checksumvalue]*/\n```\n\nSources: [Tools/clinic/libclinic/utils.py:32-36]()\n\n### Destination System\n\nThe tool supports different destinations for generated output:\n- **buffer**: In-memory buffer for text\n- **file**: External file for larger outputs\n- **suppress**: Discard the output\n- **block**: Insert back into the original file\n\nSources: [Tools/clinic/libclinic/app.py:108-155]()\n\n### Preset System\n\nPresets configure where different parts of the output are sent:\n- **block**: Default preset, everything in blocks\n- **file**: Puts most output in external files\n- **buffer**: Puts output in buffers for further processing\n\nSources: [Tools/clinic/libclinic/app.py:39-82]()\n\n## Integration with CPython\n\nArgument Clinic is deeply integrated with CPython's build process:\n\n```mermaid\nflowchart TD\n    subgraph \"CPython Build Integration\"\n        direction TB\n        SourceFiles[\"C Source Files\\nwith Clinic Blocks\"] --\u003e BuildSystem[\"CPython Build System\"]\n        BuildSystem --\u003e RunClinic[\"Run Argument Clinic\"]\n        RunClinic --\u003e GeneratedCode[\"Updated Source Files\\nwith Generated Code\"]\n        GeneratedCode --\u003e Compilation[\"C Compilation\"]\n        Compilation --\u003e FinalBinary[\"Python Binary\"]\n    end\n```\n\nSources: [Tools/clinic/clinic.py:1-11](), [Tools/clinic/libclinic/cli.py:49-114]()\n\n## Benefits of Argument Clinic\n\n1. **Reduced Boilerplate**: Eliminates repetitive argument parsing code\n2. **Improved Consistency**: Ensures consistent argument handling across the codebase\n3. **Better Documentation**: Automatically generates and maintains docstrings\n4. **Error Prevention**: Catches errors in parameter handling at generation time\n5. **Maintainability**: Makes it easier to modify function signatures without errors\n6. **Performance Optimization**: Automatically selects the most efficient calling convention\n\nSources: [Tools/clinic/libclinic/app.py:37-82]()\n\n## Command Line Usage\n\nArgument Clinic can be run directly on source files:\n\n```\npython -m clinic module.c\n```\n\nOptions include:\n- `--limited-capi`: Generate code compatible with the limited C API\n- `--output`: Specify output file\n- `--force`: Force regeneration of blocks\n\nSources: [Tools/clinic/clinic.py:1-11](), [Tools/clinic/libclinic/cli.py:124-202]()\n\n## Advanced Features\n\n### Limited C API Support\n\nArgument Clinic can generate code compatible with Python's Limited C API, which provides binary compatibility guarantees across Python versions.\n\nSources: [Tools/clinic/libclinic/parse_args.py:324-332]()\n\n### Critical Sections\n\nSupport for generating code with critical sections for thread safety.\n\nSources: [Tools/clinic/libclinic/dsl_parser.py:297-298](), [Tools/clinic/libclinic/function.py:112]()\n\n### Custom Converters\n\nDevelopers can define custom converters for specialized type handling.\n\nSources: [Tools/clinic/libclinic/converter.py:30-40](), [Tools/clinic/libclinic/dsl_parser.py:287-288]()\n\n## Conclusion\n\nArgument Clinic is a crucial tool in CPython's development ecosystem, enabling more maintainable and reliable C extension code by automating the error-prone aspects of argument parsing. It bridges the gap between Python's user-friendly interface and C's lower-level implementation, ensuring that docstrings and implementation remain in sync."])</script><script>self.__next_f.push([1,"26:T31c5,"])</script><script>self.__next_f.push([1,"# C Extension Testing\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [Doc/c-api/bytearray.rst](Doc/c-api/bytearray.rst)\n- [Doc/c-api/bytes.rst](Doc/c-api/bytes.rst)\n- [Doc/c-api/concrete.rst](Doc/c-api/concrete.rst)\n- [Doc/c-api/utilities.rst](Doc/c-api/utilities.rst)\n- [Lib/test/test_capi/test_bytearray.py](Lib/test/test_capi/test_bytearray.py)\n- [Lib/test/test_capi/test_bytes.py](Lib/test/test_capi/test_bytes.py)\n- [Lib/test/test_capi/test_misc.py](Lib/test/test_capi/test_misc.py)\n- [Lib/test/test_capi/test_sys.py](Lib/test/test_capi/test_sys.py)\n- [Modules/Setup.stdlib.in](Modules/Setup.stdlib.in)\n- [Modules/_testcapi/bytes.c](Modules/_testcapi/bytes.c)\n- [Modules/_testcapi/codec.c](Modules/_testcapi/codec.c)\n- [Modules/_testcapi/numbers.c](Modules/_testcapi/numbers.c)\n- [Modules/_testcapi/parts.h](Modules/_testcapi/parts.h)\n- [Modules/_testcapi/util.h](Modules/_testcapi/util.h)\n- [Modules/_testcapimodule.c](Modules/_testcapimodule.c)\n- [Modules/_testinternalcapi.c](Modules/_testinternalcapi.c)\n- [Modules/_testlimitedcapi/codec.c](Modules/_testlimitedcapi/codec.c)\n- [PCbuild/_testcapi.vcxproj](PCbuild/_testcapi.vcxproj)\n- [PCbuild/_testcapi.vcxproj.filters](PCbuild/_testcapi.vcxproj.filters)\n\n\u003c/details\u003e\n\n\n\nThis document describes CPython's C Extension Testing system, which verifies the correctness and stability of Python's C API. For information about Python's general test framework, see [Regression Test Framework](#8.1).\n\n## Purpose and Overview\n\nThe C Extension Testing system provides comprehensive testing of Python's C APIs through specialized testing modules written in C. These modules expose Python's C API functions to the Python test suite, allowing for thorough verification that the interfaces between Python and C code function correctly.\n\nThis testing infrastructure is crucial for:\n- Verifying that Python's C API behaves as documented\n- Preventing regressions when modifying interpreter internals\n- Testing edge cases and error handling in the C API\n- Ensuring ABI compatibility across Python versions\n\nSources: [Modules/_testcapi/parts.h:1-70](), [Modules/_testcapimodule.c:1-30]()\n\n## Testing Modules Hierarchy\n\nPython's C API testing is divided into three main modules that test different API layers:\n\n```mermaid\ngraph TD\n    subgraph \"CPython API Layers\"\n        InternalAPI[\"Internal API\\n(Include/internal/)\"]\n        PublicAPI[\"Public API\\n(Include/)\"]\n        LimitedAPI[\"Limited API\\n(stable_abi.toml)\"]\n    end\n    \n    subgraph \"Test Modules\"\n        TestInternalCAPI[\"_testinternalcapi\\nTests internal implementation details\"]\n        TestCAPI[\"_testcapi\\nTests public C API\"]\n        TestLimitedCAPI[\"_testlimitedcapi\\nTests stable ABI\"]\n    end\n    \n    InternalAPI --\u003e TestInternalCAPI\n    PublicAPI --\u003e TestCAPI\n    LimitedAPI --\u003e TestLimitedCAPI\n    \n    subgraph \"Python Test Suite\"\n        TestSuite[\"test_capi package\\n(Lib/test/test_capi/)\"]\n    end\n    \n    TestCAPI --\u003e TestSuite\n    TestLimitedCAPI --\u003e TestSuite\n    TestInternalCAPI --\u003e TestSuite\n```\n\n- **_testcapi**: Tests the public C API available to all extension modules (header files in `Include/` and `Include/cpython/`)\n- **_testlimitedcapi**: Tests the Limited API that ensures binary compatibility across Python versions\n- **_testinternalcapi**: Tests the internal C API used by the CPython implementation itself\n\nSources: [Modules/_testcapi/parts.h:9-23](), [Modules/_testinternalcapi.c:1-45](), [Modules/Setup.stdlib.in:165-167]()\n\n## Module Architecture\n\nThe C API testing modules are structured in a modular way, with code organized by functional area:\n\n```mermaid\ngraph TD\n    subgraph \"_testcapi Module Structure\"\n        ModuleMain[\"_testcapimodule.c\\n(Main module definition)\"]\n        PartsH[\"parts.h\\n(Common declarations)\"]\n        UtilH[\"util.h\\n(Test utility macros)\"]\n    end\n    \n    subgraph \"Functional Area Modules\"\n        BytesTest[\"bytes.c\\n(Bytes objects)\"]\n        DictTest[\"dict.c\\n(Dict objects)\"]\n        SetTest[\"set.c\\n(Set objects)\"]\n        ListTest[\"list.c\\n(List objects)\"]\n        TupleTest[\"tuple.c\\n(Tuple objects)\"]\n        UnicodeTest[\"unicode.c\\n(Unicode objects)\"]\n        HeapType[\"heaptype.c\\n(Heap types)\"]\n        Abstract[\"abstract.c\\n(Abstract API)\"]\n        MemTest[\"mem.c\\n(Memory management)\"]\n        GCTest[\"gc.c\\n(Garbage collection)\"]\n        CodeTest[\"code.c\\n(Code objects)\"]\n        BufferTest[\"buffer.c\\n(Buffer protocol)\"]\n    end\n    \n    ModuleMain --\u003e BytesTest\n    ModuleMain --\u003e DictTest\n    ModuleMain --\u003e SetTest\n    ModuleMain --\u003e ListTest\n    ModuleMain --\u003e TupleTest\n    ModuleMain --\u003e UnicodeTest\n    ModuleMain --\u003e HeapType\n    ModuleMain --\u003e Abstract\n    ModuleMain --\u003e MemTest\n    ModuleMain --\u003e GCTest\n    ModuleMain --\u003e CodeTest\n    ModuleMain --\u003e BufferTest\n    \n    PartsH -.- BytesTest\n    PartsH -.- DictTest\n    PartsH -.- SetTest\n    UtilH -.- BytesTest\n    UtilH -.- DictTest\n    UtilH -.- SetTest\n    \n    subgraph \"Python Test Files\"\n        TestBytes[\"test_bytes.py\"]\n        TestDict[\"test_dict.py\"]\n        TestMisc[\"test_misc.py\"]\n    end\n    \n    BytesTest -.-\u003e TestBytes\n    DictTest -.-\u003e TestDict\n    ModuleMain -.-\u003e TestMisc\n```\n\nEach C file registers test functions through a module-specific initialization function, such as `_PyTestCapi_Init_Bytes()`, which is called during module initialization.\n\nSources: [Modules/_testcapi/parts.h:31-67](), [PCbuild/_testcapi.vcxproj:95-133](), [Modules/_testcapi/bytes.c:1-68]()\n\n## Test Registration and Execution Flow\n\n```mermaid\nflowchart TD\n    subgraph \"Build Process\"\n        Setup[\"Modules/Setup.stdlib.in\\nLists test module source files\"]\n        BuildC[\"C Compiler builds _testcapi module\"]\n    end\n    \n    subgraph \"Test Execution\"\n        TestRunner[\"Python test_capi package loads module\"]\n        CTest[\"_testcapi module initializes\"]\n        RegFuncs[\"Register test functions via PyModule_AddFunctions\"]\n        PyTests[\"Python tests call C functions\"]\n        Verify[\"Verify results with unittest assertions\"]\n    end\n    \n    Setup --\u003e BuildC\n    BuildC --\u003e TestRunner\n    TestRunner --\u003e CTest\n    CTest --\u003e RegFuncs\n    RegFuncs --\u003e PyTests\n    PyTests --\u003e Verify\n```\n\nSources: [Modules/_testcapimodule.c:127-169](), [Modules/_testcapi/bytes.c:54-58](), [Lib/test/test_capi/test_misc.py:48-83]()\n\n## Test Coverage Areas\n\nThe C API testing system provides comprehensive coverage of Python's C API. Key areas include:\n\n| Functional Area | Main Test Files | API Examples Tested |\n|-----------------|----------------|---------------------|\n| Object System | heaptype.c, abstract.c | PyObject_*, PyType_* |\n| Bytes \u0026 Strings | bytes.c, unicode.c | PyBytes_*, PyUnicode_* |\n| Collections | dict.c, list.c, tuple.c, set.c | PyDict_*, PyList_*, PyTuple_*, PySet_* |\n| Memory | mem.c, buffer.c | PyMem_*, PyObject_Malloc, Buffer Protocol |\n| Types | long.c, float.c, complex.c | PyLong_*, PyFloat_*, PyComplex_* |\n| Execution | code.c, frame.c, function.c | PyEval_*, PyFrame_*, PyFunction_* |\n| Systems | gc.c, import.c, time.c | PyGC_*, PyImport_*, PyCapsule_* |\n\nSources: [PCbuild/_testcapi.vcxproj:96-133](), [Modules/_testcapi/parts.h:31-67]()\n\n### Example: BytesObject Testing\n\nThe bytes object testing module (`bytes.c`) demonstrates the approach to testing Python's C API:\n\n```mermaid\nflowchart LR\n    subgraph \"C API Test Implementation\"\n        CFunc[\"bytes_resize()\"]\n        CTest[\"Tests _PyBytes_Resize() function\"]\n        RegFunc[\"Register with PyModule_AddFunctions\"]\n    end\n    \n    subgraph \"Python Test Side\"\n        TestFunc[\"test_bytes.py\"]\n        Call[\"Call bytes_resize() with test cases\"]\n        Assert[\"Assert correct behavior\"]\n    end\n    \n    CFunc --\u003e CTest\n    CTest --\u003e RegFunc\n    RegFunc --\u003e Call\n    Call --\u003e Assert\n```\n\nThe C test functions typically:\n1. Take Python objects as arguments\n2. Convert them to C representations\n3. Call the C API function being tested\n4. Convert the result back to Python objects\n5. Return to Python for verification\n\nSources: [Modules/_testcapi/bytes.c:5-37](), [Lib/test/test_capi/test_bytes.py:1-70]()\n\n## Test Utility Functions\n\nThe test system provides utilities to help with common testing patterns:\n\n```c\n// Handle NULL values in tests\n#define NULLABLE(x) do {                    \\\n    if (x == Py_None) {                     \\\n        x = NULL;                           \\\n    }                                       \\\n} while (0);\n\n// Safely return integer values from test functions\n#define RETURN_INT(value) do {              \\\n    int _ret = (value);                     \\\n    if (_ret == -1) {                       \\\n        assert(PyErr_Occurred());           \\\n        return NULL;                        \\\n    }                                       \\\n    assert(!PyErr_Occurred());              \\\n    return PyLong_FromLong(_ret);           \\\n} while (0)\n```\n\nThese utilities help ensure consistent error handling and conversion between C and Python values.\n\nSources: [Modules/_testcapi/util.h:1-26]()\n\n## Test Examples\n\n### Testing PyBytes Functions\n\nA typical pattern for testing C API functions:\n\n```python\ndef test_fromstringandsize(self):\n    # Test PyBytes_FromStringAndSize()\n    fromstringandsize = _testlimitedcapi.bytes_fromstringandsize\n\n    self.assertEqual(fromstringandsize(b'abc'), b'abc')\n    self.assertEqual(fromstringandsize(b'abc', 2), b'ab')\n    self.assertEqual(fromstringandsize(b'abc\\0def'), b'abc\\0def')\n    self.assertEqual(fromstringandsize(b'', 0), b'')\n    self.assertEqual(fromstringandsize(NULL, 0), b'')\n    self.assertEqual(len(fromstringandsize(NULL, 3)), 3)\n    \n    # Test error conditions\n    self.assertRaises((MemoryError, OverflowError),\n                      fromstringandsize, NULL, PY_SSIZE_T_MAX)\n    self.assertRaises(SystemError, fromstringandsize, b'abc', -1)\n```\n\nSources: [Lib/test/test_capi/test_bytes.py:49-67]()\n\n### Testing Extension Type Behavior\n\n```python\ndef test_heaptype_with_dict(self):\n    for cls in (\n        _testcapi.HeapCTypeWithDict,\n        _testlimitedcapi.HeapCTypeWithRelativeDict,\n    ):\n        with self.subTest(cls=cls):\n            inst = cls()\n            inst.foo = 42\n            self.assertEqual(inst.foo, 42)\n            self.assertEqual(inst.dictobj, inst.__dict__)\n            self.assertEqual(inst.dictobj, {\"foo\": 42})\n\n            inst = cls()\n            self.assertEqual({}, inst.__dict__)\n```\n\nSources: [Lib/test/test_capi/test_misc.py:517-531]()\n\n## Running the C API Tests\n\nTo run the C API tests:\n\n1. Build Python with the test modules:\n   ```bash\n   # On Unix-like systems\n   ./configure \u0026\u0026 make\n   \n   # On Windows with Visual Studio\n   # Build using PCbuild/pcbuild.sln project\n   ```\n\n2. Run the tests using the Python test framework:\n   ```bash\n   # Run all C API tests\n   ./python -m test.test_capi\n   \n   # Run specific test\n   ./python -m test.test_capi.test_bytes\n   ```\n\nSources: [Modules/Setup.stdlib.in:165-167](), [PCbuild/_testcapi.vcxproj:1-151]()\n\n## Extending the Test System\n\nTo add new C API tests:\n\n1. **Identify the appropriate module** for your test (e.g., `bytes.c` for bytes functions)\n\n2. **Create test functions** that exercise the C API:\n   ```c\n   static PyObject *\n   test_your_function(PyObject *Py_UNUSED(module), PyObject *args)\n   {\n       // Parse arguments from Python\n       // Call the C API function being tested\n       // Return results to Python\n   }\n   ```\n\n3. **Register your function** in the module's test methods array:\n   ```c\n   static PyMethodDef test_methods[] = {\n       {\"test_your_function\", test_your_function, METH_VARARGS},\n       {NULL},  // Sentinel\n   };\n   ```\n\n4. **Create Python tests** that call your C function and verify results\n\nSources: [Modules/_testcapi/bytes.c:54-58](), [Modules/_testcapi/numbers.c:127-166]()\n\n## Testing Special Cases and Error Conditions\n\nThe C API tests place special emphasis on testing error conditions, such as:\n\n- Invalid arguments\n- NULL pointers\n- Memory allocation failures\n- Type mismatches\n- Invalid states\n\nFor example, the tests often include comments about what would crash the interpreter:\n```python\n# CRASHES check(NULL)\n```\n\nThese notes indicate conditions that are not tested directly because they would cause a segmentation fault but are important to document.\n\nSources: [Lib/test/test_capi/test_bytes.py:33](), [Lib/test/test_capi/test_bytes.py:250-252]()\n\n## Conclusion\n\nThe C Extension Testing system is a critical part of Python's quality assurance process, ensuring that the C API remains stable, correct, and well-documented. By providing comprehensive test coverage of the C API, it helps prevent regressions and ensures that extension modules can rely on consistent behavior across Python versions."])</script><script>self.__next_f.push([1,"27:T3be2,"])</script><script>self.__next_f.push([1,"# Build System\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [.github/actionlint.yaml](.github/actionlint.yaml)\n- [.github/workflows/build.yml](.github/workflows/build.yml)\n- [.github/workflows/jit.yml](.github/workflows/jit.yml)\n- [.github/workflows/reusable-context.yml](.github/workflows/reusable-context.yml)\n- [.github/workflows/reusable-docs.yml](.github/workflows/reusable-docs.yml)\n- [.github/workflows/reusable-macos.yml](.github/workflows/reusable-macos.yml)\n- [.github/workflows/reusable-tsan.yml](.github/workflows/reusable-tsan.yml)\n- [.github/workflows/reusable-ubuntu.yml](.github/workflows/reusable-ubuntu.yml)\n- [.github/workflows/reusable-wasi.yml](.github/workflows/reusable-wasi.yml)\n- [.github/workflows/reusable-windows-msi.yml](.github/workflows/reusable-windows-msi.yml)\n- [.github/workflows/reusable-windows.yml](.github/workflows/reusable-windows.yml)\n- [Doc/using/configure.rst](Doc/using/configure.rst)\n- [Lib/test/test_types.py](Lib/test/test_types.py)\n- [Lib/test/test_yield_from.py](Lib/test/test_yield_from.py)\n- [Lib/types.py](Lib/types.py)\n- [Makefile.pre.in](Makefile.pre.in)\n- [Misc/NEWS.d/next/Core_and_Builtins/2025-04-09-20-49-04.gh-issue-132284.TxTNka.rst](Misc/NEWS.d/next/Core_and_Builtins/2025-04-09-20-49-04.gh-issue-132284.TxTNka.rst)\n- [Modules/Setup](Modules/Setup)\n- [Modules/Setup.bootstrap.in](Modules/Setup.bootstrap.in)\n- [Modules/_typesmodule.c](Modules/_typesmodule.c)\n- [PC/config.c](PC/config.c)\n- [PCbuild/_freeze_module.vcxproj](PCbuild/_freeze_module.vcxproj)\n- [PCbuild/_freeze_module.vcxproj.filters](PCbuild/_freeze_module.vcxproj.filters)\n- [PCbuild/pythoncore.vcxproj](PCbuild/pythoncore.vcxproj)\n- [PCbuild/pythoncore.vcxproj.filters](PCbuild/pythoncore.vcxproj.filters)\n- [Tools/build/.ruff.toml](Tools/build/.ruff.toml)\n- [Tools/build/.warningignore_macos](Tools/build/.warningignore_macos)\n- [Tools/build/.warningignore_ubuntu](Tools/build/.warningignore_ubuntu)\n- [Tools/build/check_warnings.py](Tools/build/check_warnings.py)\n- [Tools/build/compute-changes.py](Tools/build/compute-changes.py)\n- [configure](configure)\n- [configure.ac](configure.ac)\n- [pyconfig.h.in](pyconfig.h.in)\n\n\u003c/details\u003e\n\n\n\nThe CPython build system is responsible for configuring and building Python across different platforms and with various feature configurations. This page explains the core components of the build process, how to use the build system, and how it works internally. For platform-specific installation details, refer to official Python documentation.\n\n## Overview\n\nCPython has different build systems for different platforms:\n\n- **Unix-like systems** (Linux, macOS, BSD): Uses Autoconf/configure/make\n- **Windows**: Uses Visual Studio project files in the PCbuild directory\n- **Cross-compilation**: Special configuration for platforms like iOS, Android, and WebAssembly\n\nThe build process generally involves:\n1. Detecting platform features and libraries\n2. Configuring build parameters\n3. Compiling Python core and extension modules\n4. Building installers or packages\n\n```mermaid\ngraph TD\n    subgraph \"Build System Components\"\n        Configure[\"Configure System\"]\n        Make[\"Make System\"]\n        VS[\"Visual Studio System\"]\n        Cross[\"Cross-compilation\"]\n        CI[\"CI/CD Pipeline\"]\n    end\n    \n    User([User]) --\u003e|\"./configure\"| Configure\n    Configure --\u003e|\"generates\"| Make\n    User --\u003e|\"make\"| Make\n    User --\u003e|\"PCbuild/build.bat\"| VS\n    \n    Make --\u003e|\"builds on Unix\"| Python[\"Python Interpreter\"]\n    VS --\u003e|\"builds on Windows\"| Python\n    Cross --\u003e|\"builds for other platforms\"| Python\n    CI --\u003e|\"automates builds\"| Configure\n    CI --\u003e|\"automates builds\"| Make\n    CI --\u003e|\"automates builds\"| VS\n```\n\nSources: [configure.ac:1-102](configure.ac:1-102), [Makefile.pre.in:1-20](Makefile.pre.in:1-20), [PCbuild/pythoncore.vcxproj:1-20](PCbuild/pythoncore.vcxproj:1-20)\n\n## Unix-like Build System\n\n### Configure Script \n\nThe Unix build system relies on GNU Autoconf to create a `configure` script from `configure.ac`. This script detects system features and generates the necessary files for building.\n\n```mermaid\ngraph TD\n    subgraph \"Unix/Linux Configure Process\"\n        ConfigAC[\"configure.ac\"]\n        Aclocal[\"aclocal.m4\"] \n        Autoconf[\"autoconf\"]\n        ConfigureScript[\"configure script\"]\n        MakePreIn[\"Makefile.pre.in\"]\n        PyConfigIn[\"pyconfig.h.in\"]\n        Configure[\"`./configure` command\"]\n        Makefile[\"Makefile\"]\n        PyConfig[\"pyconfig.h\"]\n    end\n    \n    ConfigAC --\u003e|\"input to\"| Autoconf\n    Aclocal --\u003e|\"macros for\"| Autoconf\n    Autoconf --\u003e|\"generates\"| ConfigureScript\n    \n    ConfigureScript --\u003e|\"run by user\"| Configure\n    PyConfigIn --\u003e|\"template for\"| Configure\n    MakePreIn --\u003e|\"template for\"| Configure\n    \n    Configure --\u003e|\"generates\"| Makefile\n    Configure --\u003e|\"generates\"| PyConfig\n```\n\nTo regenerate the configure script (only needed by CPython developers):\n\n```\nmake regen-configure\n```\n\nWhen running configure, you can specify various options to customize the build:\n\n```\n./configure --with-pydebug --enable-shared\n```\n\nSources: [configure.ac:11-26](configure.ac:11-26), [configure:1-60](configure:1-60), [Doc/using/configure.rst:9-30](Doc/using/configure.rst:9-30)\n\n### Build Process\n\nAfter configuration, you use GNU Make to build Python:\n\n```mermaid\ngraph TD\n    subgraph \"Unix/Linux Build Process\"\n        Makefile[\"Makefile\"]\n        ModulesSetup[\"Modules/Setup\"]\n        PyConfig[\"pyconfig.h\"]\n        \n        Make[\"make command\"]\n        Compile[\"Compile Python core\\n(Objects/, Python/)\"]\n        CompileModules[\"Compile extension modules\\n(Modules/)\"]\n        Link[\"Link Python executable\\nand shared libraries\"]\n        \n        PythonBin[\"python (executable)\"]\n        LibPython[\"libpython3.x.so\"]\n        ModuleLibs[\"extension modules\\n(*.so files)\"]\n    end\n    \n    Makefile --\u003e|\"drives\"| Make\n    ModulesSetup --\u003e|\"configures\"| Make\n    PyConfig --\u003e|\"defines features\"| Make\n    \n    Make --\u003e|\"first\"| Compile\n    Make --\u003e|\"then\"| CompileModules\n    Make --\u003e|\"finally\"| Link\n    \n    Link --\u003e|\"produces\"| PythonBin\n    Link --\u003e|\"produces\"| LibPython\n    CompileModules --\u003e|\"produces\"| ModuleLibs\n```\n\nCommon make targets:\n\n- `make`: Build Python\n- `make test`: Run the test suite\n- `make install`: Install Python\n- `make clean`: Clean build artifacts\n- `make regen-all`: Regenerate various build-time generated files\n\nSources: [Makefile.pre.in:270-305](Makefile.pre.in:270-305), [Makefile.pre.in:582-585](Makefile.pre.in:582-585)\n\n## Windows Build System\n\nThe Windows build system uses Visual Studio project files in the PCbuild directory.\n\n```mermaid\ngraph TD\n    subgraph \"Windows Build System\"\n        BuildBat[\"PCbuild/build.bat\"]\n        PythonProps[\"PCbuild/python.props\"]\n        PyProject[\"PCbuild/pyproject.props\"]\n        \n        PythonCore[\"pythoncore.vcxproj\\n(Python DLL)\"]\n        PythonExe[\"python.vcxproj\\n(Executable)\"]\n        FreezeModule[\"_freeze_module.vcxproj\"]\n        ExtModules[\"Extension modules\\n(*.vcxproj files)\"]\n        \n        MSBuild[\"MSBuild\"]\n        \n        PythonDLL[\"python3x.dll\"]\n        PythonEXE[\"python.exe\"]\n        ModuleDLLs[\"Extension modules\\n(*.pyd files)\"]\n    end\n    \n    BuildBat --\u003e|\"configures\"| MSBuild\n    PythonProps --\u003e|\"common properties\"| MSBuild\n    PyProject --\u003e|\"project settings\"| MSBuild\n    \n    PythonCore --\u003e|\"builds\"| MSBuild\n    PythonExe --\u003e|\"builds\"| MSBuild\n    FreezeModule --\u003e|\"builds\"| MSBuild\n    ExtModules --\u003e|\"builds\"| MSBuild\n    \n    MSBuild --\u003e|\"produces\"| PythonDLL\n    MSBuild --\u003e|\"produces\"| PythonEXE\n    MSBuild --\u003e|\"produces\"| ModuleDLLs\n```\n\nTo build Python on Windows, you can use:\n\n```\nPCbuild\\build.bat -p x64 -c Release\n```\n\nOptions include:\n- `-p`: Platform (Win32, x64, ARM, ARM64)\n- `-c`: Configuration (Debug, Release, PGInstrument, PGUpdate)\n- `-d`: Debug build (equivalent to `-c Debug`)\n- `--experimental-jit`: Enable the experimental JIT compiler\n\nSources: [PCbuild/pythoncore.vcxproj:1-30](PCbuild/pythoncore.vcxproj:1-30), [PCbuild/_freeze_module.vcxproj:1-50](PCbuild/_freeze_module.vcxproj:1-50)\n\n## Module Configuration\n\nPython modules can be:\n\n1. Built-in (part of the core interpreter)\n2. Statically linked (compiled into the Python executable/library)\n3. Dynamically linked (built as separate `.so`/`.pyd` files)\n\nModule configuration in Unix systems is controlled by:\n- `Modules/Setup`: Configures which modules are built statically\n- `Modules/Setup.bootstrap.in`: Configures modules needed for bootstrapping\n\nWindows module configuration is controlled by the various `.vcxproj` files in the `PCbuild` directory.\n\nSources: [Modules/Setup:1-10](Modules/Setup:1-10), [Makefile.pre.in:21-27](Makefile.pre.in:21-27), [PCbuild/pythoncore.vcxproj:100-116](PCbuild/pythoncore.vcxproj:100-116)\n\n## Build Optimizations\n\nCPython supports several build optimizations:\n\n### Profile-Guided Optimization (PGO)\n\nPGO improves performance by using profile data collected from running a representative workload:\n\n```\n./configure --enable-optimizations\n```\n\nThis runs Python with instrumentation, collects profile data, then rebuilds with optimizations.\n\n### Binary Optimization and Layout Tool (BOLT)\n\nBOLT is a post-link optimizer that rearranges the code for better instruction cache usage:\n\n```\n./configure --enable-bolt\n```\n\nAvailable on Linux with LLVM tools installed.\n\n### JIT Compiler\n\nPython 3.13+ includes an experimental JIT compiler:\n\n```\n./configure --enable-experimental-jit\n```\n\nFor Windows:\n```\nPCbuild\\build.bat --experimental-jit\n```\n\nSources: [configure.ac:332-375](configure.ac:332-375), [.github/workflows/jit.yml:40-55](/.github/workflows/jit.yml:40-55), [Makefile.pre.in:333-347](Makefile.pre.in:333-347)\n\n## Free-Threading Build\n\nCPython 3.13+ supports an experimental build where the Global Interpreter Lock (GIL) is disabled:\n\n```\n./configure --disable-gil\n```\n\nFor Windows:\n```\nPCbuild\\build.bat --disable-gil\n```\n\nThis defines the `Py_GIL_DISABLED` macro and adds \"t\" to `sys.abiflags`.\n\nSources: [configure.ac:289-302](configure.ac:289-302), [.github/workflows/reusable-ubuntu.yml:95-100](/.github/workflows/reusable-ubuntu.yml:95-100)\n\n## Generated Files\n\nCPython contains various generated files that are part of the build process:\n\n```mermaid\ngraph LR\n    subgraph \"Generated Files\"\n        Configure[\"configure script\"]\n        Makefile[\"Makefile\"]\n        PyConfig[\"pyconfig.h\"]\n        Frozen[\"Python/frozen.c\"]\n        OpCodes[\"Python/opcode_targets.h\"]\n        SymTabs[\"Include/internal/pycore_*\"]\n    end\n    \n    MakefilePreIn[\"Makefile.pre.in\"] --\u003e|\"template for\"| Makefile\n    ConfigureAC[\"configure.ac\"] --\u003e|\"generates\"| Configure\n    PyConfigIn[\"pyconfig.h.in\"] --\u003e|\"template for\"| PyConfig\n    PythonModules[\"Python modules\"] --\u003e|\"frozen into\"| Frozen\n```\n\nTo regenerate all generated files:\n\n```\nmake regen-all\nmake regen-stdlib-module-names\nmake regen-limited-abi\nmake regen-configure\n```\n\nSources: [Doc/using/configure.rst:68-96](Doc/using/configure.rst:68-96), [Makefile.pre.in:572-583](Makefile.pre.in:572-583)\n\n## CI/CD Pipeline\n\nCPython uses GitHub Actions for continuous integration:\n\n```mermaid\ngraph TD\n    subgraph \"CI/CD Pipeline\"\n        BuildYml[\".github/workflows/build.yml\"]\n        Context[\"build-context job\\n(change detection)\"]\n        \n        Windows[\"Windows builds\\n(x64, Win32, ARM64)\"]\n        MacOS[\"macOS builds\\n(Intel, Apple Silicon)\"]\n        Ubuntu[\"Ubuntu builds\\n(x86_64, ARM64)\"]\n        WASI[\"WebAssembly builds\"]\n        \n        FreeThreading[\"Free-threading builds\"]\n        JIT[\"JIT compiler tests\"]\n        TSAN[\"Thread Sanitizer\"]\n        \n        Tests[\"Run regression tests\"]\n    end\n    \n    BuildYml --\u003e|\"first runs\"| Context\n    \n    Context --\u003e|\"if needed\"| Windows\n    Context --\u003e|\"if needed\"| MacOS\n    Context --\u003e|\"if needed\"| Ubuntu\n    Context --\u003e|\"if needed\"| WASI\n    \n    Context --\u003e|\"specific tests\"| FreeThreading\n    Context --\u003e|\"specific tests\"| JIT\n    Context --\u003e|\"specific tests\"| TSAN\n    \n    Windows --\u003e|\"runs\"| Tests\n    MacOS --\u003e|\"runs\"| Tests\n    Ubuntu --\u003e|\"runs\"| Tests\n    WASI --\u003e|\"runs\"| Tests\n```\n\nThe CI system builds and tests Python on multiple platforms and configurations, including:\n- Windows (Win32, x64, ARM64)\n- macOS (Intel and Apple Silicon)\n- Ubuntu (x86_64 and ARM64)\n- WASI (WebAssembly)\n- Specialized builds (free-threading, JIT, thread sanitizer)\n\nSources: [.github/workflows/build.yml:24-39](/.github/workflows/build.yml:24-39), [.github/workflows/reusable-windows.yml:22-36](/.github/workflows/reusable-windows.yml:22-36), [.github/workflows/reusable-macos.yml:22-37](/.github/workflows/reusable-macos.yml:22-37), [.github/workflows/reusable-ubuntu.yml:27-44](/.github/workflows/reusable-ubuntu.yml:27-44)\n\n## Cross-compilation\n\nCPython supports cross-compilation for various platforms:\n\n```mermaid\ngraph TD\n    subgraph \"Cross-compilation\"\n        BuildPython[\"--with-build-python\\n(Python for build host)\"]\n        CrossCompile[\"Configure with\\ncross-compiler\"]\n        \n        FreezeModule[\"FREEZE_MODULE\\n(Freezes modules)\"]\n        \n        TargetPython[\"Python for target platform\"]\n    end\n    \n    BuildPython --\u003e|\"used by\"| FreezeModule\n    CrossCompile --\u003e|\"compiles\"| TargetPython\n    FreezeModule --\u003e|\"helps build\"| TargetPython\n```\n\nKey cross-compilation options:\n- `--with-build-python`: Specifies Python interpreter for the build host\n- `--host`: Specifies the target platform triple\n\nFor WebAssembly (WASI) builds, additional tools like the WASI SDK are needed.\n\nSources: [configure.ac:148-177](configure.ac:148-177), [.github/workflows/reusable-wasi.yml:14-32](/.github/workflows/reusable-wasi.yml:14-32), [Makefile.pre.in:176-208](Makefile.pre.in:176-208)\n\n## Configuration Options\n\nThe configure script supports numerous options. Some important ones include:\n\n| Option | Description |\n|--------|-------------|\n| `--enable-shared` | Build a shared Python library (`libpython3.x.so`) |\n| `--with-pydebug` | Build Python with debugging symbols |\n| `--enable-optimizations` | Enable profile-guided optimization (PGO) |\n| `--enable-bolt` | Enable Binary Optimization and Layout Tool (BOLT) |\n| `--disable-gil` | Build with free-threading support (no GIL) |\n| `--enable-experimental-jit` | Enable the experimental JIT compiler |\n| `--with-openssl` | Specify OpenSSL directory for SSL/TLS support |\n| `--with-system-expat` | Use system-provided Expat library |\n| `--with-ensurepip` | Install pip during Python installation |\n\nFor a full list, run `./configure --help` or refer to the [Configuration Process](#6.1) page.\n\nSources: [Doc/using/configure.rst:99-158](Doc/using/configure.rst:99-158), [configure.ac:1042-1175](configure.ac:1042-1175)\n\n## Summary\n\nThe CPython build system is a complex but flexible system that accommodates multiple platforms, configurations, and optimization techniques. It allows Python to be built with different features, optimizations, and for various target platforms.\n\nFor related pages, see:\n- [Configuration Process](#6.1) for details on configure script options\n- [CI/CD Pipeline](#6.2) for more information on the continuous integration system\n\nSources: [configure:1-10](configure:1-10), [Makefile.pre.in:1-10](Makefile.pre.in:1-10), [.github/workflows/build.yml:1-10](/.github/workflows/build.yml:1-10)"])</script><script>self.__next_f.push([1,"28:T29fb,"])</script><script>self.__next_f.push([1,"# Configuration Process\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [Doc/using/configure.rst](Doc/using/configure.rst)\n- [Lib/test/test_types.py](Lib/test/test_types.py)\n- [Lib/types.py](Lib/types.py)\n- [Makefile.pre.in](Makefile.pre.in)\n- [Misc/NEWS.d/next/Core_and_Builtins/2025-04-09-20-49-04.gh-issue-132284.TxTNka.rst](Misc/NEWS.d/next/Core_and_Builtins/2025-04-09-20-49-04.gh-issue-132284.TxTNka.rst)\n- [Modules/Setup](Modules/Setup)\n- [Modules/Setup.bootstrap.in](Modules/Setup.bootstrap.in)\n- [Modules/_typesmodule.c](Modules/_typesmodule.c)\n- [PC/config.c](PC/config.c)\n- [PCbuild/_freeze_module.vcxproj](PCbuild/_freeze_module.vcxproj)\n- [PCbuild/_freeze_module.vcxproj.filters](PCbuild/_freeze_module.vcxproj.filters)\n- [PCbuild/pythoncore.vcxproj](PCbuild/pythoncore.vcxproj)\n- [PCbuild/pythoncore.vcxproj.filters](PCbuild/pythoncore.vcxproj.filters)\n- [configure](configure)\n- [configure.ac](configure.ac)\n- [pyconfig.h.in](pyconfig.h.in)\n\n\u003c/details\u003e\n\n\n\nThis page describes the process and tools used to configure CPython before building it. The configuration process prepares the build environment, detects system capabilities, and generates the necessary files for compiling Python. It differs significantly between Unix-like systems and Windows.\n\nFor information about the actual build process after configuration, see [Build System](#6).\n\n## Overview\n\nThe configuration process in CPython serves several crucial purposes:\n\n1. Detecting platform and compiler capabilities\n2. Setting appropriate build flags and options\n3. Determining which modules to include and how to build them\n4. Generating platform-specific configuration files\n5. Creating the build system files (Makefiles or project files)\n\nCPython uses different configuration approaches based on the target platform:\n\n```mermaid\nflowchart TD\n    subgraph \"Configuration Process\"\n        A[\"CPython Source Code\"]\n        B[\"Platform Detection\"]\n        \n        A --\u003e B\n        B --\u003e|\"Unix/Linux/macOS\"| C[\"./configure script\"]\n        B --\u003e|\"Windows\"| D[\"Visual Studio Projects\"]\n        \n        C --\u003e E[\"Generate Makefile\"]\n        C --\u003e F[\"Generate pyconfig.h\"]\n        \n        D --\u003e G[\"PCbuild/*.vcxproj\"]\n        \n        E --\u003e H[\"make\"]\n        F --\u003e H\n        G --\u003e I[\"MSBuild\"]\n        \n        H --\u003e J[\"Python Binary (Unix)\"]\n        I --\u003e K[\"Python Binary (Windows)\"]\n    end\n```\n\nSources: [configure.ac:1-28](). [PCbuild/pythoncore.vcxproj:1-31](). [Makefile.pre.in:1-20]().\n\n## Unix Configuration System\n\nOn Unix-like systems (Linux, macOS, etc.), CPython uses the GNU Autoconf system to generate a configuration script.\n\n### Configuration Files and Tools\n\nThe key files involved in the Unix configuration process are:\n\n1. **configure.ac**: The Autoconf input file containing configuration tests and macro definitions\n2. **configure**: The generated shell script that performs actual configuration\n3. **Makefile.pre.in**: Template for the final Makefile\n4. **pyconfig.h.in**: Template for pyconfig.h, which contains platform-specific C preprocessor definitions\n\n```mermaid\nflowchart TD\n    A[\"configure.ac\"] --\u003e|\"autoconf\"| B[\"configure script\"]\n    C[\"Makefile.pre.in\"] --\u003e|\"configure\"| D[\"Makefile\"]\n    E[\"pyconfig.h.in\"] --\u003e|\"configure\"| F[\"pyconfig.h\"]\n    \n    B --\u003e|\"./configure\"| G[\"Configuration Process\"]\n    G --\u003e D\n    G --\u003e F\n    G --\u003e H[\"other generated files\"]\n```\n\nSources: [configure.ac:1-50](). [Makefile.pre.in:1-15](). [pyconfig.h.in:1-20]().\n\n### Running the Configure Script\n\nThe configure script is run from the command line and accepts numerous options to customize the build:\n\n```\n./configure [options]\n```\n\nAfter running, it produces several files, with the most important being:\n- **Makefile**: Generated from Makefile.pre.in\n- **pyconfig.h**: Contains C preprocessor definitions for platform-specific features\n\nSources: [configure:1-114](). [Doc/using/configure.rst:100-107]().\n\n### Configuration Options\n\nThe configure script supports many options to customize the build. Some important categories include:\n\n| Category | Example Options | Purpose |\n|----------|----------------|---------|\n| General | `--enable-shared`, `--with-pydebug` | Control overall build characteristics |\n| Module Options | `--enable-loadable-sqlite-extensions` | Enable/disable specific modules |\n| Installation | `--prefix=/usr/local` | Control where Python will be installed |\n| Performance | `--enable-optimizations`, `--with-lto` | Enable performance optimizations |\n| Extensions | `--with-openssl` | Configure external library dependencies |\n\nA full list of configuration options can be obtained by running:\n\n```\n./configure --help\n```\n\nSources: [Doc/using/configure.rst:99-524](). [configure.ac:1084-1175]().\n\n### Example Configuration Flow\n\n```mermaid\nsequenceDiagram\n    participant User\n    participant Configure as ./configure\n    participant System as System Detection\n    participant Files as Generated Files\n    \n    User-\u003e\u003eConfigure: ./configure [options]\n    Configure-\u003e\u003eSystem: Check compiler\n    Configure-\u003e\u003eSystem: Check system libraries\n    Configure-\u003e\u003eSystem: Detect platform features\n    System-\u003e\u003eConfigure: Report capabilities\n    Configure-\u003e\u003eFiles: Generate Makefile\n    Configure-\u003e\u003eFiles: Generate pyconfig.h\n    Configure-\u003e\u003eUser: Configuration summary\n```\n\nSources: [configure:593-642](). [configure.ac:312-384]().\n\n## Windows Configuration System\n\nOn Windows, CPython uses Visual Studio project files instead of the autoconf system.\n\n### Visual Studio Project Structure\n\nThe Windows build relies on Visual Studio project files (.vcxproj) located in the PCbuild directory:\n\n1. **PCbuild/pythoncore.vcxproj**: The main project file for building the Python core\n2. **PCbuild/python.props**: Common property definitions\n3. **PCbuild/pyproject.props**: Python-specific property definitions\n\n```mermaid\nflowchart TD\n    A[\"PCbuild/pythoncore.vcxproj\"] --\u003e B[\"Visual Studio Build System\"]\n    C[\"PCbuild/python.props\"] --\u003e B\n    D[\"PCbuild/*.vcxproj\"] --\u003e B\n    \n    B --\u003e E[\"PC/pyconfig.h\"]\n    B --\u003e F[\"Python DLL and EXE\"]\n    B --\u003e G[\"Extension Modules (.pyd)\"]\n```\n\nSources: [PCbuild/pythoncore.vcxproj:1-97](). [PCbuild/_freeze_module.vcxproj:1-102]().\n\n### Windows Build Configurations\n\nThe Visual Studio projects support multiple configurations and platforms:\n\n| Configuration | Purpose |\n|---------------|---------|\n| Debug | Build with debugging symbols and without optimization |\n| Release | Optimized build for production use |\n| PGInstrument/PGUpdate | Profile-guided optimization builds |\n\n| Platform | Purpose |\n|----------|---------|\n| Win32 | 32-bit x86 build |\n| x64 | 64-bit x86-64 build |\n| ARM | 32-bit ARM build |\n| ARM64 | 64-bit ARM build |\n\nSources: [PCbuild/pythoncore.vcxproj:4-67](). [PCbuild/_freeze_module.vcxproj:4-67]().\n\n## Module Configuration\n\nOne of the key aspects of CPython's configuration is determining which modules to build and how to build them.\n\n### The Setup Files\n\nModules are configured through Setup files:\n\n1. **Modules/Setup**: Main module configuration file\n2. **Modules/Setup.bootstrap.in**: Modules required for bootstrap\n3. **Modules/Setup.local**: (Optional) Local user customizations\n\n```mermaid\nflowchart TD\n    A[\"Modules/Setup\"] --\u003e B[\"makesetup script\"]\n    C[\"Modules/Setup.bootstrap.in\"] --\u003e B\n    D[\"Modules/Setup.local (if exists)\"] --\u003e B\n    \n    B --\u003e E[\"Module Configuration\"]\n    E --\u003e F[\"MODBUILT_NAMES (Static modules)\"]\n    E --\u003e G[\"MODSHARED_NAMES (Shared modules)\"]\n    E --\u003e H[\"MODDISABLED_NAMES (Disabled modules)\"]\n```\n\nSources: [Modules/Setup:1-41](). [Modules/Setup.bootstrap.in:1-40]().\n\n### Module Build Types\n\nThe Setup files define three types of module builds:\n\n| Type | Marker | Description |\n|------|--------|-------------|\n| Static | `*static*` | Compiled directly into the Python binary |\n| Shared | `*shared*` | Built as a separate shared library (.so/.pyd) |\n| Disabled | `*disabled*` | Not built at all |\n\nSources: [Modules/Setup:13-21](). [Modules/Setup.bootstrap.in:5-6]().\n\n### Module Setup File Format\n\nEach line in the Setup file has the following structure:\n\n```\n\u003cmodule\u003e ... [\u003csourcefile\u003e ...] [\u003ccpparg\u003e ...] [\u003clibrary\u003e ...]\n```\n\nWhere:\n- `\u003cmodule\u003e` is the module name\n- `\u003csourcefile\u003e` is a source file ending in .c\n- `\u003ccpparg\u003e` is a preprocessor flag starting with -I, -D, -U, or -C\n- `\u003clibrary\u003e` is a library ending in .a or beginning with -l or -L\n\nSources: [Modules/Setup:23-35]().\n\n## Platform Detection and Adaptation\n\nThe configuration process detects the target platform and adapts the build accordingly.\n\n### Platform Detection in configure.ac\n\n```mermaid\nflowchart TD\n    A[\"./configure\"] --\u003e B[\"Detect Platform\"]\n    B --\u003e C{\"Platform Type\"}\n    \n    C --\u003e|\"Linux\"| D[\"ac_sys_system=Linux\"]\n    C --\u003e|\"macOS\"| E[\"ac_sys_system=Darwin\"]\n    C --\u003e|\"FreeBSD\"| F[\"ac_sys_system=FreeBSD\"]\n    C --\u003e|\"Windows (Cygwin)\"| G[\"ac_sys_system=Cygwin\"]\n    \n    D --\u003e H[\"Set MACHDEP=linux\"]\n    E --\u003e I[\"Set MACHDEP=darwin\"]\n    F --\u003e J[\"Set MACHDEP=freebsd\"]\n    G --\u003e K[\"Set MACHDEP=cygwin\"]\n    \n    H --\u003e L[\"Platform-specific adaptations\"]\n    I --\u003e L\n    J --\u003e L\n    K --\u003e L\n```\n\nSources: [configure.ac:312-384](). [configure:366-384]().\n\n### Cross-Compilation Support\n\nCPython supports cross-compilation, where the build happens on one system but targets another. Special options are available for this:\n\n```\n./configure --build=\u003cbuild-system\u003e --host=\u003ctarget-system\u003e --with-build-python=\u003cpath\u003e\n```\n\nSources: [configure.ac:137-176](). [Doc/using/configure.rst:137-176]().\n\n## Generated Configuration Files\n\nThe configuration process generates several important files:\n\n### pyconfig.h\n\nThe `pyconfig.h` file contains C preprocessor definitions for platform-specific features. It's included by `Python.h` to define appropriate platform settings.\n\nKey parts include:\n- Feature availability flags (HAVE_*)\n- Platform-specific definitions\n- Memory model information\n- Compiler-specific settings\n\nSources: [pyconfig.h.in:1-100](). [configure.ac:228-241]().\n\n### The Makefile\n\nThe generated Makefile contains:\n- Variable definitions for compilers and flags\n- Build targets for Python and modules\n- Installation targets\n- Lists of modules to build\n- Dependencies between components\n\nSources: [Makefile.pre.in:30-150](). [configure.ac:98-111]().\n\n## Conclusion\n\nCPython's configuration process is complex and highly adaptable to different platforms and user needs. It creates an environment-specific build system that handles the unique characteristics of each platform while maintaining a consistent Python experience across them.\n\nSources: [configure.ac](). [Makefile.pre.in](). [PCbuild/pythoncore.vcxproj](). [Modules/Setup](). [Doc/using/configure.rst]()."])</script><script>self.__next_f.push([1,"29:T4e63,"])</script><script>self.__next_f.push([1,"# CI/CD Pipeline\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [.github/actionlint.yaml](.github/actionlint.yaml)\n- [.github/workflows/build.yml](.github/workflows/build.yml)\n- [.github/workflows/jit.yml](.github/workflows/jit.yml)\n- [.github/workflows/reusable-context.yml](.github/workflows/reusable-context.yml)\n- [.github/workflows/reusable-docs.yml](.github/workflows/reusable-docs.yml)\n- [.github/workflows/reusable-macos.yml](.github/workflows/reusable-macos.yml)\n- [.github/workflows/reusable-tsan.yml](.github/workflows/reusable-tsan.yml)\n- [.github/workflows/reusable-ubuntu.yml](.github/workflows/reusable-ubuntu.yml)\n- [.github/workflows/reusable-wasi.yml](.github/workflows/reusable-wasi.yml)\n- [.github/workflows/reusable-windows-msi.yml](.github/workflows/reusable-windows-msi.yml)\n- [.github/workflows/reusable-windows.yml](.github/workflows/reusable-windows.yml)\n- [Lib/test/test_yield_from.py](Lib/test/test_yield_from.py)\n- [Tools/build/.ruff.toml](Tools/build/.ruff.toml)\n- [Tools/build/.warningignore_macos](Tools/build/.warningignore_macos)\n- [Tools/build/.warningignore_ubuntu](Tools/build/.warningignore_ubuntu)\n- [Tools/build/check_warnings.py](Tools/build/check_warnings.py)\n- [Tools/build/compute-changes.py](Tools/build/compute-changes.py)\n\n\u003c/details\u003e\n\n\n\nThis document describes the Continuous Integration and Continuous Deployment (CI/CD) pipeline for CPython. It explains the GitHub Actions-based automated build, test, and verification processes that run when changes are made to the codebase. For information about the general build process, see [Build System](#6) and [Configuration Process](#6.1).\n\n## Overview\n\nThe CPython project uses GitHub Actions to implement its CI/CD pipeline. This pipeline automatically builds and tests Python across multiple platforms, architectures, and configurations to ensure code quality and compatibility. The pipeline is triggered by:\n\n- Pull requests to the `main` or version branches (e.g., `3.x`)\n- Direct pushes to `main` or version branches\n- Manual triggers via the GitHub UI (`workflow_dispatch`)\n\n```mermaid\nflowchart TD\n    subgraph \"Triggers\"\n        PR[\"Pull Request\"]\n        Push[\"Push to main/3.x\"]\n        Manual[\"Manual Trigger\"]\n    end\n\n    subgraph \"Change Detection\"\n        Context[\"build-context job\\nCompute changed files\"]\n        ConfigHash[\"Compute config hash\\nfor cache keys\"]\n    end\n\n    subgraph \"Core Builds \u0026 Tests\"\n        Checks[\"Pre-build Checks\\n- Docs\\n- Autoconf\\n- Generated files\"]\n        \n        Windows[\"Windows Builds\\n(x64, Win32, ARM64)\"]\n        WindowsMSI[\"Windows MSI Installer\"]\n        \n        MacOS[\"macOS Builds\\n(Intel, Apple Silicon)\"]\n        \n        Ubuntu[\"Ubuntu Builds\\n(x86_64, ARM64)\"]\n        \n        WASI[\"WebAssembly/WASI Build\"]\n    end\n\n    subgraph \"Specialized Tests\"\n        SSL[\"SSL Tests\\n(multiple OpenSSL versions)\"]\n        ASAN[\"Address Sanitizer\"]\n        TSAN[\"Thread Sanitizer\"]\n        \n        Hypothesis[\"Hypothesis Tests\"]\n        CrossBuild[\"Cross-Build Linux\"]\n        CIFuzz[\"Fuzzing Tests\"]\n    end\n\n    subgraph \"Final Verification\"\n        AllGreen[\"all-required-green\\nVerifies required checks\"]\n    end\n\n    PR --\u003e Context\n    Push --\u003e Context\n    Manual --\u003e Context\n    \n    Context --\u003e ConfigHash\n    Context --\u003e Checks\n    Context --\u003e Windows\n    Context --\u003e MacOS\n    Context --\u003e Ubuntu\n    Context --\u003e WASI\n    Context --\u003e SSL\n    Context --\u003e ASAN\n    Context --\u003e TSAN\n    Context --\u003e Hypothesis\n    Context --\u003e CrossBuild\n    Context --\u003e CIFuzz\n    Context --\u003e WindowsMSI\n\n    Checks --\u003e AllGreen\n    Windows --\u003e AllGreen\n    MacOS --\u003e AllGreen\n    Ubuntu --\u003e AllGreen\n    WASI --\u003e AllGreen\n    SSL --\u003e AllGreen\n    ASAN --\u003e AllGreen\n    TSAN --\u003e AllGreen\n    Hypothesis --\u003e AllGreen\n    CrossBuild --\u003e AllGreen\n    CIFuzz --\u003e AllGreen\n    WindowsMSI --\u003e AllGreen\n```\n\nSources: [.github/workflows/build.yml:1-672](), [.github/workflows/reusable-context.yml:1-105]()\n\n## Change Detection System\n\nThe pipeline includes a smart change detection system that determines which tests need to run based on what files were modified. This optimizes CI resources by only running relevant tests.\n\n```mermaid\nflowchart TD\n    subgraph \"Change Detection Process\"\n        GIT[\"Git Diff Analysis\\nCompute changed files\"]\n        Analysis[\"Change Classification\\nprocess_changed_files()\"]\n        Outputs[\"Generate Outputs\\n- run_tests\\n- run_docs\\n- run_windows_tests\\n- run_windows_msi\\n- run_ci_fuzz\"]\n    end\n\n    subgraph \"Decision Logic\"\n        DocCheck{\"Doc files changed?\"}\n        CCheck{\"C/C++ files changed?\"}\n        BuildCheck{\"Build files changed?\"}\n        WinCheck{\"Windows files changed?\"}\n        MSICheck{\"MSI files changed?\"}\n    end\n\n    GIT --\u003e Analysis\n    Analysis --\u003e DocCheck\n    Analysis --\u003e CCheck\n    Analysis --\u003e BuildCheck\n    Analysis --\u003e WinCheck\n    Analysis --\u003e MSICheck\n    \n    DocCheck --\u003e|Yes| RunDocs[\"Enable docs testing\"]\n    CCheck --\u003e|Yes| RunCI[\"Enable CI fuzz testing\"]\n    BuildCheck --\u003e|Yes| RunTests[\"Enable regular tests\"]\n    WinCheck --\u003e|Yes| RunWin[\"Enable Windows tests\"]\n    MSICheck --\u003e|Yes| RunMSI[\"Enable MSI build\"]\n    \n    RunDocs --\u003e Outputs\n    RunCI --\u003e Outputs\n    RunTests --\u003e Outputs\n    RunWin --\u003e Outputs\n    RunMSI --\u003e Outputs\n```\n\nThe system examines changed files to determine:\n\n1. Whether to run documentation tests (e.g., if `.rst` or `.md` files changed)\n2. Whether to run C/C++ fuzzing tests (if `.c` or `.h` files changed)\n3. Whether to run Windows tests (if Windows-specific code changed)\n4. Whether to build Windows MSI installers (if MSI-related files changed)\n5. Whether to run standard tests (for most code changes)\n\nThis optimization prevents running unnecessary tests when only certain files change, while ensuring code quality is maintained across all relevant systems.\n\nSources: [Tools/build/compute-changes.py:1-209](), [.github/workflows/reusable-context.yml:1-105](), [.github/workflows/build.yml:25-38]()\n\n## Main Build Pipeline\n\nThe main build workflow (`build.yml`) orchestrates the entire CI/CD process. It defines the following key jobs:\n\n1. `build-context`: Determines which tests to run based on file changes\n2. `check-docs`: Validates documentation changes\n3. `check-autoconf-regen`: Ensures Autoconf files are up to date\n4. `check-generated-files`: Verifies generated files are up to date\n5. Platform-specific build and test jobs (Windows, macOS, Ubuntu)\n6. Specialized test jobs (SSL tests, address/thread sanitizers, etc.)\n7. `all-required-green`: Final verification that all required checks have passed\n\n```mermaid\nflowchart LR\n    subgraph \"Initial Context\"\n        Context[\"build-context\"]\n    end\n    \n    subgraph \"Pre-Build Checks\"\n        Docs[\"check-docs\"]\n        Autoconf[\"check-autoconf-regen\"]\n        Generated[\"check-generated-files\"]\n    end\n    \n    subgraph \"Platform Builds\"\n        Windows[\"build-windows\"]\n        WindowsMSI[\"build-windows-msi\"]\n        MacOS[\"build-macos\"]\n        Ubuntu[\"build-ubuntu\"]\n        WASI[\"build-wasi\"]\n    end\n    \n    subgraph \"Specialized Tests\"\n        SSL[\"build-ubuntu-ssltests\"]\n        Hypothesis[\"test-hypothesis\"]\n        ASAN[\"build-asan\"]\n        TSAN[\"build-tsan\"]\n        CrossBuild[\"cross-build-linux\"]\n        CIFuzz[\"cifuzz\"]\n    end\n    \n    Final[\"all-required-green\"]\n    \n    Context --\u003e Docs\n    Context --\u003e Autoconf\n    Context --\u003e Generated\n    Context --\u003e Windows\n    Context --\u003e WindowsMSI\n    Context --\u003e MacOS\n    Context --\u003e Ubuntu\n    Context --\u003e WASI\n    Context --\u003e SSL\n    Context --\u003e Hypothesis\n    Context --\u003e ASAN\n    Context --\u003e TSAN\n    Context --\u003e CrossBuild\n    Context --\u003e CIFuzz\n    \n    Docs --\u003e Final\n    Autoconf --\u003e Final\n    Generated --\u003e Final\n    Windows --\u003e Final\n    WindowsMSI --\u003e Final\n    MacOS --\u003e Final\n    Ubuntu --\u003e Final\n    WASI --\u003e Final\n    SSL --\u003e Final\n    Hypothesis --\u003e Final\n    ASAN --\u003e Final\n    TSAN --\u003e Final\n    CrossBuild --\u003e Final\n    CIFuzz --\u003e Final\n```\n\nThe main build workflow uses a system of conditional execution based on flags set by the `build-context` job, ensuring that only necessary tests run.\n\nSources: [.github/workflows/build.yml:25-672]()\n\n## Platform-Specific Builds\n\n### Windows Builds\n\nWindows builds test CPython on x64, Win32, and ARM64 architectures, with both standard and free-threading modes.\n\n```mermaid\nflowchart TD\n    subgraph \"Windows Build Process\"\n        BuildStep[\"PCbuild/build.bat\\nBuilds CPython\"]\n        TestStep[\"PCbuild/rt.bat\\nRuns tests\"]\n    end\n    \n    subgraph \"Configuration Matrix\"\n        Arch[\"Architecture\\n- x64\\n- Win32\\n- ARM64\"]\n        ThreadMode[\"Threading Mode\\n- Standard\\n- Free-threading\"]\n    end\n    \n    Arch --\u003e BuildStep\n    ThreadMode --\u003e BuildStep\n    BuildStep --\u003e TestStep\n```\n\nThe Windows build process:\n1. Uses the Visual Studio build system via `PCbuild/build.bat`\n2. Builds for specified architecture (x64, Win32, or ARM64)\n3. Optionally enables free-threading mode (GIL disabled)\n4. Runs tests using `PCbuild/rt.bat`\n5. Additionally builds MSI installers for packaging\n\nSources: [.github/workflows/reusable-windows.yml:1-51](), [.github/workflows/build.yml:150-188]()\n\n### macOS Builds\n\nThe macOS pipeline builds and tests CPython on both Intel and Apple Silicon architectures.\n\n```mermaid\nflowchart TD\n    subgraph \"macOS Build Process\"\n        ConfigStep[\"./configure\\nWith macOS options\"]\n        BuildStep[\"make -j8\\nBuilds CPython\"] \n        TestStep[\"make ci\\nRuns tests\"]\n    end\n    \n    subgraph \"Configuration\"\n        OS[\"macOS Version\\n- Sonoma (Cirrus)\\n- macOS 14 (M1)\\n- macOS 13 (Intel)\"]\n        FreeThreading[\"Threading Mode\\n- Standard\\n- Free-threading\"]\n        Deps[\"Install Dependencies\\n(brew)\"]\n    end\n    \n    OS --\u003e Deps\n    Deps --\u003e ConfigStep\n    FreeThreading --\u003e ConfigStep\n    ConfigStep --\u003e BuildStep\n    BuildStep --\u003e TestStep\n```\n\nThe macOS build process:\n1. Uses Homebrew to install dependencies (OpenSSL, Tcl/Tk, etc.)\n2. Configures with macOS-specific settings and deployment target\n3. Builds using `make`\n4. Tests on both Intel (macOS 13) and Apple Silicon (macOS 14) hardware\n5. Checks for compiler warnings on specific platforms\n\nSources: [.github/workflows/reusable-macos.yml:1-82](), [.github/workflows/build.yml:190-222]()\n\n### Ubuntu Builds\n\nUbuntu builds test CPython on x86_64 and ARM64 platforms, with various optimizations.\n\n```mermaid\nflowchart TD\n    subgraph \"Ubuntu Build Process\"\n        OutOfTree[\"Out-of-tree build\\nSeparate source and build dirs\"]\n        ConfigStep[\"./configure\\nWith build options\"]\n        BuildStep[\"make -j\\nBuilds CPython\"]\n        TestStep[\"make ci\\nRuns tests\"]\n    end\n    \n    subgraph \"Configuration Options\"\n        Arch[\"Architecture\\n- x86_64\\n- ARM64\"]\n        Threading[\"Threading Mode\\n- Standard\\n- Free-threading\"]\n        BOLT[\"BOLT Optimizations\\n(LLVM Binary Optimization)\"]\n    end\n    \n    Arch --\u003e OutOfTree\n    Threading --\u003e ConfigStep\n    BOLT --\u003e ConfigStep\n    OutOfTree --\u003e ConfigStep\n    ConfigStep --\u003e BuildStep\n    BuildStep --\u003e TestStep\n```\n\nThe Ubuntu build process:\n1. Uses out-of-tree builds (source and build directories are separate)\n2. Builds with specific configurations (debug, free-threading, BOLT)\n3. Checks for compiler warnings against expected warning lists\n4. Runs tests with xvfb for GUI tests\n5. Builds on both x86_64 and ARM64 architectures\n\nSources: [.github/workflows/reusable-ubuntu.yml:1-127](), [.github/workflows/build.yml:224-255]()\n\n## Specialized Test Configurations\n\n### WebAssembly Build (WASI)\n\nThe WebAssembly System Interface (WASI) build compiles Python to run in WebAssembly environments.\n\n```mermaid\nflowchart TD\n    subgraph \"WASI Build Process\"\n        BuildPython[\"Configure/Build Python\\nfor host system\"]\n        ConfigWASI[\"Configure WASI target\\nwith cross-compilation\"]\n        BuildWASI[\"Build WASI target\\nPython for WebAssembly\"]\n        TestWASI[\"Test WASI build\\nusing wasmtime\"]\n    end\n    \n    subgraph \"Tools\"\n        Wasmtime[\"wasmtime\\nWebAssembly runtime\"]\n        WASISDK[\"WASI SDK\\nWebAssembly toolchain\"]\n    end\n    \n    WASISDK --\u003e ConfigWASI\n    BuildPython --\u003e ConfigWASI\n    ConfigWASI --\u003e BuildWASI\n    BuildWASI --\u003e TestWASI\n    Wasmtime --\u003e TestWASI\n```\n\nThe WASI build process:\n1. Installs the WASI SDK and Wasmtime runtime\n2. Builds a host Python for cross-compilation\n3. Configures and builds the WASI target\n4. Tests the WebAssembly build using Wasmtime\n\nSources: [.github/workflows/reusable-wasi.yml:1-85](), [.github/workflows/build.yml:319-326]()\n\n### Sanitizer Builds\n\nThe CI pipeline includes specialized builds with sanitizers to detect various runtime issues:\n\n#### Address Sanitizer (ASan)\n\n```mermaid\nflowchart TD\n    subgraph \"ASan Process\"\n        ConfigASan[\"Configure with ASan\\n--with-address-sanitizer\"]\n        BuildASan[\"Build with ASan\\nDetects memory errors\"]\n        TestASan[\"Run tests with ASan\\nCaptures memory issues\"]\n    end\n    \n    ConfigASan --\u003e BuildASan\n    BuildASan --\u003e TestASan\n```\n\nThe Address Sanitizer build:\n1. Configures with `--with-address-sanitizer` flag\n2. Builds with memory error detection enabled\n3. Runs tests to catch memory corruption, use-after-free, etc.\n\nSources: [.github/workflows/build.yml:442-505]()\n\n#### Thread Sanitizer (TSan)\n\n```mermaid\nflowchart TD\n    subgraph \"TSan Process\"\n        ConfigTSan[\"Configure with TSan\\n--with-thread-sanitizer\"]\n        BuildTSan[\"Build with TSan\\nDetects threading issues\"]\n        TestTSan[\"Run tests with TSan\\nCaptures race conditions\"]\n    end\n    \n    subgraph \"Configuration\"\n        ThreadMode[\"Threading Mode\\n- Standard\\n- Free-threading\"]\n    end\n    \n    ThreadMode --\u003e ConfigTSan\n    ConfigTSan --\u003e BuildTSan\n    BuildTSan --\u003e TestTSan\n```\n\nThe Thread Sanitizer build:\n1. Configures with `--with-thread-sanitizer` flag\n2. Tests in both standard and free-threading modes\n3. Runs tests to catch data races and thread-related issues\n4. Preserves logs for detailed analysis of found issues\n\nSources: [.github/workflows/reusable-tsan.yml:1-95](), [.github/workflows/build.yml:506-522]()\n\n### JIT Testing\n\nThe JIT (Just-In-Time) compiler receives special attention with dedicated workflows that test on multiple platforms.\n\n```mermaid\nflowchart TD\n    subgraph \"JIT Testing Process\"\n        InterpreterTest[\"Test tier-two interpreter\\nwithout JIT\"]\n        JITTest[\"Test JIT implementation\\nacross platforms\"]\n        FreeThreadTest[\"Test JIT with\\nfree-threading mode\"]\n    end\n    \n    subgraph \"Platform Matrix\"\n        OS[\"Operating Systems\\n- Windows\\n- macOS\\n- Linux\"]\n        Arch[\"Architectures\\n- x86/x64\\n- ARM64\"]\n        Debug[\"Build Types\\n- Debug\\n- Release\"]\n    end\n    \n    InterpreterTest --\u003e JITTest\n    OS --\u003e JITTest\n    Arch --\u003e JITTest\n    Debug --\u003e JITTest\n    JITTest --\u003e FreeThreadTest\n```\n\nThe JIT testing workflow:\n1. First tests the tier-two interpreter functionality\n2. Tests the JIT implementation across platforms and architectures\n3. Tests JIT with free-threading (disabled GIL)\n4. Uses LLVM tools for JIT compilation\n\nSources: [.github/workflows/jit.yml:1-155]()\n\n## Documentation Tests\n\nDocumentation is verified through a specialized workflow that checks format, structure, and examples.\n\n```mermaid\nflowchart TD\n    subgraph \"Documentation Testing\"\n        BuildHTML[\"Build HTML docs\\nwith strict options\"]\n        CheckWarnings[\"Check warnings\\nagainst baseline\"]\n        RunDoctest[\"Run doctest\\nTests examples in docs\"]\n    end\n    \n    BuildHTML --\u003e CheckWarnings\n    BuildHTML --\u003e RunDoctest\n    \n    subgraph \"Validation Options\"\n        Nitpicky[\"--nitpicky\\nStrict reference checks\"]\n        FailWarnings[\"--fail-on-warning\\nTreat warnings as errors\"]\n    end\n    \n    Nitpicky --\u003e BuildHTML\n    FailWarnings --\u003e BuildHTML\n```\n\nThe documentation test process:\n1. Builds HTML documentation with strict options\n2. Checks warnings against baseline (fails on regression or improvement)\n3. Runs doctest to verify examples in documentation work\n4. Ensures documentation is accurate and up-to-date\n\nSources: [.github/workflows/reusable-docs.yml:1-105](), [.github/workflows/build.yml:40-44]()\n\n## Compiler Warning Checks\n\nThe pipeline carefully manages compiler warnings across platforms to prevent regressions.\n\n```mermaid\nflowchart TD\n    subgraph \"Warning Management Process\"\n        CaptureOutput[\"Capture compiler output\\nduring build\"]\n        ParseWarnings[\"Parse warnings\\nby file location\"]\n        CompareBaseline[\"Compare against baseline\\nin .warningignore files\"]\n        ReportResults[\"Report results\\nFail on regression or improvement\"]\n    end\n    \n    CaptureOutput --\u003e ParseWarnings\n    ParseWarnings --\u003e CompareBaseline\n    CompareBaseline --\u003e ReportResults\n    \n    subgraph \"Platform Specific\"\n        MacOSIgnore[\".warningignore_macos\\nExpected macOS warnings\"]\n        UbuntuIgnore[\".warningignore_ubuntu\\nExpected Ubuntu warnings\"]\n    end\n    \n    MacOSIgnore --\u003e CompareBaseline\n    UbuntuIgnore --\u003e CompareBaseline\n```\n\nThe compiler warning system:\n1. Captures compiler output during the build process\n2. Parses warnings using regex patterns specific to the compiler (GCC, Clang)\n3. Compares against baseline in platform-specific `.warningignore` files\n4. Fails the build if there are unexpected warnings or if expected warnings are fixed\n\nSources: [Tools/build/check_warnings.py:1-324](), [Tools/build/.warningignore_macos:1-10](), [Tools/build/.warningignore_ubuntu:1-6](), [.github/workflows/reusable-ubuntu.yml:106-121](), [.github/workflows/reusable-macos.yml:65-79]()\n\n## Final Verification\n\nThe pipeline concludes with a final verification step that ensures all required checks have passed.\n\n```mermaid\nflowchart TD\n    subgraph \"Final Verification Job\"\n        CheckStatus[\"Check jobs status\\nThrough GitHub Actions API\"]\n        DetermineRequired[\"Determine required jobs\\nBased on build context\"]\n        ValidateResults[\"Validate all required\\nchecks passed\"]\n    end\n    \n    CheckStatus --\u003e DetermineRequired\n    DetermineRequired --\u003e ValidateResults\n    \n    subgraph \"Job Categories\"\n        Required[\"Required Jobs\\nMust pass\"]\n        Optional[\"Optional Jobs\\nCan be skipped/fail\"]\n        Skipped[\"Skipped Jobs\\nNot run based on context\"]\n    end\n    \n    Required --\u003e ValidateResults\n    Optional --\u003e ValidateResults\n    Skipped --\u003e ValidateResults\n```\n\nThe final verification:\n1. Determines which jobs are required vs. which can be skipped\n2. Validates that all required jobs have passed\n3. Allows PRs to be merged when all critical checks pass\n4. Provides flexibility to skip or allow failures in certain jobs\n\nSources: [.github/workflows/build.yml:603-672]()\n\n## Workflow Dispatch and Manual Triggers\n\nThe pipeline can be triggered manually through GitHub's workflow dispatch mechanism, which can be useful for:\n\n1. Running the full test suite on demand\n2. Testing changes without creating a pull request\n3. Re-running tests after infrastructure changes\n4. Verifying fixes for intermittent test failures\n\nThis capability provides flexibility for developers and maintainers to validate changes before or after they are committed.\n\nSources: [.github/workflows/build.yml:3-12]()\n\n## Caching and Optimization\n\nThe pipeline uses extensive caching to improve performance:\n\n1. Configuration cache (`config.cache`) to speed up configure steps\n2. ccache for C compilation caching\n3. OpenSSL build caching for SSL tests\n4. WASI SDK caching\n\nThese optimizations significantly reduce build times in CI, especially for incremental changes.\n\nSources: [.github/workflows/reusable-ubuntu.yml:82-86](), [.github/workflows/reusable-macos.yml:39-43](), [.github/workflows/reusable-wasi.yml:33-75]()\n\n## Conclusion\n\nThe CPython CI/CD pipeline represents a comprehensive testing infrastructure that ensures code quality across multiple platforms, architectures, and configurations. It balances thoroughness with efficiency by selectively running tests based on changed files. The pipeline is critical for maintaining CPython's compatibility and stability across diverse environments."])</script><script>self.__next_f.push([1,"2a:T377e,"])</script><script>self.__next_f.push([1,"# Standard Library Highlights\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [Doc/data/stable_abi.dat](Doc/data/stable_abi.dat)\n- [Doc/library/glob.rst](Doc/library/glob.rst)\n- [Doc/library/os.rst](Doc/library/os.rst)\n- [Doc/library/pathlib.rst](Doc/library/pathlib.rst)\n- [Doc/library/shutil.rst](Doc/library/shutil.rst)\n- [Doc/whatsnew/3.13.rst](Doc/whatsnew/3.13.rst)\n- [Doc/whatsnew/3.14.rst](Doc/whatsnew/3.14.rst)\n- [Include/Python.h](Include/Python.h)\n- [Include/object.h](Include/object.h)\n- [Lib/glob.py](Lib/glob.py)\n- [Lib/os.py](Lib/os.py)\n- [Lib/pathlib/__init__.py](Lib/pathlib/__init__.py)\n- [Lib/pathlib/_os.py](Lib/pathlib/_os.py)\n- [Lib/pathlib/types.py](Lib/pathlib/types.py)\n- [Lib/shutil.py](Lib/shutil.py)\n- [Lib/test/support/os_helper.py](Lib/test/support/os_helper.py)\n- [Lib/test/test_glob.py](Lib/test/test_glob.py)\n- [Lib/test/test_os.py](Lib/test/test_os.py)\n- [Lib/test/test_pathlib/test_pathlib.py](Lib/test/test_pathlib/test_pathlib.py)\n- [Lib/test/test_posix.py](Lib/test/test_posix.py)\n- [Lib/test/test_pty.py](Lib/test/test_pty.py)\n- [Lib/test/test_shutil.py](Lib/test/test_shutil.py)\n- [Lib/test/test_stable_abi_ctypes.py](Lib/test/test_stable_abi_ctypes.py)\n- [Misc/stable_abi.toml](Misc/stable_abi.toml)\n- [Modules/clinic/posixmodule.c.h](Modules/clinic/posixmodule.c.h)\n- [Modules/posixmodule.c](Modules/posixmodule.c)\n- [PC/python3dll.c](PC/python3dll.c)\n\n\u003c/details\u003e\n\n\n\nThis document provides an overview of the Python Standard Library's key modules, recent updates, and important functionality. It serves as a guide to significant components in the standard library, focusing on commonly used modules and notable changes from recent Python versions.\n\nFor information about using the C API to extend Python with C code, see [Extension Development and C API](#5). For information about the Python runtime core, see [Runtime Core](#4).\n\n## Standard Library Architecture\n\nThe Python Standard Library is organized into logical categories addressing different programming needs:\n\n```mermaid\ngraph TB\n    subgraph \"File System\"\n        pathlib[\"pathlib.Path - Object paths\"]\n        os[\"os.stat/os.path - OS interfaces\"]\n        glob[\"glob.glob - Pattern matching\"]\n        shutil[\"shutil.copyfile - High-level operations\"]\n    end\n    \n    subgraph \"Data Structures\"\n        collections[\"collections.defaultdict - Container types\"]\n        array[\"array.array - Numeric arrays\"]\n        dataclasses[\"dataclasses.dataclass - Data classes\"]\n        fractions[\"fractions.Fraction - Rational numbers\"]\n    end\n    \n    subgraph \"Networking\"\n        asyncio[\"asyncio.TaskGroup - Async I/O\"]\n        http[\"http.server.HTTPServer - HTTP modules\"]\n        socket[\"socket.socket - Low-level networking\"]\n    end\n    \n    subgraph \"Development\"\n        unittest[\"unittest.TestCase - Unit testing\"]\n        doctest[\"doctest.testmod - Test docstrings\"]\n        typing[\"typing.TypeVar - Type hints\"]\n    end\n```\n\nSources: [Doc/whatsnew/3.13.rst:59-186](), [Doc/library/pathlib.rst:1-32](), [Doc/library/os.rst:1-16](), [Doc/library/shutil.rst:1-21]()\n\n## File System Module Ecosystem\n\nFile system operations are handled by several related modules that offer different levels of abstraction:\n\n```mermaid\ngraph TB\n    subgraph \"Low Level\"\n        os[\"os module\"]\n        os --\u003e os_file[\"os.open()/os.read()\"]\n        os --\u003e os_dir[\"os.mkdir()/os.rmdir()\"]\n        os --\u003e os_path[\"os.path.join()/os.path.split()\"]\n    end\n    \n    subgraph \"Object-Oriented\"\n        pathlib[\"pathlib module\"]\n        pathlib --\u003e Path[\"Path class\"]\n        Path --\u003e path_methods[\"Path.read_text()/Path.write_bytes()\"]\n        Path --\u003e path_props[\"Path.name/Path.suffix\"]\n        Path --\u003e path_ops[\"Path.mkdir()/Path.unlink()\"]\n    end\n    \n    subgraph \"Pattern Matching\"\n        glob[\"glob module\"]\n        glob --\u003e glob_funcs[\"glob()/iglob()\"]\n        glob --\u003e glob_patterns[\"*.py, **/*.txt\"]\n    end\n    \n    subgraph \"High Level Operations\"\n        shutil[\"shutil module\"]\n        shutil --\u003e copy_funcs[\"copy()/copy2()/copyfile()\"]\n        shutil --\u003e dir_funcs[\"copytree()/rmtree()\"]\n        shutil --\u003e archive[\"make_archive()/unpack_archive()\"]\n    end\n    \n    os -.-\u003e pathlib\n    pathlib -.-\u003e glob\n    os -.-\u003e shutil\n```\n\nSources: [Lib/pathlib/__init__.py:1-47](), [Lib/glob.py:1-33](), [Lib/shutil.py:1-67](), [Lib/os.py:1-7]()\n\n### pathlib - Object-oriented filesystem paths\n\nThe `pathlib` module provides an intuitive, object-oriented approach to working with filesystem paths, making path manipulation more readable.\n\nKey classes:\n\n| Class | Purpose | Key Features |\n|-------|---------|--------------|\n| `PurePath` | Base class for pure path manipulation | Path joining, name/suffix access |\n| `Path` | Concrete path with I/O operations | File reading/writing, existence checks |\n| `PurePosixPath` | Pure path with POSIX semantics | POSIX-specific path handling |\n| `PureWindowsPath` | Pure path with Windows semantics | Windows-specific path handling |\n\nExample pattern:\n```python\n# Instead of:\nimport os\nfile_path = os.path.join(os.path.dirname(__file__), 'data', 'config.json')\nif os.path.exists(file_path):\n    with open(file_path, 'r') as f:\n        content = f.read()\n\n# Use:\nfrom pathlib import Path\nfile_path = Path(__file__).parent / 'data' / 'config.json'\nif file_path.exists():\n    content = file_path.read_text()\n```\n\nSources: [Doc/library/pathlib.rst:108-306](), [Lib/pathlib/__init__.py:78-163](), [Lib/test/test_pathlib/test_pathlib.py:87-116]()\n\n### os and os.path - Operating system interfaces\n\nThe `os` module provides a portable interface to operating system functionality, including file operations, process management, and environment variables.\n\nKey functionality:\n- File descriptor operations (`open()`, `read()`, `write()`)\n- Directory operations (`mkdir()`, `rmdir()`, `listdir()`)\n- Process management (`fork()`, `exec*()`, `system()`)\n- Path manipulation via `os.path` submodule\n\nThe `os` module is the foundation for many higher-level modules like `pathlib` and `shutil`.\n\nSources: [Doc/library/os.rst:17-78](), [Modules/posixmodule.c:593-615](), [Lib/test/test_os.py:1-110]()\n\n### glob - Filename pattern matching\n\nThe `glob` module finds pathnames matching specified patterns using shell-style wildcards:\n\n```python\nimport glob\n\n# Find all Python files in current directory\npython_files = glob.glob('*.py')\n\n# Recursively find all Python files\nall_python_files = glob.glob('**/*.py', recursive=True)\n\n# Find files with specific pattern, including hidden files\nconfig_files = glob.glob('.config*', include_hidden=True)\n```\n\nRecent improvements include better handling of hidden files and enhanced recursive pattern matching.\n\nSources: [Lib/glob.py:16-54](), [Doc/library/pathlib.rst:521-585](), [Lib/test/test_glob.py:14-26]()\n\n### shutil - High-level file operations\n\nThe `shutil` module provides higher-level file operations building upon the `os` module:\n\n| Function | Purpose |\n|----------|---------|\n| `copyfile()` | Copy content of one file to another |\n| `copy()` | Copy file with permission bits |\n| `copy2()` | Copy file with all metadata |\n| `copytree()` | Recursively copy directory tree |\n| `rmtree()` | Recursively delete directory tree |\n| `make_archive()` | Create an archive (zip, tar, etc.) |\n\nThe module also provides disk usage information and file finding utilities.\n\nSources: [Lib/shutil.py:58-77](), [Doc/library/shutil.rst:23-38](), [Lib/test/test_shutil.py:18-79]()\n\n## Recent Additions and Updates\n\n### Python 3.13 Additions\n\nPython 3.13 introduced several significant standard library improvements:\n\n- **New modules**:\n  - `dbm.sqlite3`: A new SQLite backend for the dbm module, now the default\n  \n- **Significant enhancements**:\n  - `base64`: Added `z85encode()` and `z85decode()` functions for Z85 data encoding\n  - `copy`: Added `copy.replace()` function for creating modified copies of objects\n  - `argparse`: Added support for deprecating command-line options\n  - `os`: Added functions for working with Linux timer notification file descriptors\n  - `fractions`: Added formatting enhancements for `Fraction` objects\n  - `asyncio`: Enhanced `TaskGroup` behavior and added queue shutdown capabilities\n\n- **Removed modules** (PEP 594):\n  - Legacy modules: `aifc`, `audioop`, `cgi`, `cgitb`, `chunk`, `crypt`, `imghdr`, and others\n  - The `2to3` tool and `lib2to3` module\n  - `tkinter.tix` module (deprecated since Python 3.6)\n\nSources: [Doc/whatsnew/3.13.rst:127-193](), [Doc/whatsnew/3.13.rst:682-796](), [Doc/whatsnew/3.13.rst:180-193]()\n\n### Python 3.14 Additions\n\nPython 3.14 adds:\n\n- **New modules**:\n  - `annotationlib`: For introspecting annotations (PEP 649)\n\n- **Significant enhancements**:\n  - PEP 649: Deferred evaluation of annotations\n  - PEP 741: Python Configuration C API\n  - PEP 768: Safe external debugger interface\n  - `concurrent.futures`: Added `InterpreterPoolExecutor`\n  - `ctypes`: Improved bit fields support and complex type handling\n  - `datetime`: Added `time.strptime()` and `date.strptime()` methods\n\n- **Changed behaviors**:\n  - The default start method for `multiprocessing` changed from *fork* to *forkserver* on platforms other than macOS and Windows\n\nSources: [Doc/whatsnew/3.14.rst:58-117](), [Doc/whatsnew/3.14.rst:179-201](), [Doc/whatsnew/3.14.rst:487-526]()\n\n## Networking and Concurrency\n\nThe standard library's networking and concurrency capabilities continue to evolve:\n\n```mermaid\ngraph TB\n    subgraph \"asyncio\"\n        asyncio[\"asyncio module\"]\n        asyncio --\u003e event_loop[\"asyncio.get_event_loop()\"]\n        asyncio --\u003e task[\"asyncio.create_task()\"]\n        asyncio --\u003e taskgroup[\"asyncio.TaskGroup - Context manager\"]\n        asyncio --\u003e future[\"asyncio.Future - Deferred result\"]\n        asyncio --\u003e queue[\"asyncio.Queue - Async communication\"]\n        \n        taskgroup --\u003e enter[\"__aenter__() - Start group\"]\n        taskgroup --\u003e exit[\"__aexit__() - Wait for tasks\"]\n        taskgroup --\u003e create_task[\"create_task() - Add to group\"]\n        \n        task --\u003e gather[\"asyncio.gather() - Collect results\"]\n        task --\u003e wait[\"asyncio.wait() - Wait for completion\"]\n        task --\u003e shield[\"asyncio.shield() - Protect from cancellation\"]\n        \n        queue --\u003e put[\"await queue.put() - Add item\"]\n        queue --\u003e get[\"await queue.get() - Retrieve item\"] \n        queue --\u003e shutdown[\"queue.shutdown() - Terminate (3.13+)\"]\n    end\n    \n    subgraph \"HTTP\"\n        http[\"http module\"]\n        http --\u003e client[\"http.client - Client protocol\"]\n        http --\u003e server[\"http.server - Server implementation\"]\n        server --\u003e simple[\"SimpleHTTPRequestHandler - Serve files\"]\n        server --\u003e https[\"HTTPSServer - Secure server (3.14+)\"]\n    end\n```\n\n### asyncio - Asynchronous I/O\n\nKey recent improvements:\n- Enhanced `TaskGroup` behavior with nested cancellations (Python 3.13)\n- Added `Queue.shutdown()` and `QueueShutDown` exception (Python 3.13)\n- `as_completed()` now returns original task objects (Python 3.13)\n- Improved concurrent exception handling\n\nSources: [Doc/whatsnew/3.13.rst:672-731](), [Doc/whatsnew/3.14.rst:547-579]()\n\n### http - HTTP protocol implementation\n\nRecent improvements:\n- `http.server` now supports serving over HTTPS using `HTTPSServer` (Python 3.14)\n- Directory listings generated by `http.server` now support dark mode (Python 3.14)\n- Added command-line interface options for TLS configuration\n\nSources: [Doc/whatsnew/3.14.rst:748-764]()\n\n## Standard Library in Action\n\n### Common Patterns and Best Practices\n\nFile handling comparison:\n\n| Task | Traditional Approach | Modern Approach |\n|------|----------------------|----------------|\n| Reading text file | `open('file.txt').read()` | `Path('file.txt').read_text()` |\n| Writing text file | `open('file.txt', 'w').write(data)` | `Path('file.txt').write_text(data)` |\n| File existence check | `os.path.exists('file.txt')` | `Path('file.txt').exists()` |\n| Directory creation | `os.makedirs('dir/subdir', exist_ok=True)` | `Path('dir/subdir').mkdir(parents=True, exist_ok=True)` |\n| Listing files | `os.listdir('directory')` | `list(Path('directory').iterdir())` |\n| Finding files by pattern | `glob.glob('dir/*.txt')` | `list(Path('dir').glob('*.txt'))` |\n\n### Standard Library Stability and Compatibility\n\nThe Python standard library follows these principles:\n1. **Backward Compatibility**: Maintaining compatibility when possible\n2. **Deprecation Cycle**: Features undergo a deprecation period before removal\n3. **Platform Support**: Expanding support for platforms like iOS and Android (both added as tier 3 supported platforms in Python 3.13)\n\nSources: [Doc/whatsnew/3.13.rst:472-488](), [Misc/stable_abi.toml:1-56](), [Doc/data/stable_abi.dat:1-30]()\n\n## Specialized Functionality\n\n### Type Annotations and Hints\n\nPython 3.13 and 3.14 include several improvements to the typing system:\n- Type parameters now support defaults (PEP 696, Python 3.13)\n- `typing.ReadOnly` can mark items in a `TypedDict` as read-only (PEP 705, Python 3.13)\n- `typing.TypeIs` provides improved type narrowing (PEP 742, Python 3.13)\n- Deferred evaluation of annotations (PEP 649, Python 3.14)\n\nSources: [Doc/whatsnew/3.13.rst:160-170](), [Doc/whatsnew/3.14.rst:179-201]()\n\n### Performance Optimizations\n\nRecent Python versions include several standard library optimizations:\n- Improved performance for file copying operations in `shutil`\n- Enhanced performance for `pathlib` path manipulations\n- More efficient handling of regular expressions in `re` module\n\nSources: [Lib/shutil.py:90-157](), [Include/object.h:58-100]()\n\n## Conclusion\n\nThe Python Standard Library continues to evolve, adding new functionality while maintaining stability and backward compatibility where possible. The focus on both modern approaches (like object-oriented path handling) and traditional interfaces ensures that Python remains versatile and accessible to all developers.\n\nFor each Python release, the standard library incorporates feedback from the community and adapts to emerging needs and best practices, making it a vital resource for Python programmers of all experience levels.\n\nSources: [PC/python3dll.c:1-40](), [Doc/whatsnew/3.13.rst:48-91]()"])</script><script>self.__next_f.push([1,"2b:T3842,"])</script><script>self.__next_f.push([1,"# Pathlib and Glob\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [Doc/library/glob.rst](Doc/library/glob.rst)\n- [Doc/library/pathlib.rst](Doc/library/pathlib.rst)\n- [Doc/whatsnew/3.14.rst](Doc/whatsnew/3.14.rst)\n- [Lib/glob.py](Lib/glob.py)\n- [Lib/pathlib/__init__.py](Lib/pathlib/__init__.py)\n- [Lib/pathlib/_os.py](Lib/pathlib/_os.py)\n- [Lib/pathlib/types.py](Lib/pathlib/types.py)\n- [Lib/test/test_glob.py](Lib/test/test_glob.py)\n- [Lib/test/test_pathlib/test_pathlib.py](Lib/test/test_pathlib/test_pathlib.py)\n\n\u003c/details\u003e\n\n\n\nThis document explains the Pathlib module and Glob functionality in CPython, their implementation, and how they interact. Pathlib provides an object-oriented approach to filesystem paths, while Glob offers pattern matching for filesystem paths using Unix shell-style wildcards. For information about general OS filesystem access see [OS and File System Access](#7.2).\n\n## Pathlib Module Overview\n\nPathlib is an object-oriented filesystem path manipulation library that provides classes for representing filesystem paths with semantics appropriate for different operating systems. It was introduced in Python 3.4 through [PEP 428](https://peps.python.org/pep-0428/).\n\nThe module divides path classes into two categories:\n\n1. **Pure paths**: Provide purely computational operations without actual I/O\n2. **Concrete paths**: Inherit from pure paths and also provide I/O operations\n\n```mermaid\nclassDiagram\n    class PurePath {\n        +drive\n        +root\n        +anchor\n        +parents\n        +name\n        +suffix\n        +stem\n        +with_name()\n        +with_suffix()\n        +match()\n    }\n    \n    class PurePosixPath {\n        +parser = posixpath\n    }\n    \n    class PureWindowsPath {\n        +parser = ntpath\n    }\n    \n    class Path {\n        +exists()\n        +is_dir()\n        +is_file()\n        +open()\n        +read_text()\n        +write_text()\n        +glob()\n        +iterdir()\n    }\n    \n    class PosixPath {\n    }\n    \n    class WindowsPath {\n    }\n    \n    PurePath \u003c|-- PurePosixPath\n    PurePath \u003c|-- PureWindowsPath\n    PurePath \u003c|-- Path\n    PurePosixPath \u003c|-- PosixPath\n    PureWindowsPath \u003c|-- WindowsPath\n    Path \u003c|-- PosixPath\n    Path \u003c|-- WindowsPath\n```\n\nSources: [Lib/pathlib/__init__.py:78-556](Lib/pathlib/__init__.py:78-556), [Doc/library/pathlib.rst:11-41](Doc/library/pathlib.rst:11-41)\n\n### Pure Path Classes\n\nPure path objects provide path-handling operations without accessing a filesystem. They're useful when you want to manipulate Windows paths on a Unix machine (or vice versa), or ensure that your code doesn't actually access the OS.\n\n```mermaid\nflowchart LR\n    Input[\"Path Input\\n(strings, other paths)\"] --\u003e Parse[\"Parse Path\\n_parse_path()\"]\n    Parse --\u003e Components[\"Path Components\\n(drive, root, tail)\"]\n    Components --\u003e Operations[\"Pure Path Operations\\n- joining\\n- name/suffix extraction\\n- pattern matching\"]\n    \n    subgraph \"Platform Detection\"\n        dir1[\"PurePosixPath\\nparser = posixpath\"]\n        dir2[\"PureWindowsPath\\nparser = ntpath\"]\n        generic[\"PurePath\\n(selects appropriate\\nimplementation based on\\ncurrent platform)\"]\n    end\n```\n\nSources: [Lib/pathlib/__init__.py:78-183](Lib/pathlib/__init__.py:78-183), [Doc/library/pathlib.rst:107-199](Doc/library/pathlib.rst:107-199)\n\n### Concrete Path Classes\n\nConcrete path classes inherit from pure path classes and add methods for I/O operations, which interact with the actual filesystem.\n\n```mermaid\nflowchart LR\n    subgraph \"Pure Path Operations\"\n        pp1[\"Path Construction\"]\n        pp2[\"Path Manipulation\"]\n        pp3[\"Path Properties\"]\n    end\n    \n    subgraph \"Concrete Path Operations\"\n        cp1[\"Filesystem Queries\\nexists(), is_dir(), etc.\"]\n        cp2[\"File I/O\\nopen(), read_text(), etc.\"]\n        cp3[\"Directory Operations\\niterdir(), glob(), etc.\"]\n        cp4[\"Filesystem Operations\\nmkdir(), symlink_to(), etc.\"]\n    end\n    \n    pp1 --\u003e cp1\n    pp2 --\u003e cp2\n    pp3 --\u003e cp3\n    pp1 --\u003e cp4\n```\n\nSources: [Lib/pathlib/__init__.py:768-3114](Lib/pathlib/__init__.py:768-3114), [Doc/library/pathlib.rst:760-802](Doc/library/pathlib.rst:760-802)\n\n## Glob Module Overview\n\nThe Glob module finds all pathnames matching a specified pattern according to Unix shell-style rules. It does not perform tilde expansion, but handles wildcards like `*`, `?`, and character ranges expressed with `[]`.\n\n```mermaid\nflowchart TB\n    Pattern[\"Pattern Input\\n(e.g., '*.py', '**/*.txt')\"] --\u003e Parse[\"Parse Pattern\\nsplit into parts\"]\n    Parse --\u003e Match[\"Match Pattern\\nagainst filesystem entries\"]\n    Match --\u003e Results[\"Matched Paths\\n(returned as list or iterator)\"]\n    \n    subgraph \"Pattern Components\"\n        pc1[\"* - match any characters\\nexcept path separators\"]\n        pc2[\"? - match single character\"]\n        pc3[\"[abc] - match any character\\nin brackets\"]\n        pc4[\"** - recursive wildcard\\n(with recursive=True)\"]\n    end\n    \n    subgraph \"Functions\"\n        func1[\"glob() - return list of matches\"]\n        func2[\"iglob() - return iterator of matches\"]\n        func3[\"escape() - escape special characters\"]\n        func4[\"translate() - convert pattern to regex\"]\n    end\n```\n\nSources: [Lib/glob.py:18-194](Lib/glob.py:18-194), [Doc/library/glob.rst:21-37](Doc/library/glob.rst:21-37)\n\n## Integration Between Pathlib and Glob\n\nPathlib integrates glob-style pattern matching through several methods:\n\n```mermaid\nflowchart TD\n    subgraph \"Pathlib Module\"\n        pm1[\"Path.glob(pattern)\"]\n        pm2[\"Path.rglob(pattern)\"]\n        pm3[\"PurePath.match(pattern)\"]\n        pm4[\"PurePath.full_match(pattern)\"]\n    end\n    \n    subgraph \"Glob Module\"\n        gm1[\"_glob1() / _glob2()\"]\n        gm2[\"has_magic()\"]\n        gm3[\"_isrecursive()\"]\n        gm4[\"translate()\"]\n    end\n    \n    subgraph \"Common Implementation\"\n        ci1[\"fnmatch.filter()\"]\n        ci2[\"os.scandir()\"]\n        ci3[\"Regular Expression\\npattern matching\"]\n    end\n    \n    pm1 --\u003e ci1\n    pm1 --\u003e ci2\n    pm2 --\u003e pm1\n    pm3 --\u003e ci3\n    pm4 --\u003e ci3\n    \n    gm1 --\u003e ci1\n    gm1 --\u003e ci2\n    gm2 --\u003e ci3\n    gm4 --\u003e ci3\n```\n\nThe integration uses common pattern matching semantics but with some important differences:\n\n1. **Pathlib's pattern matching**:\n   - Performed on path parts relative to the path\n   - Path-aware matching that understands path structures\n   - `match()` method matches against filename only\n   - `full_match()` method matches against full path\n\n2. **Glob module**:\n   - Works directly with filesystem paths\n   - Returns absolute paths or paths relative to current directory\n   - Doesn't match hidden files (dot files) by default\n\nSources: [Lib/pathlib/types.py:277-291](Lib/pathlib/types.py:277-291), [Lib/glob.py:30-99](Lib/glob.py:30-99)\n\n## Pattern Matching Rules\n\nBoth Pathlib and Glob use similar pattern matching syntax with the following special characters:\n\n| Pattern | Meaning |\n|---------|---------|\n| `*` | Matches 0 or more characters except path separators |\n| `?` | Matches exactly one character except path separator |\n| `[...]` | Matches any character in the brackets |\n| `[!...]` | Matches any character not in the brackets |\n| `**` | (When recursive=True) Matches directories recursively |\n\nHowever, there are important differences in behavior:\n\n1. **Hidden files**:\n   - Glob: Files starting with `.` are only matched by patterns also starting with `.`\n   - Pathlib: By default, `*` patterns match files starting with `.`\n\n2. **Recursion**:\n   - Glob: Requires `recursive=True` for `**` to work\n   - Pathlib: `rglob()` is equivalent to `glob('**/')` with recursion enabled\n\n3. **Path Handling**:\n   - Glob: Works with string paths\n   - Pathlib: Works with Path objects, returning Path objects\n\nSources: [Lib/glob.py:226-319](Lib/glob.py:226-319), [Doc/library/glob.rst:21-37](Doc/library/glob.rst:21-37), [Doc/library/pathlib.rst:574-624](Doc/library/pathlib.rst:574-624)\n\n## Implementation Details\n\n### Pathlib Implementation\n\nPathlib is implemented as a package with several modules:\n\n1. **`__init__.py`**: Contains the main classes and functionality\n2. **`_os.py`**: Low-level OS functionality wrappers\n3. **`types.py`**: Protocols and abstract base classes\n\nThe core structure uses a class hierarchy with platform-specific path parsers:\n\n```mermaid\nflowchart TD\n    subgraph \"Core Classes\"\n        cc1[\"PurePath\\n(abstract base class)\"]\n        cc2[\"Path\\n(concrete implementation)\"]\n    end\n    \n    subgraph \"Platform Implementations\"\n        pi1[\"PurePosixPath\"]\n        pi2[\"PureWindowsPath\"]\n        pi3[\"PosixPath\"]\n        pi4[\"WindowsPath\"]\n    end\n    \n    subgraph \"Path Parsers\"\n        pp1[\"posixpath\\n(Unix-like systems)\"]\n        pp2[\"ntpath\\n(Windows systems)\"]\n    end\n    \n    cc1 --\u003e pi1\n    cc1 --\u003e pi2\n    cc2 --\u003e pi3\n    cc2 --\u003e pi4\n    \n    pi1 --\u003e pp1\n    pi2 --\u003e pp2\n    pi3 --\u003e pi1\n    pi4 --\u003e pi2\n    \n    subgraph \"Helper Components\"\n        hc1[\"_PathParents\\n(sequence for parent paths)\"]\n        hc2[\"PathInfo\\n(file status information)\"]\n        hc3[\"DirEntryInfo\\n(directory entry status)\"]\n    end\n```\n\nKey implementation aspects:\n\n1. **Path Parsing**: Paths are parsed into components (drive, root, parts) for manipulation\n2. **Lazy Computation**: Many properties are computed on demand and cached\n3. **OS Integration**: Uses appropriate OS modules for filesystem operations\n\nSources: [Lib/pathlib/__init__.py:77-134](Lib/pathlib/__init__.py:77-134), [Lib/pathlib/_os.py:9-21](Lib/pathlib/_os.py:9-21)\n\n### Glob Implementation\n\nGlob is implemented as a single module with recursive pattern matching functionality:\n\n```mermaid\nflowchart TD\n    subgraph \"Entry Points\"\n        ep1[\"glob()\"]\n        ep2[\"iglob()\"]\n    end\n    \n    subgraph \"Internal Functions\"\n        if1[\"_iglob()\"]\n        if2[\"_glob1()\\n(match in one directory)\"]\n        if3[\"_glob0()\\n(match literal name)\"]\n        if4[\"_glob2()\\n(recursive matching)\"]\n        if5[\"_rlistdir()\\n(recursive directory listing)\"]\n    end\n    \n    subgraph \"Helper Functions\"\n        hf1[\"_isdir()\"]\n        hf2[\"_lexists()\"]\n        hf3[\"_listdir()\"]\n        hf4[\"has_magic()\"]\n        hf5[\"_ishidden()\"]\n        hf6[\"_isrecursive()\"]\n    end\n    \n    ep1 --\u003e if1\n    ep2 --\u003e if1\n    if1 --\u003e if2\n    if1 --\u003e if3\n    if1 --\u003e if4\n    if4 --\u003e if5\n    \n    if2 --\u003e hf3\n    if2 --\u003e hf5\n    if3 --\u003e hf1\n    if3 --\u003e hf2\n    if1 --\u003e hf4\n    if4 --\u003e hf1\n    if5 --\u003e hf3\n    if5 --\u003e hf5\n```\n\nKey implementation aspects:\n\n1. **Pattern Recognition**: Uses regular expressions to identify special pattern characters\n2. **Directory Traversal**: Uses `os.scandir()` for efficient directory iteration\n3. **Filtering**: Uses `fnmatch.filter()` to match filenames against patterns\n4. **Recursion**: Special handling for the `**` pattern with `recursive=True`\n\nSources: [Lib/glob.py:104-248](Lib/glob.py:104-248)\n\n## Usage Examples\n\n### Basic Path Operations\n\n```python\n# Creating paths\nfrom pathlib import Path\np = Path('/home/user/documents')\nq = Path('relative/path')\n\n# Path properties\np.name       # 'documents'\np.parent     # Path('/home/user')\np.suffix     # ''\np.exists()   # True if path exists\n\n# Path manipulation\np / 'file.txt'           # Path('/home/user/documents/file.txt')\np.with_name('pictures')  # Path('/home/user/pictures')\np.with_suffix('.bak')    # Path('/home/user/documents.bak')\n```\n\n### Globbing with Pathlib\n\n```python\n# Find all Python files in current directory\nPath('.').glob('*.py')\n\n# Find all Python files recursively\nPath('.').glob('**/*.py')\n\n# Iterate over all files in a directory\nfor file in Path('src').iterdir():\n    print(file)\n\n# Check if file matches a pattern\nPath('file.txt').match('*.txt')  # True\n```\n\n### Using Glob Module\n\n```python\nimport glob\n\n# Find all Python files in current directory\nglob.glob('*.py')\n\n# Find all Python files recursively\nglob.glob('**/*.py', recursive=True)\n\n# Find files with specific patterns\nglob.glob('data[0-9].txt')     # data0.txt, data1.txt, etc.\nglob.glob('file?.log')         # file1.log, fileA.log, etc.\n\n# Escape special characters in patterns\npattern = glob.escape('file[special].txt')  # 'file[[]special].txt'\n```\n\n## Comparison Between Pathlib and Direct Glob\n\n| Feature | Pathlib | Glob Module |\n|---------|---------|-------------|\n| **Return Type** | Path objects | Strings |\n| **Interface** | Object-oriented | Function-based |\n| **Hidden Files** | `*` matches dot files | Only matches dot files with explicit `.` pattern |\n| **Recursion** | `rglob()` or `glob('**/')` | `glob('**/', recursive=True)` |\n| **Path Construction** | Chainable (p / 'subdir' / 'file.txt') | Requires string joining |\n| **Relative Paths** | Relative to Path object | Relative to current directory (or specified root) |\n| **File Operations** | Integrated (p.read_text(), p.write_bytes()) | Separate (requires open() with path string) |\n\nSources: [Doc/library/pathlib.rst:55-92](Doc/library/pathlib.rst:55-92), [Doc/library/glob.rst:164-193](Doc/library/glob.rst:164-193)\n\n## Future Developments and Recent Changes\n\nRecent and upcoming changes to Pathlib and Glob:\n\n1. **Python 3.13/3.14 Enhancements**:\n   - The behavior for `suffix` and `suffixes` has been modified to consider a single dot (`.`) as a valid suffix \n   - Deprecated `is_reserved()` method in favor of `os.path.isreserved()`\n   - Improved documentation and implementation details\n\n2. **Integration Improvements**:\n   - Better integration between Pathlib and Glob functionality\n   - Performance improvements in directory traversal\n   - More consistent handling of path traversal edge cases\n\nSources: [Doc/whatsnew/3.14.rst:1-473](Doc/whatsnew/3.14.rst:1-473), [Doc/library/pathlib.rst:733-734](Doc/library/pathlib.rst:733-734)\n\n## Conclusion\n\nThe Pathlib and Glob modules provide complementary functionality for filesystem path manipulation and pattern matching in Python. Pathlib offers an object-oriented approach with rich path manipulation features, while Glob provides Unix shell-style wildcard pattern matching. Together, they offer powerful tools for file system traversal, file matching, and path manipulation.\n\nFor most modern Python applications, Pathlib's object-oriented interface is recommended as it provides better composability, platform independence, and integration with other Python features. The Glob module remains useful for simpler scripts or when working with legacy code that expects string paths."])</script><script>self.__next_f.push([1,"2c:T305b,"])</script><script>self.__next_f.push([1,"# OS and File System Access\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [Doc/library/os.rst](Doc/library/os.rst)\n- [Doc/library/shutil.rst](Doc/library/shutil.rst)\n- [Lib/os.py](Lib/os.py)\n- [Lib/shutil.py](Lib/shutil.py)\n- [Lib/test/support/os_helper.py](Lib/test/support/os_helper.py)\n- [Lib/test/test_os.py](Lib/test/test_os.py)\n- [Lib/test/test_posix.py](Lib/test/test_posix.py)\n- [Lib/test/test_pty.py](Lib/test/test_pty.py)\n- [Lib/test/test_shutil.py](Lib/test/test_shutil.py)\n- [Modules/clinic/posixmodule.c.h](Modules/clinic/posixmodule.c.h)\n- [Modules/posixmodule.c](Modules/posixmodule.c)\n\n\u003c/details\u003e\n\n\n\nThe `os` module provides a portable way to use operating system dependent functionality across different platforms. It abstracts away differences between operating systems, allowing Python code to work consistently on Windows, Unix-like systems, and other platforms. This document explains how Python interfaces with the operating system, particularly for file system access, process management, and environment variables.\n\nFor information about higher-level path manipulation, see [Pathlib and Glob](#7.1).\n\n## Architecture of the os Module\n\nPython's `os` module achieves platform independence through a dynamic module loading architecture. When imported, it detects the platform and loads either the `posix` module (for Unix-like systems) or the `nt` module (for Windows).\n\n```mermaid\ngraph TD\n    A[\"Python Application\"] --\u003e B[\"import os\"]\n    B --\u003e C{\"Platform Detection\"}\n    C --\u003e|\"Unix-like\"| D[\"import posix\"]\n    C --\u003e|\"Windows\"| E[\"import nt\"]\n    D --\u003e F[\"posix.* functions\"]\n    E --\u003e G[\"nt.* functions\"]\n    F --\u003e H[\"Unified os.* API\"]\n    G --\u003e H\n    H --\u003e I[\"User Code\"]\n```\n\nThe architecture is implemented in `os.py` where the module detects the platform and imports the appropriate module:\n\n```python\n# Simplified version of platform detection in os.py\nif 'posix' in _names:\n    name = 'posix'\n    from posix import *\nelif 'nt' in _names:\n    name = 'nt'\n    from nt import *\n```\n\nThe actual implementation of platform-specific modules is in C:\n- `posixmodule.c` for Unix-like systems\n- `nt.c` for Windows\n\nSources: [Lib/os.py:52-74](), [Modules/posixmodule.c:1-39]()\n\n## File System Operations\n\n### File Operations\n\nThe `os` module provides both high-level and low-level file operations:\n\n#### Low-Level File Operations\n\n| Function | Description |\n|----------|-------------|\n| `os.open(path, flags[, mode])` | Open file path with specified flags |\n| `os.read(fd, n)` | Read at most n bytes from file descriptor fd |\n| `os.write(fd, str)` | Write bytes to file descriptor fd |\n| `os.close(fd)` | Close file descriptor |\n| `os.lseek(fd, pos, how)` | Set file descriptor position |\n| `os.fsync(fd)` | Force write of file to disk |\n| `os.fdopen(fd[, mode])` | Create file object from file descriptor |\n\nExample:\n```python\nfd = os.open('file.txt', os.O_RDONLY)\ntry:\n    data = os.read(fd, 1024)\nfinally:\n    os.close(fd)\n```\n\nSources: [Modules/posixmodule.c:222-256](), [Lib/test/test_os.py:223-262]()\n\n### File Metadata\n\nFile metadata operations allow you to get and set file attributes:\n\n| Function | Description |\n|----------|-------------|\n| `os.stat(path)` | Get file status (size, permissions, times) |\n| `os.lstat(path)` | Like stat(), but doesn't follow symlinks |\n| `os.chmod(path, mode)` | Change file permissions |\n| `os.chown(path, uid, gid)` | Change file owner and group |\n| `os.access(path, mode)` | Test file accessibility |\n| `os.utime(path, times)` | Set file access/modification times |\n\nThe `stat()` function returns a rich object with file information:\n\n```mermaid\ngraph LR\n    A[\"os.stat('file.txt')\"] --\u003e B[\"stat_result Object\"]\n    B --\u003e C[\"st_mode (permissions)\"]\n    B --\u003e D[\"st_size (file size)\"]\n    B --\u003e E[\"st_mtime (modified time)\"]\n    B --\u003e F[\"st_atime (access time)\"]\n    B --\u003e G[\"st_ctime (status change time)\"]\n    B --\u003e H[\"st_uid (owner ID)\"]\n    B --\u003e I[\"st_gid (group ID)\"]\n    B --\u003e J[\"st_ino (inode number)\"]\n    B --\u003e K[\"st_dev (device)\"]\n    B --\u003e L[\"st_nlink (hard link count)\"]\n```\n\nSources: [Modules/clinic/posixmodule.c.h:13-36](), [Lib/test/test_os.py:638-704]()\n\n### Directory Operations\n\nDirectory operations include creating, removing, and listing directories:\n\n| Function | Description |\n|----------|-------------|\n| `os.mkdir(path[, mode])` | Create a directory |\n| `os.makedirs(path[, mode])` | Create directories recursively |\n| `os.rmdir(path)` | Remove empty directory |\n| `os.removedirs(path)` | Remove directory trees |\n| `os.listdir(path)` | List directory contents |\n| `os.scandir(path)` | Iterator of directory entries |\n| `os.chdir(path)` | Change current working directory |\n| `os.getcwd()` | Get current working directory |\n\nExamples:\n```python\n# Create nested directories\nos.makedirs('path/to/new/directory', exist_ok=True)\n\n# List files in a directory\nfiles = os.listdir('.')\n```\n\nSources: [Lib/os.py:210-241](), [Modules/clinic/posixmodule.c.h:375-417]()\n\n### Walking Directory Trees\n\nThe `os.walk()` function provides a powerful way to traverse directory hierarchies:\n\n```python\nfor root, dirs, files in os.walk('/path/to/directory'):\n    for file in files:\n        print(os.path.join(root, file))\n```\n\n`os.walk()` yields 3-tuples containing the directory path, a list of subdirectories, and a list of files. This allows you to process entire directory structures efficiently.\n\nSources: [Lib/os.py:296-338]()\n\n## Path Manipulation\n\nThe `os.path` module provides functions for manipulating file paths in a platform-independent manner:\n\n| Function | Description |\n|----------|-------------|\n| `os.path.join(path, *paths)` | Join path components intelligently |\n| `os.path.split(path)` | Split a path into (head, tail) |\n| `os.path.basename(path)` | Base name component of path |\n| `os.path.dirname(path)` | Directory name component of path |\n| `os.path.normpath(path)` | Normalize a pathname |\n| `os.path.abspath(path)` | Return absolute path |\n| `os.path.exists(path)` | Check if path exists |\n| `os.path.isfile(path)` | Check if path is a file |\n| `os.path.isdir(path)` | Check if path is a directory |\n\nPath manipulation functions relationship:\n\n```mermaid\ngraph TD\n    A[\"Path String\"] --\u003e B[\"os.path.split\"]\n    B --\u003e C[\"Directory Path\"]\n    B --\u003e D[\"File Name\"]\n    A --\u003e E[\"os.path.dirname\"]\n    E --\u003e C\n    A --\u003e F[\"os.path.basename\"]\n    F --\u003e D\n    G[\"Path Components\"] --\u003e H[\"os.path.join\"]\n    H --\u003e A\n    A --\u003e I[\"os.path.normpath\"]\n    I --\u003e J[\"Normalized Path\"]\n    A --\u003e K[\"os.path.abspath\"]\n    K --\u003e L[\"Absolute Path\"]\n    A --\u003e M[\"os.path.isabs\"]\n    M --\u003e N{\"Is Absolute?\"}\n    N --\u003e |\"Yes\"| O[\"True\"]\n    N --\u003e |\"No\"| P[\"False\"]\n```\n\nSources: [Lib/os.py:104-105]()\n\n## Process Management\n\nThe `os` module provides functions for process management:\n\n| Function | Description |\n|----------|-------------|\n| `os.getpid()` | Get current process ID |\n| `os.getppid()` | Get parent process ID |\n| `os.system(command)` | Execute shell command |\n| `os.fork()` | Fork a child process |\n| `os.execv(path, args)` | Execute a new program |\n| `os.waitpid(pid, options)` | Wait for a child process |\n| `os.kill(pid, sig)` | Send a signal to a process |\n\nProcess creation flow:\n\n```mermaid\ngraph TD\n    A[\"Parent Process\"] --\u003e B[\"os.fork()\"]\n    B --\u003e C[\"Child Process\"]\n    B --\u003e D[\"Parent Process Continues\"]\n    C --\u003e E[\"os.execv()\"]\n    E --\u003e F[\"New Program\"]\n    D --\u003e G[\"os.waitpid()\"]\n    F --\u003e H[\"Program Exits\"]\n    H --\u003e G\n```\n\nSources: [Modules/posixmodule.c:620-766](), [Lib/test/test_posix.py:198-278]()\n\n## Environment Variables\n\nPython provides access to environment variables through the `os.environ` mapping:\n\n```python\n# Get environment variable\npath = os.environ.get('PATH', '')\n\n# Set environment variable\nos.environ['DEBUG'] = '1'\n\n# Delete environment variable\ndel os.environ['TEMP_VAR']\n```\n\nThe `os.environ` dictionary is populated when the `os` module is first imported. Changes to it affect the current process environment and are reflected in child processes.\n\nEnvironment variables have important considerations regarding encoding:\n- On Unix, environment variables use the filesystem encoding with surrogateescape error handler\n- On Windows, environment variable keys are automatically converted to uppercase\n\nSources: [Doc/library/os.rst:184-223]()\n\n## File System Path Encoding\n\nPython uses the concept of \"filesystem encoding and error handler\" to convert between strings and bytes when interacting with the operating system:\n\n| Function | Description |\n|----------|-------------|\n| `os.fsencode(filename)` | Encode path string to bytes using filesystem encoding |\n| `os.fsdecode(filename)` | Decode path bytes to string using filesystem encoding |\n\nThe filesystem encoding can be determined with `sys.getfilesystemencoding()`.\n\nSources: [Doc/library/os.rst:275-303]()\n\n## Higher-Level File Operations with shutil\n\nThe `shutil` module builds on top of the `os` module to provide higher-level file operations:\n\n| Function | Description |\n|----------|-------------|\n| `shutil.copy(src, dst)` | Copy a file with permissions |\n| `shutil.copy2(src, dst)` | Copy a file with all metadata |\n| `shutil.copytree(src, dst)` | Recursively copy a directory tree |\n| `shutil.move(src, dst)` | Recursively move a file or directory |\n| `shutil.rmtree(path)` | Recursively delete a directory tree |\n\nRelationship between `os` and `shutil`:\n\n```mermaid\ngraph TD\n    A[\"Python Code\"] --\u003e B[\"shutil Module\"]\n    B --\u003e C[\"High-level Operations\"]\n    C --\u003e D[\"File Copy (copy, copy2)\"]\n    C --\u003e E[\"Directory Operations (copytree, rmtree)\"]\n    C --\u003e F[\"Move Operations (move)\"]\n    C --\u003e G[\"Archive Operations (make_archive)\"]\n    B --\u003e H[\"os Module\"]\n    H --\u003e I[\"Low-level File Operations\"]\n    D --\u003e J[\"os.open/read/write/close\"]\n    E --\u003e K[\"os.walk/mkdir/rmdir\"]\n    F --\u003e L[\"os.rename or copy+delete\"]\n```\n\nThe `shutil` module implements efficient file copy operations using platform-specific optimizations when available:\n- On Linux, it can use `sendfile()` or `copy_file_range()`\n- On macOS, it can use `fcopyfile()`\n- On Windows, it uses special optimizations for large files\n\nSources: [Lib/shutil.py:79-345](), [Doc/library/shutil.rst:40-221]()\n\n## Platform Considerations\n\nThe `os` module aims to provide a consistent interface across platforms, but there are some important platform differences:\n\n### Windows vs. Unix Differences\n\n| Feature | Windows | Unix |\n|---------|---------|------|\n| Path separator | Backslash (`\\`) | Forward slash (`/`) |\n| Path format | With drive letters (`C:\\`) | Root-based (`/`) |\n| Line endings | CRLF (`\\r\\n`) | LF (`\\n`) |\n| File permissions | ACL-based | Mode bits (rwx) |\n| Case sensitivity | Case-insensitive | Case-sensitive |\n| Environment vars | Case-insensitive keys | Case-sensitive keys |\n\nSome functions may have different behavior:\n- `os.link()`, `os.symlink()` - Limited support on Windows\n- `os.chown()`, `os.setgid()` - Not available on Windows\n\nSources: [Modules/posixmodule.c:399-414](), [Doc/library/os.rst:204-208]()\n\n## UTF-8 Mode\n\nPython 3.7 introduced UTF-8 mode, which forces the use of UTF-8 for filesystem operations regardless of the system locale:\n\n- In UTF-8 mode, `os.fsencode()` and `os.fsdecode()` always use UTF-8\n- UTF-8 mode is enabled automatically when:\n  - The locale is set to `C` or `POSIX`\n  - The `PYTHONUTF8=1` environment variable is set\n  - The `-X utf8` command-line option is used\n- UTF-8 mode status can be checked with `sys.flags.utf8_mode`\n\nSources: [Doc/library/os.rst:104-156]()\n\n## Conclusion\n\nThe `os` module provides a robust platform-independent interface to operating system functionality. Its architecture of dynamically loading platform-specific modules allows Python code to be highly portable across different operating systems.\n\nWhen working with file system operations, developers should:\n- Use the appropriate level of abstraction (higher-level modules for common tasks)\n- Be aware of platform differences in path formats and permissions\n- Consider file system encoding for proper handling of non-ASCII filenames\n- Use context managers and error handling to ensure resources are properly managed\n\nBy understanding the architecture and capabilities of the `os` module, developers can write portable and efficient code for interacting with the file system and operating system."])</script><script>self.__next_f.push([1,"2d:T3d94,"])</script><script>self.__next_f.push([1,"# Development Tools\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [.github/actionlint.yaml](.github/actionlint.yaml)\n- [.github/workflows/build.yml](.github/workflows/build.yml)\n- [.github/workflows/jit.yml](.github/workflows/jit.yml)\n- [.github/workflows/reusable-context.yml](.github/workflows/reusable-context.yml)\n- [.github/workflows/reusable-docs.yml](.github/workflows/reusable-docs.yml)\n- [.github/workflows/reusable-macos.yml](.github/workflows/reusable-macos.yml)\n- [.github/workflows/reusable-tsan.yml](.github/workflows/reusable-tsan.yml)\n- [.github/workflows/reusable-ubuntu.yml](.github/workflows/reusable-ubuntu.yml)\n- [.github/workflows/reusable-wasi.yml](.github/workflows/reusable-wasi.yml)\n- [.github/workflows/reusable-windows-msi.yml](.github/workflows/reusable-windows-msi.yml)\n- [.github/workflows/reusable-windows.yml](.github/workflows/reusable-windows.yml)\n- [Lib/test/libregrtest/cmdline.py](Lib/test/libregrtest/cmdline.py)\n- [Lib/test/libregrtest/findtests.py](Lib/test/libregrtest/findtests.py)\n- [Lib/test/libregrtest/logger.py](Lib/test/libregrtest/logger.py)\n- [Lib/test/libregrtest/main.py](Lib/test/libregrtest/main.py)\n- [Lib/test/libregrtest/mypy.ini](Lib/test/libregrtest/mypy.ini)\n- [Lib/test/libregrtest/refleak.py](Lib/test/libregrtest/refleak.py)\n- [Lib/test/libregrtest/result.py](Lib/test/libregrtest/result.py)\n- [Lib/test/libregrtest/results.py](Lib/test/libregrtest/results.py)\n- [Lib/test/libregrtest/run_workers.py](Lib/test/libregrtest/run_workers.py)\n- [Lib/test/libregrtest/runtests.py](Lib/test/libregrtest/runtests.py)\n- [Lib/test/libregrtest/setup.py](Lib/test/libregrtest/setup.py)\n- [Lib/test/libregrtest/single.py](Lib/test/libregrtest/single.py)\n- [Lib/test/libregrtest/utils.py](Lib/test/libregrtest/utils.py)\n- [Lib/test/libregrtest/worker.py](Lib/test/libregrtest/worker.py)\n- [Lib/test/pythoninfo.py](Lib/test/pythoninfo.py)\n- [Lib/test/support/__init__.py](Lib/test/support/__init__.py)\n- [Lib/test/support/bytecode_helper.py](Lib/test/support/bytecode_helper.py)\n- [Lib/test/test_compiler_assemble.py](Lib/test/test_compiler_assemble.py)\n- [Lib/test/test_regrtest.py](Lib/test/test_regrtest.py)\n- [Lib/test/test_yield_from.py](Lib/test/test_yield_from.py)\n- [Modules/clinic/_testinternalcapi.c.h](Modules/clinic/_testinternalcapi.c.h)\n- [Tools/build/.ruff.toml](Tools/build/.ruff.toml)\n- [Tools/build/.warningignore_macos](Tools/build/.warningignore_macos)\n- [Tools/build/.warningignore_ubuntu](Tools/build/.warningignore_ubuntu)\n- [Tools/build/check_warnings.py](Tools/build/check_warnings.py)\n- [Tools/build/compute-changes.py](Tools/build/compute-changes.py)\n\n\u003c/details\u003e\n\n\n\n## Overview\n\nThis document provides a comprehensive overview of the tools used for testing and developing CPython. It covers the regression test framework (libregrtest), continuous integration pipeline, and various utilities for debugging and performance analysis. For information about build systems, see [Build System](#6), and for extension development details, see [Extension Development and C API](#5).\n\nThe CPython development toolset includes:\n\n1. A regression test framework for validating the interpreter's behavior\n2. Continuous integration pipelines for automated testing \n3. Tools for detecting memory leaks and reference counting issues\n4. Utilities for measuring performance and code coverage\n\n## Regression Test Framework (libregrtest)\n\nThe core of CPython's testing infrastructure is the regression test framework called `libregrtest`. This framework handles test discovery, execution, and result reporting.\n\n```mermaid\nflowchart TD\n    subgraph \"Regression Test Framework\"\n        main[\"main.py\\nMain Runner\"]\n        cmdline[\"cmdline.py\\nCommand Parser\"]\n        findtests[\"findtests.py\\nTest Discovery\"]\n        runtests[\"runtests.py\\nTest Coordinator\"]\n        worker[\"worker.py\\nWorker Process\"]\n        single[\"single.py\\nSingle Test Runner\"]\n        refleak[\"refleak.py\\nLeak Detection\"]\n        result[\"result.py\\nTest Results\"]\n        results[\"results.py\\nResults Collection\"]\n        utils[\"utils.py\\nUtilities\"]\n    end\n\n    user[\"User or CI System\"] -- \"python -m test\" --\u003e main\n    main --\u003e cmdline\n    main --\u003e findtests\n    findtests --\u003e runtests\n    \n    runtests --\u003e sequential[\"Sequential Mode\"] \n    runtests --\u003e parallel[\"Parallel Mode\"]\n    \n    sequential --\u003e single\n    parallel --\u003e worker\n    worker --\u003e single\n    \n    single --\u003e refleak\n    single --\u003e result\n    result --\u003e results\n    \n    utils -.- main\n    utils -.- runtests\n    utils -.- single\n```\n\nSources: [Lib/test/libregrtest/main.py](), [Lib/test/libregrtest/utils.py](), [Lib/test/libregrtest/runtests.py](), [Lib/test/libregrtest/findtests.py]()\n\n### Test Discovery\n\nThe test discovery process is handled by the `findtests.py` module. Tests are discovered by:\n\n1. Searching for Python files in the `Lib/test` directory that match the pattern `test_*.py`\n2. Supporting special handling of certain test directories to increase parallelism:\n\n```python\nSPLITTESTDIRS = {\n    \"test_asyncio\",\n    \"test_concurrent_futures\",\n    \"test_doctests\",\n    \"test_future_stmt\",\n    \"test_gdb\",\n    \"test_inspect\",\n    \"test_pydoc\",\n    \"test_multiprocessing_fork\",\n    \"test_multiprocessing_forkserver\",\n    \"test_multiprocessing_spawn\",\n}\n```\n\nSources: [Lib/test/libregrtest/findtests.py:20-31]()\n\n### Test Execution Modes\n\nTests can be executed in several modes:\n\n1. **Sequential Mode**: Tests run in a single process, one after another.\n2. **Parallel Mode**: Tests run in multiple worker processes simultaneously.\n3. **Leak Detection Mode**: Tests run multiple times to detect reference leaks.\n4. **Coverage Mode**: Tests run with code coverage tracking enabled.\n\nHere's how a single test is run:\n\n```mermaid\nflowchart TD\n    start[\"run_single_test()\"] --\u003e setup[\"1. Setup Environment\"]\n    setup --\u003e import[\"2. Import Test Module\"]\n    import --\u003e run[\"3. Run Test Module\"]\n    run --\u003e capture[\"4. Capture Results\"]\n    capture --\u003e cleanup[\"5. Cleanup Environment\"]\n    cleanup --\u003e result[\"6. Return TestResult\"]\n```\n\nSources: [Lib/test/libregrtest/single.py]()\n\n### Reference Leak Detection\n\nOne of the most powerful features of the test framework is its ability to detect reference leaks in CPython's C code. This is implemented in `refleak.py` and works by:\n\n1. Running a test multiple times with warmup runs\n2. Tracking Python reference counts, memory allocations, and file descriptors\n3. Analyzing patterns to detect leaks\n\n```mermaid\nflowchart TD\n    subgraph \"Reference Leak Detection\"\n        direction LR\n        runtest[\"runtest_refleak()\"] --\u003e warmup[\"Run Warmup Tests\"]\n        warmup --\u003e actual[\"Run Actual Tests\"]\n        actual --\u003e collect[\"Collect Metrics:\\n- Reference Counts\\n- Memory Blocks\\n- File Descriptors\"]\n        collect --\u003e analyze[\"Analyze for Leaks\"]\n        analyze --\u003e report[\"Report Results\"]\n    end\n```\n\nThe core function is `runtest_refleak()`, which runs a test multiple times while tracking reference counts:\n\nSources: [Lib/test/libregrtest/refleak.py:52-305]()\n\n## Test Support Facilities\n\nThe `test.support` package provides numerous utilities to support test development and execution:\n\n```mermaid\nflowchart LR\n    subgraph \"test.support Package\"\n        support[\"__init__.py\\nCore Support\"]\n        os_helper[\"os_helper.py\\nOS Utilities\"]\n        socket_helper[\"socket_helper.py\\nNetwork Testing\"]\n        script_helper[\"script_helper.py\\nSubprocess Testing\"]\n        threading_helper[\"threading_helper.py\\nThread Testing\"]\n    end\n    \n    support --\u003e os_helper\n    support --\u003e socket_helper\n    support --\u003e script_helper\n    support --\u003e threading_helper\n    \n    test_modules[\"Test Modules\"] --\u003e support\n```\n\nKey support features include:\n\n- Resource usage tracking\n- Temporary file and directory management\n- Network testing utilities\n- Subprocess management\n- Test skipping mechanisms based on platform or available resources\n\nSources: [Lib/test/support/__init__.py]()\n\n## Command-line Interface\n\nThe test framework is primarily used through its command-line interface:\n\n```\npython -m test [options] [test_name1 [test_name2 ...]]\n```\n\nThe command-line interface provides a rich set of options organized into categories:\n\n| Category | Example Options | Purpose |\n|----------|----------------|---------|\n| General | `--timeout`, `--wait`, `--header` | Control test execution environment |\n| Verbosity | `-v/--verbose`, `-W/--verbose3` | Control output detail level |\n| Test Selection | `-m/--match`, `-i/--ignore`, `-r/--randomize` | Control which tests run |\n| Execution | `-j/--multiprocess`, `-s/--single` | Control how tests are executed |\n| Special Runs | `-R/--huntrleaks`, `-T/--coverage` | Special testing modes |\n| Resource Usage | `-u/--use`, `-M/--memlimit` | Control resource usage |\n\nSources: [Lib/test/libregrtest/cmdline.py:9-128]()\n\n### Key Command-line Options\n\nSome of the most important command-line options:\n\n```python\n# Run tests in verbose mode\npython -m test -v\n\n# Run tests in parallel (with 4 workers)\npython -m test -j4\n\n# Re-run failed tests in verbose mode\npython -m test -w\n\n# Hunt for reference leaks\npython -m test -R :\n\n# Run tests with coverage analysis\npython -m test -T\n\n# Run a specific test\npython -m test test_asyncio\n```\n\nSources: [Lib/test/libregrtest/cmdline.py:207-545]()\n\n## Continuous Integration Pipeline\n\nCPython uses GitHub Actions for continuous integration. The workflows are defined in the `.github/workflows` directory.\n\n```mermaid\nflowchart TD\n    subgraph \"GitHub Actions Workflow\"\n        build[\"build.yml\\nMain Workflow\"]\n        context[\"reusable-context.yml\\nChange Detection\"]\n        docs[\"reusable-docs.yml\\nDocumentation Tests\"]\n        \n        subgraph \"Platform Tests\"\n            windows[\"reusable-windows.yml\\nWindows Tests\"]\n            macos[\"reusable-macos.yml\\nmacOS Tests\"]\n            ubuntu[\"reusable-ubuntu.yml\\nUbuntu Tests\"]\n            wasi[\"reusable-wasi.yml\\nWASI Tests\"]\n        end\n        \n        subgraph \"Special Tests\"\n            tsan[\"reusable-tsan.yml\\nThread Sanitizer\"]\n            jit[\"jit.yml\\nJIT Compiler Tests\"]\n            asan[\"Address Sanitizer Tests\"]\n            hypothesis[\"Hypothesis Tests\"]\n        end\n    end\n    \n    build --\u003e context\n    context --\u003e docs\n    context --\u003e Platform[\"Platform Tests\"]\n    context --\u003e Special[\"Special Tests\"]\n```\n\nSources: [.github/workflows/build.yml](), [.github/workflows/jit.yml](), [.github/workflows/reusable-tsan.yml]()\n\n### Main Workflow (build.yml)\n\nThe main workflow in `build.yml` coordinates the entire CI pipeline:\n\n1. Determines what changed and what tests to run (`build-context` job)\n2. Runs documentation checks if necessary (`check-docs` job)\n3. Runs tests on different platforms:\n   - Windows (x86, x64, ARM64)\n   - macOS (Intel, Apple Silicon)\n   - Linux (x86_64, ARM64)\n   - WASI (WebAssembly)\n4. Runs specialized tests:\n   - Thread sanitizer\n   - Address sanitizer\n   - Hypothesis tests\n   - SSL tests\n\nSources: [.github/workflows/build.yml:13-672]()\n\n### Platform-Specific Testing\n\nEach platform has its own workflow file that defines how to build and test CPython:\n\n| Platform | Workflow File | Key Features |\n|----------|--------------|--------------|\n| Windows | `reusable-windows.yml` | Tests on x86, x64, and ARM64 architectures |\n| macOS | `reusable-macos.yml` | Tests on Intel and Apple Silicon |\n| Linux | `reusable-ubuntu.yml` | Tests on x86_64 and ARM64, with optional BOLT optimizations |\n| WASI | `reusable-wasi.yml` | Tests for WebAssembly |\n\nSources: [.github/workflows/reusable-windows.yml](), [.github/workflows/reusable-macos.yml](), [.github/workflows/reusable-ubuntu.yml](), [.github/workflows/reusable-wasi.yml]()\n\n### Special Testing Modes\n\nSeveral special testing modes are available:\n\n1. **Thread Sanitizer**: Detects threading issues using LLVM's Thread Sanitizer.\n2. **Address Sanitizer**: Detects memory corruption using LLVM's Address Sanitizer.\n3. **JIT Testing**: Tests the experimental JIT compiler.\n4. **Hypothesis Testing**: Uses property-based testing to find edge cases.\n\nSources: [.github/workflows/reusable-tsan.yml](), [.github/workflows/jit.yml]()\n\n## Build Configurations\n\nTests are run with various build configurations to ensure CPython works correctly in different environments:\n\n| Configuration | Description | How It's Controlled |\n|---------------|-------------|-------------------|\n| Debug Build | Includes assertions and debugging symbols | `--with-pydebug` configure flag |\n| Release Build | Optimized for performance | Default build |\n| JIT Enabled | Uses the experimental JIT compiler | `--enable-experimental-jit` configure flag |\n| Free-Threading | Runs without the Global Interpreter Lock | `--disable-gil` configure flag |\n| Sanitizers | Uses LLVM sanitizers | `--with-address-sanitizer`, `--with-thread-sanitizer` |\n| BOLT Optimized | Uses LLVM's BOLT optimizer | `--enable-bolt` configure flag |\n\nSources: [.github/workflows/build.yml:150-172](), [.github/workflows/reusable-ubuntu.yml:91-100]()\n\n## System Information Collection\n\nCPython includes a tool for collecting system information to help debug test failures. The `pythoninfo.py` module collects details about:\n\n- Python version and build\n- Platform information\n- Compiler version\n- Operating system details\n- Memory statistics\n- Security features\n\nThis information is crucial for reproducing and debugging test failures across different environments.\n\nSources: [Lib/test/pythoninfo.py]()\n\n## Tools for Developers\n\nSeveral commands and tools are available to help developers:\n\n```bash\n# Run the full test suite\npython -m test\n\n# Run a specific test\npython -m test test_asyncio\n\n# Run tests matching a pattern\npython -m test -m asyncio\n\n# Run tests with debugging information\npython -m test -v\n\n# Run tests with reference leak detection\npython -m test -R :\n\n# Run tests with coverage\npython -m test -T\n```\n\n### Test Result Analysis\n\nTest results are reported in a structured format, making it easy to identify issues:\n\n- Passed tests are reported with a brief summary\n- Failed tests show detailed error information \n- Skipped tests include the reason for skipping\n- Leaked resources are reported in detail\n- Performance statistics are available with `-o/--slowest`\n\nResults can also be exported in JUnit XML format for integration with CI systems.\n\nSources: [Lib/test/libregrtest/results.py]()\n\n## Using the Regression Test Framework\n\nHere's a typical workflow for running tests:\n\n1. Run the full test suite to ensure everything works:\n   ```bash\n   python -m test\n   ```\n\n2. Run a specific test with verbose output:\n   ```bash\n   python -m test -v test_asyncio\n   ```\n\n3. If a test fails, re-run it with more information:\n   ```bash\n   python -m test -w\n   ```\n\n4. If you suspect a reference leak, run with leak detection:\n   ```bash\n   python -m test -R : test_module\n   ```\n\nSources: [Lib/test/libregrtest/main.py:55-184]()\n\n## Development Workflow with CI\n\nWhen developing a patch for CPython:\n\n1. Make your changes to the codebase\n2. Run relevant tests locally using `python -m test`\n3. Submit a pull request \n4. GitHub Actions will automatically run the CI pipeline\n5. Fix any issues identified by the CI system\n6. Repeat until all tests pass\n\nThe CI system will automatically select which tests to run based on what files were changed in your pull request.\n\nSources: [.github/workflows/build.yml:24-43]()\n\n## Summary\n\nCPython's development tools provide a comprehensive environment for testing, debugging, and maintaining the Python interpreter and standard library. The regression test framework, continuous integration pipeline, and debugging utilities work together to ensure the quality and stability of the codebase."])</script><script>self.__next_f.push([1,"2e:T4245,"])</script><script>self.__next_f.push([1,"# Regression Test Framework\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [Lib/test/libregrtest/cmdline.py](Lib/test/libregrtest/cmdline.py)\n- [Lib/test/libregrtest/findtests.py](Lib/test/libregrtest/findtests.py)\n- [Lib/test/libregrtest/logger.py](Lib/test/libregrtest/logger.py)\n- [Lib/test/libregrtest/main.py](Lib/test/libregrtest/main.py)\n- [Lib/test/libregrtest/mypy.ini](Lib/test/libregrtest/mypy.ini)\n- [Lib/test/libregrtest/refleak.py](Lib/test/libregrtest/refleak.py)\n- [Lib/test/libregrtest/result.py](Lib/test/libregrtest/result.py)\n- [Lib/test/libregrtest/results.py](Lib/test/libregrtest/results.py)\n- [Lib/test/libregrtest/run_workers.py](Lib/test/libregrtest/run_workers.py)\n- [Lib/test/libregrtest/runtests.py](Lib/test/libregrtest/runtests.py)\n- [Lib/test/libregrtest/setup.py](Lib/test/libregrtest/setup.py)\n- [Lib/test/libregrtest/single.py](Lib/test/libregrtest/single.py)\n- [Lib/test/libregrtest/utils.py](Lib/test/libregrtest/utils.py)\n- [Lib/test/libregrtest/worker.py](Lib/test/libregrtest/worker.py)\n- [Lib/test/pythoninfo.py](Lib/test/pythoninfo.py)\n- [Lib/test/support/__init__.py](Lib/test/support/__init__.py)\n- [Lib/test/support/bytecode_helper.py](Lib/test/support/bytecode_helper.py)\n- [Lib/test/test_compiler_assemble.py](Lib/test/test_compiler_assemble.py)\n- [Lib/test/test_regrtest.py](Lib/test/test_regrtest.py)\n- [Modules/clinic/_testinternalcapi.c.h](Modules/clinic/_testinternalcapi.c.h)\n\n\u003c/details\u003e\n\n\n\nThe CPython regression test framework is a comprehensive system for validating that code changes don't break existing functionality (regressions). This framework is responsible for discovering, executing, and reporting on Python's extensive test suite. It offers features for parallel test execution, reference leak detection, resource control, and detailed reporting.\n\nFor information about writing individual tests, see the appropriate documentation for unittest, doctest, or other test frameworks used within Python's standard library.\n\n## Architecture Overview\n\nThe regression test framework, primarily located in `Lib/test/libregrtest/`, consists of several interconnected components:\n\n```mermaid\nflowchart TD\n    subgraph \"Main Components\"\n        Regrtest[\"Regrtest\\n(Main Coordinator)\"]\n        CmdLine[\"Command Line Parser\"]\n        TestFinder[\"Test Finder\"]\n        Runner[\"Test Runner\"]\n        Workers[\"Worker Manager\"]\n        Results[\"Result Handler\"]\n        Utils[\"Support Utilities\"]\n    end\n\n    subgraph \"Test Execution\"\n        Sequential[\"Sequential Execution\"]\n        Parallel[\"Parallel Execution\"]\n        WorkerProc[\"Worker Processes\"]\n    end\n\n    subgraph \"Result Processing\"\n        Collection[\"Result Collection\"]\n        Aggregation[\"Result Aggregation\"]\n        Reporting[\"Test Reporting\"]\n        JUnit[\"JUnit XML Export\"]\n    end\n\n    CmdLine --\u003e Regrtest\n    TestFinder --\u003e Regrtest\n    Regrtest --\u003e Runner\n    Runner --\u003e Sequential\n    Runner --\u003e Parallel\n    Parallel --\u003e WorkerProc\n    WorkerProc --\u003e Collection\n    Sequential --\u003e Collection\n    Collection --\u003e Aggregation\n    Aggregation --\u003e Reporting\n    Aggregation --\u003e JUnit\n    Utils --\u003e Regrtest\n    Utils --\u003e Runner\n    Utils --\u003e Workers\n    Utils --\u003e Results\n    Workers --\u003e Parallel\n    Results --\u003e Aggregation\n    Results --\u003e Reporting\n```\n\nSources: [Lib/test/libregrtest/main.py](), [Lib/test/libregrtest/cmdline.py](), [Lib/test/libregrtest/findtests.py](), [Lib/test/libregrtest/runtests.py](), [Lib/test/libregrtest/worker.py](), [Lib/test/libregrtest/results.py](), [Lib/test/libregrtest/utils.py]()\n\n## Test Directory Structure\n\nCPython's test suite is organized in the `Lib/test/` directory, with most test files following the naming pattern `test_*.py`. The test framework also handles special test packages that contain multiple test modules.\n\n```mermaid\nflowchart LR\n    subgraph \"Test Organization\"\n        TestDir[\"Lib/test/\"]\n        TestFiles[\"Individual Test Files\\n(test_*.py)\"]\n        TestPackages[\"Test Packages\\n(e.g., test_asyncio/)\"]\n        SupportModules[\"Support Modules\\n(e.g., support/)\"]\n        LibRegrtestDir[\"libregrtest/\\n(Framework Code)\"]\n\n        TestDir --\u003e TestFiles\n        TestDir --\u003e TestPackages\n        TestDir --\u003e SupportModules\n        TestDir --\u003e LibRegrtestDir\n\n        TestPackages --\u003e SubTests[\"Subtest Modules\\n(test_*.py)\"]\n    end\n```\n\nSources: [Lib/test/libregrtest/findtests.py]()\n\n## Command-Line Interface\n\nThe regression test framework is typically invoked with `python -m test` and offers a rich set of command-line options for customizing test execution. The most common options include:\n\n| Option | Description |\n|--------|-------------|\n| `-v`, `--verbose` | Increase verbosity (can be repeated for more verbosity) |\n| `-j N`, `--multiprocess N` | Run tests in N parallel processes |\n| `-m PATTERN`, `--match PATTERN` | Only run tests with names matching the pattern |\n| `-r`, `--randomize` | Randomize test execution order |\n| `-G`, `--failfast` | Stop on first test failure |\n| `-u RESOURCES`, `--use RESOURCES` | Specify which special resource-intensive tests to run |\n| `-M LIMIT`, `--memlimit LIMIT` | Run very large memory-consuming tests with specified limit |\n| `-R RUNS`, `--huntrleaks RUNS` | Run tests multiple times to detect reference leaks |\n| `-w`, `--rerun` | Re-run failed tests in verbose mode |\n| `--fast-ci` | Run in fast CI mode (used by GitHub Actions) |\n\nA full list of options can be obtained by running `python -m test --help`.\n\nSources: [Lib/test/libregrtest/cmdline.py]()\n\n## Test Execution Workflow\n\nThe test execution workflow involves several stages, from parsing command-line arguments to displaying test results:\n\n```mermaid\nsequenceDiagram\n    participant User\n    participant Regrtest as \"Regrtest (main.py)\"\n    participant CmdLine as \"CommandLine (cmdline.py)\"\n    participant TestFinder as \"TestFinder (findtests.py)\"\n    participant Setup as \"Setup (setup.py)\"\n    participant Runner as \"TestRunner (runtests.py)\"\n    participant Worker as \"Workers (worker.py)\"\n    participant Results as \"Results (results.py)\"\n\n    User-\u003e\u003eRegrtest: python -m test [options]\n    Regrtest-\u003e\u003eCmdLine: Parse arguments\n    CmdLine--\u003e\u003eRegrtest: Parsed options\n    Regrtest-\u003e\u003eTestFinder: Find tests\n    TestFinder--\u003e\u003eRegrtest: Test list\n    Regrtest-\u003e\u003eSetup: Setup test environment\n    \n    alt Parallel Execution\n        Regrtest-\u003e\u003eRunner: Run tests with workers\n        Runner-\u003e\u003eWorker: Create worker processes\n        Worker--\u003e\u003eRunner: Test results\n    else Sequential Execution\n        Regrtest-\u003e\u003eRunner: Run tests sequentially\n    end\n    \n    Runner--\u003e\u003eRegrtest: All test results\n    Regrtest-\u003e\u003eResults: Aggregate results\n    Regrtest-\u003e\u003eResults: Display results\n    Results--\u003e\u003eUser: Test summary\n```\n\nSources: [Lib/test/libregrtest/main.py](), [Lib/test/libregrtest/setup.py](), [Lib/test/libregrtest/run_workers.py]()\n\n## Parallel Test Execution\n\nOne of the key features of the regression test framework is its ability to run tests in parallel, significantly reducing test execution time:\n\n```mermaid\nflowchart TD\n    subgraph \"Main Process\"\n        Regrtest[\"Regrtest (main.py)\"]\n        RunWorkers[\"RunWorkers (run_workers.py)\"]\n        Output[\"Output Queue\"]\n        Results[\"TestResults (results.py)\"]\n    end\n\n    subgraph \"Worker Threads\"\n        Thread1[\"WorkerThread #1\"]\n        Thread2[\"WorkerThread #2\"]\n        ThreadN[\"WorkerThread #N\"]\n    end\n\n    subgraph \"Worker Processes\"\n        Proc1[\"Worker Process #1\\n(worker.py)\"]\n        Proc2[\"Worker Process #2\\n(worker.py)\"]\n        ProcN[\"Worker Process #N\\n(worker.py)\"]\n    end\n\n    Regrtest --\u003e RunWorkers\n    RunWorkers --\u003e Thread1\n    RunWorkers --\u003e Thread2\n    RunWorkers --\u003e ThreadN\n    Thread1 --\u003e Proc1\n    Thread2 --\u003e Proc2\n    ThreadN --\u003e ProcN\n    Proc1 --\u003e |\"JSON result\"| Thread1\n    Proc2 --\u003e |\"JSON result\"| Thread2\n    ProcN --\u003e |\"JSON result\"| ThreadN\n    Thread1 --\u003e Output\n    Thread2 --\u003e Output\n    ThreadN --\u003e Output\n    Output --\u003e Results\n    Results --\u003e Regrtest\n```\n\nWhen running tests in parallel:\n1. The `RunWorkers` class creates multiple worker threads\n2. Each thread creates a subprocess to run a test\n3. The subprocess runs the test and sends the result back as a JSON-encoded message\n4. The main process collects and aggregates all results\n\nSources: [Lib/test/libregrtest/run_workers.py](), [Lib/test/libregrtest/worker.py]()\n\n## Reference Leak Detection\n\nThe framework includes specialized support for detecting reference leaks in Python code, which is essential for maintaining memory efficiency in the interpreter:\n\n```mermaid\nflowchart LR\n    subgraph \"Reference Leak Detection\"\n        direction TB\n        Start[\"Start leak detection\"]\n        WarmUp[\"Run test N warmup times\"]\n        ClearCache[\"Clear caches\"]\n        GC[\"Force garbage collection\"]\n        Count1[\"Record reference counts\"]\n        RunTest[\"Run test\"]\n        Count2[\"Record new reference counts\"]\n        Delta[\"Calculate reference count delta\"]\n        CheckDelta[\"Check for consistent increase\"]\n        Report[\"Report leaks\"]\n        \n        Start --\u003e WarmUp\n        WarmUp --\u003e ClearCache\n        ClearCache --\u003e GC\n        GC --\u003e Count1\n        Count1 --\u003e RunTest\n        RunTest --\u003e GC\n        GC --\u003e Count2\n        Count2 --\u003e Delta\n        Delta --\u003e CheckDelta\n        CheckDelta --\u003e |\"Leak detected\"| Report\n    end\n```\n\nThe `-R` or `--huntrleaks` option enables this feature, running each test multiple times and checking for consistent increases in reference counts, which would indicate a reference leak.\n\nSources: [Lib/test/libregrtest/refleak.py]()\n\n## Resource Management\n\nThe test framework provides sophisticated resource management for controlling resource-intensive tests:\n\n| Resource | Description |\n|----------|-------------|\n| `all` | Enable all special resources |\n| `audio` | Tests that use the audio device |\n| `curses` | Tests that use curses |\n| `largefile` | Tests that create large files |\n| `network` | Tests that use external network resources |\n| `decimal` | Tests for the decimal module |\n| `cpu` | CPU-intensive tests |\n| `subprocess` | Tests for the subprocess module |\n| `urlfetch` | Tests that download files |\n| `gui` | Tests that require a GUI |\n\nResources can be enabled with the `-u` or `--use` option (e.g., `-u network,subprocess`).\n\nSources: [Lib/test/support/__init__.py](), [Lib/test/libregrtest/utils.py]()\n\n## Test Results and Reporting\n\nThe framework collects and aggregates test results, providing detailed information about:\n\n```mermaid\nclassDiagram\n    class TestResults {\n        +List bad\n        +List good\n        +List skipped\n        +List resource_denied\n        +List env_changed\n        +List run_no_tests\n        +List rerun\n        +List rerun_results\n        +bool interrupted\n        +bool worker_bug\n        +List test_times\n        +TestStats stats\n        +List testsuite_xml\n        +Set covered_lines\n        +is_all_good()\n        +get_executed()\n        +no_tests_run()\n        +get_state()\n        +get_exitcode()\n        +accumulate_result()\n        +get_coverage_results()\n        +need_rerun()\n        +prepare_rerun()\n        +add_junit()\n        +write_junit()\n        +display_result()\n        +display_summary()\n    }\n\n    class TestResult {\n        +str test_name\n        +str state\n        +float duration\n        +List xml_data\n        +TestStats stats\n        +is_failed()\n        +has_meaningful_duration()\n        +must_stop()\n        +write_json_into()\n    }\n\n    class TestStats {\n        +int tests_run\n        +int failures\n        +int skipped\n        +from_unittest()\n        +from_doctest()\n        +accumulate()\n    }\n\n    TestResults \"1\" *-- \"many\" TestResult\n    TestResults \"1\" *-- \"1\" TestStats\n    TestResult \"1\" *-- \"0..1\" TestStats\n```\n\nThe results can be displayed in various formats, including:\n- Console output with color-coded results\n- JUnit XML files for integration with CI systems\n- Coverage reports (with the `-T` or `--coverage` option)\n\nSources: [Lib/test/libregrtest/results.py](), [Lib/test/libregrtest/result.py]()\n\n## Test Environment Management\n\nThe framework includes features for managing the test environment:\n\n1. **Path Setup**: Ensures proper Python path configuration\n2. **Resource Limits**: Adjusts resource limits like open file descriptors\n3. **Fault Handling**: Sets up fault handlers to catch and report crashes\n4. **Thread Safety**: Configures thread exception hooks\n5. **Cleanup**: Ensures proper cleanup of resources after tests\n\nAdditionally, the framework detects when tests alter the environment, which can help identify tests with side effects that might affect other tests.\n\nSources: [Lib/test/libregrtest/setup.py](), [Lib/test/support/__init__.py]()\n\n## Key Classes and Their Relationships\n\nThe following diagram shows the key classes in the regression test framework and their relationships:\n\n```mermaid\nclassDiagram\n    class Regrtest {\n        +TestResults results\n        +Logger logger\n        +find_tests()\n        +run_tests()\n        +rerun_failed_tests()\n        +display_result()\n        +display_summary()\n        +main()\n    }\n\n    class RunTests {\n        +TestTuple tests\n        +bool fail_fast\n        +bool fail_env_changed\n        +TestFilter match_tests\n        +bool rerun\n        +bool forever\n        +bool pgo\n        +float timeout\n        +int verbose\n        +HuntRefleak hunt_refleak\n        +copy()\n        +create_worker_runtests()\n        +get_match_tests()\n        +iter_tests()\n    }\n\n    class WorkerRunTests {\n        +from_json()\n        +as_json()\n    }\n\n    class TestResults {\n        +List bad\n        +List good\n        +List skipped\n        +accumulate_result()\n        +display_result()\n        +write_junit()\n    }\n\n    class TestResult {\n        +str test_name\n        +str state\n        +float duration\n        +from_json()\n        +write_json_into()\n    }\n\n    class RunWorkers {\n        +int num_workers\n        +RunTests runtests\n        +Queue output\n        +List worker_threads\n        +run()\n        +wait_all_completed()\n    }\n\n    class WorkerThread {\n        +int worker_id\n        +RunTests runtests\n        +Queue pending\n        +Queue output\n        +float timeout\n        +run()\n        +stop()\n    }\n\n    Regrtest \"1\" *-- \"1\" TestResults\n    Regrtest \"1\" *-- \"1\" RunTests\n    RunTests \u003c|-- WorkerRunTests\n    TestResults \"1\" *-- \"many\" TestResult\n    Regrtest \"1\" *-- \"0..1\" RunWorkers\n    RunWorkers \"1\" *-- \"many\" WorkerThread\n```\n\nSources: [Lib/test/libregrtest/main.py](), [Lib/test/libregrtest/runtests.py](), [Lib/test/libregrtest/run_workers.py](), [Lib/test/libregrtest/result.py](), [Lib/test/libregrtest/results.py]()\n\n## Test Execution Command Examples\n\nHere are some common ways to run the test suite:\n\n| Command | Description |\n|---------|-------------|\n| `python -m test` | Run all tests |\n| `python -m test test_abc` | Run a specific test module |\n| `python -m test -j4` | Run tests in 4 parallel processes |\n| `python -m test -v` | Run tests with increased verbosity |\n| `python -m test -m \"socket\"` | Run tests with \"socket\" in their name |\n| `python -m test -u all` | Run all tests, including resource-intensive ones |\n| `python -m test -r` | Randomize test execution order |\n| `python -m test -R :` | Run tests to detect reference leaks |\n| `python -m test --fast-ci` | Run tests in fast CI mode |\n\nSources: [Lib/test/libregrtest/cmdline.py](), [Lib/test/libregrtest/main.py]()\n\n## Integration with Continuous Integration\n\nThe test framework includes special modes for continuous integration (CI) environments:\n\n1. **Fast CI Mode** (`--fast-ci`): Used by GitHub Actions, optimized for speed\n2. **Slow CI Mode** (`--slow-ci`): Used by buildbot workers, more comprehensive\n\nThese modes automatically configure various options to optimize test execution for CI environments.\n\nSources: [Lib/test/libregrtest/cmdline.py](), [Lib/test/libregrtest/main.py]()\n\n## Additional Features\n\nThe test framework includes several additional features:\n\n1. **JIT Testing**: Options for testing the experimental JIT compiler\n2. **Timeout Control**: Setting timeouts to prevent hanging tests\n3. **Memory Limits**: Setting memory limits for memory-intensive tests\n4. **Test Bisection**: Finding the exact tests that cause failures\n5. **Environment Change Detection**: Identifying tests that alter the environment\n\nSources: [Lib/test/libregrtest/cmdline.py](), [Lib/test/libregrtest/main.py](), [Lib/test/libregrtest/single.py]()\n\n## Relationship to Other Testing Tools\n\nThe regression test framework leverages standard Python testing tools but adds additional capabilities:\n\n1. It uses `unittest` for running most tests\n2. It can handle `doctest`-based tests\n3. It adds capabilities like parallel execution, reference leak detection, and resource control\n4. It integrates with CI systems through JUnit XML output\n\nSources: [Lib/test/libregrtest/single.py](), [Lib/test/libregrtest/results.py]()"])</script><script>self.__next_f.push([1,"2f:T3b99,"])</script><script>self.__next_f.push([1,"# Version History and Evolution\n\n\u003cdetails\u003e\n\u003csummary\u003eRelevant source files\u003c/summary\u003e\n\nThe following files were used as context for generating this wiki page:\n\n- [Doc/data/stable_abi.dat](Doc/data/stable_abi.dat)\n- [Doc/library/glob.rst](Doc/library/glob.rst)\n- [Doc/library/pathlib.rst](Doc/library/pathlib.rst)\n- [Doc/library/superseded.rst](Doc/library/superseded.rst)\n- [Doc/library/xmlrpc.rst](Doc/library/xmlrpc.rst)\n- [Doc/whatsnew/2.0.rst](Doc/whatsnew/2.0.rst)\n- [Doc/whatsnew/2.2.rst](Doc/whatsnew/2.2.rst)\n- [Doc/whatsnew/2.4.rst](Doc/whatsnew/2.4.rst)\n- [Doc/whatsnew/2.5.rst](Doc/whatsnew/2.5.rst)\n- [Doc/whatsnew/2.6.rst](Doc/whatsnew/2.6.rst)\n- [Doc/whatsnew/2.7.rst](Doc/whatsnew/2.7.rst)\n- [Doc/whatsnew/3.0.rst](Doc/whatsnew/3.0.rst)\n- [Doc/whatsnew/3.10.rst](Doc/whatsnew/3.10.rst)\n- [Doc/whatsnew/3.11.rst](Doc/whatsnew/3.11.rst)\n- [Doc/whatsnew/3.12.rst](Doc/whatsnew/3.12.rst)\n- [Doc/whatsnew/3.13.rst](Doc/whatsnew/3.13.rst)\n- [Doc/whatsnew/3.14.rst](Doc/whatsnew/3.14.rst)\n- [Doc/whatsnew/3.2.rst](Doc/whatsnew/3.2.rst)\n- [Doc/whatsnew/3.3.rst](Doc/whatsnew/3.3.rst)\n- [Doc/whatsnew/3.4.rst](Doc/whatsnew/3.4.rst)\n- [Doc/whatsnew/3.5.rst](Doc/whatsnew/3.5.rst)\n- [Doc/whatsnew/3.6.rst](Doc/whatsnew/3.6.rst)\n- [Doc/whatsnew/3.7.rst](Doc/whatsnew/3.7.rst)\n- [Doc/whatsnew/3.8.rst](Doc/whatsnew/3.8.rst)\n- [Doc/whatsnew/3.9.rst](Doc/whatsnew/3.9.rst)\n- [Include/Python.h](Include/Python.h)\n- [Include/object.h](Include/object.h)\n- [Lib/glob.py](Lib/glob.py)\n- [Lib/pathlib/__init__.py](Lib/pathlib/__init__.py)\n- [Lib/pathlib/_os.py](Lib/pathlib/_os.py)\n- [Lib/pathlib/types.py](Lib/pathlib/types.py)\n- [Lib/test/test_glob.py](Lib/test/test_glob.py)\n- [Lib/test/test_pathlib/test_pathlib.py](Lib/test/test_pathlib/test_pathlib.py)\n- [Lib/test/test_stable_abi_ctypes.py](Lib/test/test_stable_abi_ctypes.py)\n- [Misc/stable_abi.toml](Misc/stable_abi.toml)\n- [PC/python3dll.c](PC/python3dll.c)\n- [Python/stdlib_module_names.h](Python/stdlib_module_names.h)\n\n\u003c/details\u003e\n\n\n\nThis document traces the evolution of Python through its major releases and features, chronicling significant changes in the language, runtime, and implementation details of CPython over time. For specific information about current implementation details of the bytecode interpreter and optimization, see [Code Execution Pipeline](#2), and for memory management evolution see [Object System and Memory Management](#3).\n\n## Python Version Timeline\n\nPython has evolved significantly since its first release in 1991. Below is a timeline of major releases highlighting key features and changes:\n\n```mermaid\ntimeline\n    title \"Python Major Version Timeline\"\n    section Python 1.x\n        1991 : \"Python 0.9.0 (Initial release)\"\n        1994 : \"Python 1.0\"\n    section Python 2.x\n        2000 : \"Python 2.0\"\n              : \"List comprehensions\"\n              : \"Garbage collection for cycles\"\n        2010 : \"Python 2.7 (Last major 2.x release)\"\n              : \"Set literals and dictionary comprehensions\"\n              : \"Support until Jan 2020\"\n    section Python 3.x\n        2008 : \"Python 3.0\"\n              : \"Unicode by default\"\n              : \"Print as a function\"\n              : \"Views and iterators instead of lists\"\n        2014 : \"Python 3.4\"\n              : \"asyncio, enum, pathlib\"\n        2016 : \"Python 3.6\"\n              : \"f-strings\"\n              : \"Async generators\"\n              : \"Variable annotations\"\n        2018 : \"Python 3.7\"\n              : \"Data classes\"\n              : \"Context variables\"\n              : \"Breakpoint()\"\n        2019 : \"Python 3.8\"\n              : \"Assignment expressions (:=)\"\n              : \"Positional-only parameters\"\n        2020 : \"Python 3.9\"\n              : \"Dict union operators\"\n              : \"Type hint generics in standard collections\"\n        2021 : \"Python 3.10\"\n              : \"Structural pattern matching\"\n              : \"Better error messages\"\n        2022 : \"Python 3.11\"\n              : \"Performance improvements (10-60% faster)\"\n              : \"Exception groups and except*\"\n              : \"Fine-grained error locations\"\n        2023 : \"Python 3.12\"\n              : \"Type parameter syntax\"\n              : \"F-strings in grammar\"\n              : \"Per-interpreter GIL\"\n        2024 : \"Python 3.13 (Released)\"\n              : \"Free-threaded CPython option\"\n              : \"Experimental JIT compiler\"\n              : \"Better interactive interpreter\"\n        2025 : \"Python 3.14 (Planned)\"\n              : \"Deferred evaluation of annotations\"\n              : \"Safe external debugger interface\"\n              : \"Tail call interpreter\"\n```\n\nSources: [Doc/whatsnew/3.13.rst:1-201](). [Doc/whatsnew/3.12.rst:1-60](). [Doc/whatsnew/3.11.rst:1-50](). [Doc/whatsnew/3.14.rst:1-50]().\n\n## Major Version Transitions\n\n### Python 2.x to 3.x Transition\n\nThe transition from Python 2.x to 3.x represents the most significant break in Python's history. Python 3.0 (released December 2008) was intentionally backward-incompatible to address fundamental design issues:\n\n- Text vs. binary data distinction (str vs. bytes)\n- Unicode by default for string handling\n- Print became a function instead of a statement\n- Integer division behavior changed (3/2 = 1.5, not 1)\n- Iterators instead of lists for many functions (range, map, etc.)\n- Removal of old-style classes\n\nThis transition created a long period of dual Python 2.x and 3.x versions. Python 2.7 (released July 2010) became the final 2.x release with extended support until January 1, 2020.\n\nSources: [Doc/whatsnew/2.7.rst:1-50](). [Doc/whatsnew/2.6.rst:1-20]().\n\n## Python 3.x Evolution\n\nLet's examine key milestones in Python 3's development:\n\n### Recent Major Releases\n\n```mermaid\ngraph TD\n    subgraph \"Recent Python Evolution\"\n        py311[\"Python 3.11 (2022)\"]\n        py312[\"Python 3.12 (2023)\"]\n        py313[\"Python 3.13 (2024)\"]\n        py314[\"Python 3.14 (2025)\"]\n        \n        py311 --\u003e py312\n        py312 --\u003e py313\n        py313 --\u003e py314\n        \n        py311 --- a1[\"- Exception groups and except*\"]\n        py311 --- a2[\"- Fine-grained error locations\"]\n        py311 --- a3[\"- Performance: 10-60% faster\"]\n        py311 --- a4[\"- Low impact monitoring API\"]\n        \n        py312 --- b1[\"- Type parameter syntax ([T])\"]\n        py312 --- b2[\"- F-strings in grammar\"]\n        py312 --- b3[\"- Per-interpreter GIL\"]\n        py312 --- b4[\"- Comprehension inlining\"]\n        \n        py313 --- c1[\"- Free-threaded mode (--disable-gil)\"]\n        py313 --- c2[\"- Experimental JIT compiler\"]\n        py313 --- c3[\"- Better interactive interpreter\"]\n        py313 --- c4[\"- Improved error messages with color\"]\n        \n        py314 --- d1[\"- Deferred evaluation of annotations\"]\n        py314 --- d2[\"- Safe external debugger interface\"]\n        py314 --- d3[\"- Python Configuration C API\"]\n        py314 --- d4[\"- Tail call interpreter\"]\n    end\n```\n\nSources: [Doc/whatsnew/3.13.rst:50-120](). [Doc/whatsnew/3.12.rst:55-150](). [Doc/whatsnew/3.11.rst:52-150](). [Doc/whatsnew/3.14.rst:58-120]().\n\n#### Python 3.11 (2022)\n\nMajor improvements in Python 3.11 included:\n\n- Performance: 10-60% faster than Python 3.10 through specialized adaptive interpreter\n- Exception groups and `except*` syntax (PEP 654)\n- Fine-grained error locations in tracebacks\n- Low impact monitoring API (PEP 669)\n\n#### Python 3.12 (2023)\n\nKey features in Python 3.12 included:\n\n- Type parameter syntax and the `type` statement (PEP 695)\n- F-strings formalized in the grammar (PEP 701)\n- Per-interpreter GIL (PEP 684)\n- Comprehension inlining (PEP 709)\n- Buffer protocol access from Python (PEP 688)\n- Removal of distutils (PEP 632)\n\n#### Python 3.13 (2024)\n\nMajor features in Python 3.13 include:\n\n- Free-threaded mode with optional GIL (PEP 703)\n- Experimental JIT compiler\n- Better interactive interpreter with multiline editing\n- Improved error messages with color by default\n- Defined mutation semantics for `locals()` (PEP 667)\n- Mobile platform support (iOS and Android)\n\n#### Python 3.14 (Planned for 2025)\n\nUpcoming features in Python 3.14 include:\n\n- Deferred evaluation of annotations (PEP 649)\n- Safe external debugger interface (PEP 768)\n- Python Configuration C API (PEP 741)\n- Allow `except` and `except*` expressions without parentheses (PEP 758)\n- Tail call interpreter for improved performance\n\nSources: [Doc/whatsnew/3.14.rst:67-400](). [Doc/whatsnew/3.13.rst:97-350](). [Doc/whatsnew/3.12.rst:90-320](). [Doc/whatsnew/3.11.rst:110-350]().\n\n## Stable ABI and Compatibility\n\nThe Stable ABI (Application Binary Interface) was introduced in Python 3.2 (PEP 384) to provide binary compatibility for extension modules across Python versions.\n\n```mermaid\ngraph TD\n    subgraph \"Python Stable ABI Structure\"\n        abi[\"Stable ABI\u003cbr\u003e(ABI/API version-independent layer)\"]\n        types[\"Type Objects\u003cbr\u003e(PyLong_Type, PyBool_Type, etc.)\"]\n        funcs[\"Core Functions\u003cbr\u003e(PyArg_Parse, PyObject_GetAttr, etc.)\"]\n        structs[\"Stable Structures\u003cbr\u003e(PyModuleDef, PyMethodDef, etc.)\"]\n        consts[\"Constants\u003cbr\u003e(Py_tp_dealloc, Py_tp_repr, etc.)\"]\n    end\n    \n    extension[\"C Extension Module\"] --\u003e abi\n    abi --\u003e types\n    abi --\u003e funcs\n    abi --\u003e structs\n    abi --\u003e consts\n    \n    types --\u003e compat[\"Binary Compatibility\u003cbr\u003eAcross Python Versions\"]\n    funcs --\u003e compat\n    structs --\u003e compat\n    consts --\u003e compat\n```\n\nThe Stable ABI includes:\n- Core type objects (`PyLong_Type`, `PyBool_Type`, etc.)\n- Object manipulation functions (`PyObject_GetAttr`, `PyArg_Parse`, etc.)\n- Memory management functions (`Py_INCREF`, `Py_DECREF`, etc.)\n- Extension module APIs (`PyModule_Create`, etc.)\n\nExtensions compiled against the Stable ABI can work across multiple Python versions without recompilation, supporting Python's ecosystem growth.\n\nSources: [Misc/stable_abi.toml:1-100](). [Doc/data/stable_abi.dat:1-100](). [PC/python3dll.c:1-50]().\n\n## Evolution of Core Systems\n\n### Interpreter Execution Pipeline Evolution\n\nThe CPython interpreter execution model has evolved dramatically over recent versions:\n\n```mermaid\ngraph LR\n    subgraph \"Execution Pipeline Evolution\"\n        direction LR\n        py39[\"Python 3.9\u003cbr\u003eVectorcall Protocol\"] --\u003e py311[\"Python 3.11\u003cbr\u003eSpecialized Adaptive Interpreter\u003cbr\u003e(PEP 659)\"]\n        py311 --\u003e py312[\"Python 3.12\u003cbr\u003ePer-interpreter GIL\u003cbr\u003e(PEP 684)\"]\n        py312 --\u003e py313a[\"Python 3.13\u003cbr\u003eFree-threaded Mode\u003cbr\u003e(PEP 703)\"]\n        py313a --\u003e py313b[\"Python 3.13\u003cbr\u003eExperimental JIT Compiler\"]\n        py313b --\u003e py314[\"Python 3.14\u003cbr\u003eTail Call Interpreter\"]\n    end\n```\n\n- **Python 3.11**: Added specialized adaptive interpreter that creates specialized versions of code objects for faster execution (10-60% performance gain)\n- **Python 3.12**: Introduced per-interpreter GIL allowing multiple interpreters to run in parallel\n- **Python 3.13**: Added free-threaded mode option that allows disabling the GIL for true parallel execution\n- **Python 3.13**: Added experimental JIT compiler disabled by default\n- **Python 3.14**: Introducing tail call interpreter for significant performance improvements\n\nSources: [Doc/whatsnew/3.13.rst:300-420](). [Doc/whatsnew/3.14.rst:350-398]().\n\n### Object System Evolution\n\nPython's object system has seen continuous refinement while maintaining compatibility:\n\n- **Python 3.0**: Unified type system, removal of old-style classes\n- **Python 3.8**: Vectorcall protocol for faster function calls\n- **Python 3.11**: Smaller `PyObject` structure (PEP 623)\n- **Python 3.13**: Object support for free threading with per-object mutex\n\nThe core object structure has been extended to support free threading in Python 3.13:\n\n```mermaid\ngraph TD\n    subgraph \"PyObject Structure Evolution\"\n        py38[\"Python 3.12\u003cbr\u003estruct _object {\u003cbr\u003e  ob_refcnt\u003cbr\u003e  ob_type\u003cbr\u003e}\"]\n        py313[\"Python 3.13 Free-threaded\u003cbr\u003estruct _object {\u003cbr\u003e  ob_tid (thread ID)\u003cbr\u003e  ob_flags\u003cbr\u003e  ob_mutex\u003cbr\u003e  ob_gc_bits\u003cbr\u003e  ob_ref_local\u003cbr\u003e  ob_ref_shared\u003cbr\u003e  ob_type\u003cbr\u003e}\"]\n        \n        py38 --\u003e py313\n    end\n```\n\nSources: [Include/object.h:109-164](). [Doc/whatsnew/3.13.rst:300-350]().\n\n## Module Systems and Standard Library Evolution\n\nThe standard library has seen significant evolution:\n\n### Module Removals and Deprecations\n\nPython 3.11 deprecated many legacy modules through PEP 594, which were then removed in Python 3.13:\n\n- Removed modules in 3.13: `aifc`, `audioop`, `cgi`, `cgitb`, `chunk`, `crypt`, `imghdr`, `mailcap`, `msilib`, `nis`, `nntplib`, `ossaudiodev`, `pipes`, `sndhdr`, `spwd`, `sunau`, `telnetlib`, `uu`, `xdrlib`\n- Python 3.12 removed `distutils` (replaced by setuptools and modern packaging tools)\n\n### Standard Library Improvements\n\n- **Python 3.4**: Added `pathlib`, `enum`, and `asyncio`\n- **Python 3.12**: Improved `pathlib` with subclassing support\n- **Python 3.13**: Added `dbm.sqlite3` as default DBM backend\n- **Python 3.13**: Added HMAC implementation using formally verified code\n\nSources: [Doc/whatsnew/3.13.rst:93-101](). [Doc/whatsnew/3.12.rst:112-122](). [Doc/whatsnew/3.11.rst:96-98]().\n\n## Security Improvements\n\nPython has regularly improved its security posture:\n\n- **Python 3.12**: Added safe extraction features to `tarfile` to prevent directory traversal attacks\n- **Python 3.13**: Replaced builtin hash implementations with formally verified HACL* code\n- **Python 3.13**: Added safer defaults for SSL certificate verification\n\nSources: [Doc/whatsnew/3.13.rst:145-148](). [Doc/whatsnew/3.12.rst:126-133]().\n\n## Developer Experience Improvements\n\nPython has continuously enhanced its developer experience:\n\n```mermaid\nflowchart LR\n    subgraph \"Developer Experience Evolution\"\n        direction LR\n        errors[\"Better Error Messages\"] --\u003e tracebacks[\"Fine-grained Tracebacks\u003cbr\u003e(Python 3.11)\"]\n        tracebacks --\u003e color[\"Colored Tracebacks\u003cbr\u003e(Python 3.13)\"]\n        color --\u003e suggestions[\"Intelligent Error Suggestions\u003cbr\u003e(Python 3.12-3.14)\"]\n        \n        interactive[\"Interactive Experience\"] --\u003e pyrepl[\"PyPy-based REPL\u003cbr\u003e(Python 3.13)\"]\n        pyrepl --\u003e assistance[\"Context-sensitive Help\u003cbr\u003e(Python 3.13+)\"]\n    end\n```\n\n- **Python 3.11**: Added fine-grained error locations in tracebacks\n- **Python 3.12**: Improved \"Did you mean...\" suggestions for errors\n- **Python 3.13**: Added colored output for tracebacks and doctest\n- **Python 3.13**: Introduced a better interactive shell with multiline editing\n\nSources: [Doc/whatsnew/3.13.rst:247-284](). [Doc/whatsnew/3.12.rst:427-458](). [Doc/whatsnew/3.11.rst:115-130]().\n\n## Release Pattern Changes\n\nPython's release cadence and support periods have evolved:\n\n- In Python 3.9, PEP 602 established an annual release cycle (instead of 18 months)\n- Python 3.13 extended the full support ('bugfix') period to two years\n- Support timeline:\n  - Python 3.9-3.12: 1.5 years full support + 3.5 years security fixes\n  - Python 3.13 and beyond: 2 years full support + 3 years security fixes\n\nSources: [Doc/whatsnew/3.13.rst:197-205]().\n\n## Future Directions\n\nBased on current developments and discussions, Python's future may include:\n\n- Further refinement of the JIT compiler\n- Expanded support for free threading\n- Enhanced static typing capabilities\n- More performance optimizations through specialized bytecode paths\n- Continued improvements to developer experience and error messaging"])</script><script>self.__next_f.push([1,"16:[\"$\",\"$L17\",null,{\"repoName\":\"python/cpython\",\"wiki\":{\"metadata\":{\"repo_name\":\"python/cpython\",\"commit_hash\":\"ea23c897\",\"generated_at\":\"2025-04-18T05:23:15.357788\"},\"pages\":[{\"page_plan\":{\"id\":\"1\",\"title\":\"Overview\"},\"content\":\"$18\"},{\"page_plan\":{\"id\":\"2\",\"title\":\"Code Execution Pipeline\"},\"content\":\"$19\"},{\"page_plan\":{\"id\":\"2.1\",\"title\":\"Bytecode Interpreter and Optimization\"},\"content\":\"$1a\"},{\"page_plan\":{\"id\":\"2.2\",\"title\":\"Compilation Pipeline\"},\"content\":\"$1b\"},{\"page_plan\":{\"id\":\"3\",\"title\":\"Object System and Memory Management\"},\"content\":\"$1c\"},{\"page_plan\":{\"id\":\"3.1\",\"title\":\"PyObject and Type System\"},\"content\":\"$1d\"},{\"page_plan\":{\"id\":\"3.2\",\"title\":\"Garbage Collection\"},\"content\":\"$1e\"},{\"page_plan\":{\"id\":\"3.3\",\"title\":\"Type Hinting System\"},\"content\":\"$1f\"},{\"page_plan\":{\"id\":\"4\",\"title\":\"Runtime and Thread Management\"},\"content\":\"$20\"},{\"page_plan\":{\"id\":\"4.1\",\"title\":\"Interpreter State and GIL\"},\"content\":\"$21\"},{\"page_plan\":{\"id\":\"4.2\",\"title\":\"Free-Threading and Concurrency\"},\"content\":\"$22\"},{\"page_plan\":{\"id\":\"5\",\"title\":\"Extension Development and C API\"},\"content\":\"$23\"},{\"page_plan\":{\"id\":\"5.1\",\"title\":\"Stable ABI\"},\"content\":\"$24\"},{\"page_plan\":{\"id\":\"5.2\",\"title\":\"Argument Clinic\"},\"content\":\"$25\"},{\"page_plan\":{\"id\":\"5.3\",\"title\":\"C Extension Testing\"},\"content\":\"$26\"},{\"page_plan\":{\"id\":\"6\",\"title\":\"Build System\"},\"content\":\"$27\"},{\"page_plan\":{\"id\":\"6.1\",\"title\":\"Configuration Process\"},\"content\":\"$28\"},{\"page_plan\":{\"id\":\"6.2\",\"title\":\"CI/CD Pipeline\"},\"content\":\"$29\"},{\"page_plan\":{\"id\":\"7\",\"title\":\"Standard Library Highlights\"},\"content\":\"$2a\"},{\"page_plan\":{\"id\":\"7.1\",\"title\":\"Pathlib and Glob\"},\"content\":\"$2b\"},{\"page_plan\":{\"id\":\"7.2\",\"title\":\"OS and File System Access\"},\"content\":\"$2c\"},{\"page_plan\":{\"id\":\"8\",\"title\":\"Development Tools\"},\"content\":\"$2d\"},{\"page_plan\":{\"id\":\"8.1\",\"title\":\"Regression Test Framework\"},\"content\":\"$2e\"},{\"page_plan\":{\"id\":\"8.2\",\"title\":\"Version History and Evolution\"},\"content\":\"$2f\"}]},\"children\":[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]\n"])</script><script>self.__next_f.push([1,"c:null\n10:[[\"$\",\"title\",\"0\",{\"children\":\"python/cpython | DeepWiki\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"This document provides a high-level overview of the CPython codebase, explaining its architecture, main components, and execution flow. CPython is the reference implementation of the Python programmin\"}],[\"$\",\"meta\",\"2\",{\"property\":\"og:title\",\"content\":\"python/cpython | DeepWiki\"}],[\"$\",\"meta\",\"3\",{\"property\":\"og:description\",\"content\":\"This document provides a high-level overview of the CPython codebase, explaining its architecture, main components, and execution flow. CPython is the reference implementation of the Python programmin\"}],[\"$\",\"meta\",\"4\",{\"property\":\"og:url\",\"content\":\"https://deepwiki.com/python/cpython\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:site_name\",\"content\":\"DeepWiki\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:type\",\"content\":\"website\"}],[\"$\",\"meta\",\"7\",{\"name\":\"twitter:card\",\"content\":\"summary\"}],[\"$\",\"meta\",\"8\",{\"name\":\"twitter:title\",\"content\":\"python/cpython | DeepWiki\"}],[\"$\",\"meta\",\"9\",{\"name\":\"twitter:description\",\"content\":\"This document provides a high-level overview of the CPython codebase, explaining its architecture, main components, and execution flow. CPython is the reference implementation of the Python programmin\"}],[\"$\",\"link\",\"10\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"48x48\"}],[\"$\",\"link\",\"11\",{\"rel\":\"icon\",\"href\":\"/icon.png?66aaf51e0e68c818\",\"type\":\"image/png\",\"sizes\":\"16x16\"}],[\"$\",\"link\",\"12\",{\"rel\":\"apple-touch-icon\",\"href\":\"/apple-icon.png?a4f658907db0ab87\",\"type\":\"image/png\",\"sizes\":\"180x180\"}]]\n"])</script></body></html>